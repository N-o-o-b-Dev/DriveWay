var G4=Object.defineProperty;var Y4=(e,t,n)=>t in e?G4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Mg=(e,t,n)=>Y4(e,typeof t!="symbol"?t+"":t,n);function X4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Lg={exports:{}},ec={},Fg={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS;function Q4(){if(VS)return Oe;VS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function _(O,q,ie){this.props=O,this.context=q,this.refs=C,this.updater=ie||y}_.prototype.isReactComponent={},_.prototype.setState=function(O,q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,q,"setState")},_.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=_.prototype;function k(O,q,ie){this.props=O,this.context=q,this.refs=C,this.updater=ie||y}var I=k.prototype=new E;I.constructor=k,w(I,_.prototype),I.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function z(O,q,ie){var ae,Se={},Ie=null,ce=null;if(q!=null)for(ae in q.ref!==void 0&&(ce=q.ref),q.key!==void 0&&(Ie=""+q.key),q)P.call(q,ae)&&!U.hasOwnProperty(ae)&&(Se[ae]=q[ae]);var Le=arguments.length-2;if(Le===1)Se.children=ie;else if(1<Le){for(var K=Array(Le),Ce=0;Ce<Le;Ce++)K[Ce]=arguments[Ce+2];Se.children=K}if(O&&O.defaultProps)for(ae in Le=O.defaultProps,Le)Se[ae]===void 0&&(Se[ae]=Le[ae]);return{$$typeof:e,type:O,key:Ie,ref:ce,props:Se,_owner:A.current}}function Y(O,q){return{$$typeof:e,type:O.type,key:q,ref:O.ref,props:O.props,_owner:O._owner}}function oe(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function M(O){var q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return q[ie]})}var H=/\/+/g;function se(O,q){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):q.toString(36)}function xe(O,q,ie,ae,Se){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var ce=!1;if(O===null)ce=!0;else switch(Ie){case"string":case"number":ce=!0;break;case"object":switch(O.$$typeof){case e:case t:ce=!0}}if(ce)return ce=O,Se=Se(ce),O=ae===""?"."+se(ce,0):ae,j(Se)?(ie="",O!=null&&(ie=O.replace(H,"$&/")+"/"),xe(Se,q,ie,"",function(Ce){return Ce})):Se!=null&&(oe(Se)&&(Se=Y(Se,ie+(!Se.key||ce&&ce.key===Se.key?"":(""+Se.key).replace(H,"$&/")+"/")+O)),q.push(Se)),1;if(ce=0,ae=ae===""?".":ae+":",j(O))for(var Le=0;Le<O.length;Le++){Ie=O[Le];var K=ae+se(Ie,Le);ce+=xe(Ie,q,ie,K,Se)}else if(K=v(O),typeof K=="function")for(O=K.call(O),Le=0;!(Ie=O.next()).done;)Ie=Ie.value,K=ae+se(Ie,Le++),ce+=xe(Ie,q,ie,K,Se);else if(Ie==="object")throw q=String(O),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ce}function G(O,q,ie){if(O==null)return O;var ae=[],Se=0;return xe(O,ae,"","",function(Ie){return q.call(ie,Ie,Se++)}),ae}function fe(O){if(O._status===-1){var q=O._result;q=q(),q.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=q)}if(O._status===1)return O._result.default;throw O._result}var le={current:null},F={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function W(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:G,forEach:function(O,q,ie){G(O,function(){q.apply(this,arguments)},ie)},count:function(O){var q=0;return G(O,function(){q++}),q},toArray:function(O){return G(O,function(q){return q})||[]},only:function(O){if(!oe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=_,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=k,Oe.StrictMode=r,Oe.Suspense=u,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Oe.act=W,Oe.cloneElement=function(O,q,ie){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=w({},O.props),Se=O.key,Ie=O.ref,ce=O._owner;if(q!=null){if(q.ref!==void 0&&(Ie=q.ref,ce=A.current),q.key!==void 0&&(Se=""+q.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(K in q)P.call(q,K)&&!U.hasOwnProperty(K)&&(ae[K]=q[K]===void 0&&Le!==void 0?Le[K]:q[K])}var K=arguments.length-2;if(K===1)ae.children=ie;else if(1<K){Le=Array(K);for(var Ce=0;Ce<K;Ce++)Le[Ce]=arguments[Ce+2];ae.children=Le}return{$$typeof:e,type:O.type,key:Se,ref:Ie,props:ae,_owner:ce}},Oe.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},Oe.createElement=z,Oe.createFactory=function(O){var q=z.bind(null,O);return q.type=O,q},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:c,render:O}},Oe.isValidElement=oe,Oe.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:fe}},Oe.memo=function(O,q){return{$$typeof:f,type:O,compare:q===void 0?null:q}},Oe.startTransition=function(O){var q=F.transition;F.transition={};try{O()}finally{F.transition=q}},Oe.unstable_act=W,Oe.useCallback=function(O,q){return le.current.useCallback(O,q)},Oe.useContext=function(O){return le.current.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O){return le.current.useDeferredValue(O)},Oe.useEffect=function(O,q){return le.current.useEffect(O,q)},Oe.useId=function(){return le.current.useId()},Oe.useImperativeHandle=function(O,q,ie){return le.current.useImperativeHandle(O,q,ie)},Oe.useInsertionEffect=function(O,q){return le.current.useInsertionEffect(O,q)},Oe.useLayoutEffect=function(O,q){return le.current.useLayoutEffect(O,q)},Oe.useMemo=function(O,q){return le.current.useMemo(O,q)},Oe.useReducer=function(O,q,ie){return le.current.useReducer(O,q,ie)},Oe.useRef=function(O){return le.current.useRef(O)},Oe.useState=function(O){return le.current.useState(O)},Oe.useSyncExternalStore=function(O,q,ie){return le.current.useSyncExternalStore(O,q,ie)},Oe.useTransition=function(){return le.current.useTransition()},Oe.version="18.3.1",Oe}var HS;function Ho(){return HS||(HS=1,Fg.exports=Q4()),Fg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function J4(){if(qS)return ec;qS=1;var e=Ho(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,f){var p,m={},v=null,y=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:c,key:v,ref:y,props:m,_owner:i.current}}return ec.Fragment=n,ec.jsx=o,ec.jsxs=o,ec}var KS;function Z4(){return KS||(KS=1,Lg.exports=J4()),Lg.exports}var d=Z4(),b=Ho();const c0=si(b),e3=X4({__proto__:null,default:c0},[b]);var Hd={},$g={exports:{}},On={},zg={exports:{}},Ug={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GS;function t3(){return GS||(GS=1,(function(e){function t(F,te){var W=F.length;F.push(te);e:for(;0<W;){var O=W-1>>>1,q=F[O];if(0<i(q,te))F[O]=te,F[W]=q,W=O;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],W=F.pop();if(W!==te){F[0]=W;e:for(var O=0,q=F.length,ie=q>>>1;O<ie;){var ae=2*(O+1)-1,Se=F[ae],Ie=ae+1,ce=F[Ie];if(0>i(Se,W))Ie<q&&0>i(ce,Se)?(F[O]=ce,F[Ie]=W,O=Ie):(F[O]=Se,F[ae]=W,O=ae);else if(Ie<q&&0>i(ce,W))F[O]=ce,F[Ie]=W,O=Ie;else break e}}return te}function i(F,te){var W=F.sortIndex-te.sortIndex;return W!==0?W:F.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],f=[],p=1,m=null,v=3,y=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(F){for(var te=n(f);te!==null;){if(te.callback===null)r(f);else if(te.startTime<=F)r(f),te.sortIndex=te.expirationTime,t(u,te);else break;te=n(f)}}function j(F){if(C=!1,I(F),!w)if(n(u)!==null)w=!0,fe(P);else{var te=n(f);te!==null&&le(j,te.startTime-F)}}function P(F,te){w=!1,C&&(C=!1,E(z),z=-1),y=!0;var W=v;try{for(I(te),m=n(u);m!==null&&(!(m.expirationTime>te)||F&&!M());){var O=m.callback;if(typeof O=="function"){m.callback=null,v=m.priorityLevel;var q=O(m.expirationTime<=te);te=e.unstable_now(),typeof q=="function"?m.callback=q:m===n(u)&&r(u),I(te)}else r(u);m=n(u)}if(m!==null)var ie=!0;else{var ae=n(f);ae!==null&&le(j,ae.startTime-te),ie=!1}return ie}finally{m=null,v=W,y=!1}}var A=!1,U=null,z=-1,Y=5,oe=-1;function M(){return!(e.unstable_now()-oe<Y)}function H(){if(U!==null){var F=e.unstable_now();oe=F;var te=!0;try{te=U(!0,F)}finally{te?se():(A=!1,U=null)}}else A=!1}var se;if(typeof k=="function")se=function(){k(H)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,G=xe.port2;xe.port1.onmessage=H,se=function(){G.postMessage(null)}}else se=function(){_(H,0)};function fe(F){U=F,A||(A=!0,se())}function le(F,te){z=_(function(){F(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,fe(P))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var W=v;v=te;try{return F()}finally{v=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=v;v=F;try{return te()}finally{v=W}},e.unstable_scheduleCallback=function(F,te,W){var O=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?O+W:O):W=O,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,F={id:p++,callback:te,priorityLevel:F,startTime:W,expirationTime:q,sortIndex:-1},W>O?(F.sortIndex=W,t(f,F),n(u)===null&&F===n(f)&&(C?(E(z),z=-1):C=!0,le(j,W-O))):(F.sortIndex=q,t(u,F),w||y||(w=!0,fe(P))),F},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(F){var te=v;return function(){var W=v;v=te;try{return F.apply(this,arguments)}finally{v=W}}}})(Ug)),Ug}var YS;function n3(){return YS||(YS=1,zg.exports=t3()),zg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function r3(){if(XS)return On;XS=1;var e=Ho(),t=n3();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,h=1;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(a){return u.call(m,a)?!0:u.call(p,a)?!1:f.test(a)?m[a]=!0:(p[a]=!0,!1)}function y(a,l,h,g){if(h!==null&&h.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:h!==null?!h.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,l,h,g){if(l===null||typeof l>"u"||y(a,l,h,g))return!0;if(g)return!1;if(h!==null)switch(h.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(a,l,h,g,x,S,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=h,this.propertyName=a,this.type=l,this.sanitizeURL=S,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new C(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new C(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new C(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new C(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new C(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new C(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new C(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new C(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new C(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function k(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(E,k);_[l]=new C(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(E,k);_[l]=new C(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(E,k);_[l]=new C(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,l,h,g){var x=_.hasOwnProperty(l)?_[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,h,x,g)&&(h=null),g||x===null?v(l)&&(h===null?a.removeAttribute(l):a.setAttribute(l,""+h)):x.mustUseProperty?a[x.propertyName]=h===null?x.type===3?!1:"":h:(l=x.attributeName,g=x.attributeNamespace,h===null?a.removeAttribute(l):(x=x.type,h=x===3||x===4&&h===!0?"":""+h,g?a.setAttributeNS(g,l,h):a.setAttribute(l,h))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),F=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var W=Object.assign,O;function q(a){if(O===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+a}var ie=!1;function ae(a,l){if(!a||ie)return"";ie=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(B){var g=B}Reflect.construct(a,[],l)}else{try{l.call()}catch(B){g=B}a.call(l.prototype)}else{try{throw Error()}catch(B){g=B}a()}}catch(B){if(B&&g&&typeof B.stack=="string"){for(var x=B.stack.split(`
`),S=g.stack.split(`
`),N=x.length-1,T=S.length-1;1<=N&&0<=T&&x[N]!==S[T];)T--;for(;1<=N&&0<=T;N--,T--)if(x[N]!==S[T]){if(N!==1||T!==1)do if(N--,T--,0>T||x[N]!==S[T]){var R=`
`+x[N].replace(" at new "," at ");return a.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",a.displayName)),R}while(1<=N&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=h}return(a=a?a.displayName||a.name:"")?q(a):""}function Se(a){switch(a.tag){case 5:return q(a.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return a=ae(a.type,!1),a;case 11:return a=ae(a.type.render,!1),a;case 1:return a=ae(a.type,!0),a;default:return""}}function Ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case U:return"Fragment";case A:return"Portal";case Y:return"Profiler";case z:return"StrictMode";case se:return"Suspense";case xe:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case M:return(a.displayName||"Context")+".Consumer";case oe:return(a._context.displayName||"Context")+".Provider";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return l=a.displayName||null,l!==null?l:Ie(a.type)||"Memo";case fe:l=a._payload,a=a._init;try{return Ie(a(l))}catch{}}return null}function ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function K(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ce(a){var l=K(a)?"checked":"value",h=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var x=h.get,S=h.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){g=""+N,S.call(this,N)}}),Object.defineProperty(a,l,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Te(a){a._valueTracker||(a._valueTracker=Ce(a))}function Z(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var h=l.getValue(),g="";return a&&(g=K(a)?a.checked?"true":"false":a.value),a=g,a!==h?(l.setValue(a),!0):!1}function jt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function He(a,l){var h=l.checked;return W({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??a._wrapperState.initialChecked})}function un(a,l){var h=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;h=Le(l.value!=null?l.value:h),a._wrapperState={initialChecked:g,initialValue:h,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function dn(a,l){l=l.checked,l!=null&&I(a,"checked",l,!1)}function wr(a,l){dn(a,l);var h=Le(l.value),g=l.type;if(h!=null)g==="number"?(h===0&&a.value===""||a.value!=h)&&(a.value=""+h):a.value!==""+h&&(a.value=""+h);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Hp(a,l.type,h):l.hasOwnProperty("defaultValue")&&Hp(a,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function pl(a,l,h){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,h||l===a.value||(a.value=l),a.defaultValue=l}h=a.name,h!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,h!==""&&(a.name=h)}function Hp(a,l,h){(l!=="number"||jt(a.ownerDocument)!==a)&&(h==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+h&&(a.defaultValue=""+h))}var ml=Array.isArray;function Ma(a,l,h,g){if(a=a.options,l){l={};for(var x=0;x<h.length;x++)l["$"+h[x]]=!0;for(h=0;h<a.length;h++)x=l.hasOwnProperty("$"+a[h].value),a[h].selected!==x&&(a[h].selected=x),x&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Le(h),l=null,x=0;x<a.length;x++){if(a[x].value===h){a[x].selected=!0,g&&(a[x].defaultSelected=!0);return}l!==null||a[x].disabled||(l=a[x])}l!==null&&(l.selected=!0)}}function qp(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function e_(a,l){var h=l.value;if(h==null){if(h=l.children,l=l.defaultValue,h!=null){if(l!=null)throw Error(n(92));if(ml(h)){if(1<h.length)throw Error(n(93));h=h[0]}l=h}l==null&&(l=""),h=l}a._wrapperState={initialValue:Le(h)}}function t_(a,l){var h=Le(l.value),g=Le(l.defaultValue);h!=null&&(h=""+h,h!==a.value&&(a.value=h),l.defaultValue==null&&a.defaultValue!==h&&(a.defaultValue=h)),g!=null&&(a.defaultValue=""+g)}function n_(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function r_(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kp(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?r_(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Lu,i_=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,h,g,x){MSApp.execUnsafeLocalFunction(function(){return a(l,h,g,x)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(Lu=Lu||document.createElement("div"),Lu.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Lu.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function gl(a,l){if(l){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=l;return}}a.textContent=l}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JM=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(a){JM.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),vl[l]=vl[a]})});function s_(a,l,h){return l==null||typeof l=="boolean"||l===""?"":h||typeof l!="number"||l===0||vl.hasOwnProperty(a)&&vl[a]?(""+l).trim():l+"px"}function a_(a,l){a=a.style;for(var h in l)if(l.hasOwnProperty(h)){var g=h.indexOf("--")===0,x=s_(h,l[h],g);h==="float"&&(h="cssFloat"),g?a.setProperty(h,x):a[h]=x}}var ZM=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(a,l){if(l){if(ZM[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Yp(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function Qp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Jp=null,La=null,Fa=null;function o_(a){if(a=$l(a)){if(typeof Jp!="function")throw Error(n(280));var l=a.stateNode;l&&(l=ad(l),Jp(a.stateNode,a.type,l))}}function l_(a){La?Fa?Fa.push(a):Fa=[a]:La=a}function c_(){if(La){var a=La,l=Fa;if(Fa=La=null,o_(a),l)for(a=0;a<l.length;a++)o_(l[a])}}function u_(a,l){return a(l)}function d_(){}var Zp=!1;function f_(a,l,h){if(Zp)return a(l,h);Zp=!0;try{return u_(a,l,h)}finally{Zp=!1,(La!==null||Fa!==null)&&(d_(),c_())}}function yl(a,l){var h=a.stateNode;if(h===null)return null;var g=ad(h);if(g===null)return null;h=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var em=!1;if(c)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){em=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{em=!1}function eL(a,l,h,g,x,S,N,T,R){var B=Array.prototype.slice.call(arguments,3);try{l.apply(h,B)}catch(J){this.onError(J)}}var wl=!1,Fu=null,$u=!1,tm=null,tL={onError:function(a){wl=!0,Fu=a}};function nL(a,l,h,g,x,S,N,T,R){wl=!1,Fu=null,eL.apply(tL,arguments)}function rL(a,l,h,g,x,S,N,T,R){if(nL.apply(this,arguments),wl){if(wl){var B=Fu;wl=!1,Fu=null}else throw Error(n(198));$u||($u=!0,tm=B)}}function $s(a){var l=a,h=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(h=l.return),a=l.return;while(a)}return l.tag===3?h:null}function h_(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function p_(a){if($s(a)!==a)throw Error(n(188))}function iL(a){var l=a.alternate;if(!l){if(l=$s(a),l===null)throw Error(n(188));return l!==a?null:a}for(var h=a,g=l;;){var x=h.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){h=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===h)return p_(x),a;if(S===g)return p_(x),l;S=S.sibling}throw Error(n(188))}if(h.return!==g.return)h=x,g=S;else{for(var N=!1,T=x.child;T;){if(T===h){N=!0,h=x,g=S;break}if(T===g){N=!0,g=x,h=S;break}T=T.sibling}if(!N){for(T=S.child;T;){if(T===h){N=!0,h=S,g=x;break}if(T===g){N=!0,g=S,h=x;break}T=T.sibling}if(!N)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?a:l}function m_(a){return a=iL(a),a!==null?g_(a):null}function g_(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=g_(a);if(l!==null)return l;a=a.sibling}return null}var v_=t.unstable_scheduleCallback,y_=t.unstable_cancelCallback,sL=t.unstable_shouldYield,aL=t.unstable_requestPaint,xt=t.unstable_now,oL=t.unstable_getCurrentPriorityLevel,nm=t.unstable_ImmediatePriority,x_=t.unstable_UserBlockingPriority,zu=t.unstable_NormalPriority,lL=t.unstable_LowPriority,w_=t.unstable_IdlePriority,Uu=null,Kr=null;function cL(a){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(Uu,a,void 0,(a.current.flags&128)===128)}catch{}}var br=Math.clz32?Math.clz32:fL,uL=Math.log,dL=Math.LN2;function fL(a){return a>>>=0,a===0?32:31-(uL(a)/dL|0)|0}var Bu=64,Wu=4194304;function bl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Vu(a,l){var h=a.pendingLanes;if(h===0)return 0;var g=0,x=a.suspendedLanes,S=a.pingedLanes,N=h&268435455;if(N!==0){var T=N&~x;T!==0?g=bl(T):(S&=N,S!==0&&(g=bl(S)))}else N=h&~x,N!==0?g=bl(N):S!==0&&(g=bl(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,S=l&-l,x>=S||x===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=h&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)h=31-br(l),x=1<<h,g|=a[h],l&=~x;return g}function hL(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pL(a,l){for(var h=a.suspendedLanes,g=a.pingedLanes,x=a.expirationTimes,S=a.pendingLanes;0<S;){var N=31-br(S),T=1<<N,R=x[N];R===-1?((T&h)===0||(T&g)!==0)&&(x[N]=hL(T,l)):R<=l&&(a.expiredLanes|=T),S&=~T}}function rm(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function b_(){var a=Bu;return Bu<<=1,(Bu&4194240)===0&&(Bu=64),a}function im(a){for(var l=[],h=0;31>h;h++)l.push(a);return l}function _l(a,l,h){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-br(l),a[l]=h}function mL(a,l){var h=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<h;){var x=31-br(h),S=1<<x;l[x]=0,g[x]=-1,a[x]=-1,h&=~S}}function sm(a,l){var h=a.entangledLanes|=l;for(a=a.entanglements;h;){var g=31-br(h),x=1<<g;x&l|a[g]&l&&(a[g]|=l),h&=~x}}var Ke=0;function __(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var S_,am,C_,E_,k_,om=!1,Hu=[],Qi=null,Ji=null,Zi=null,Sl=new Map,Cl=new Map,es=[],gL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function N_(a,l){switch(a){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Sl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(l.pointerId)}}function El(a,l,h,g,x,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:h,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},l!==null&&(l=$l(l),l!==null&&am(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),a)}function vL(a,l,h,g,x){switch(l){case"focusin":return Qi=El(Qi,a,l,h,g,x),!0;case"dragenter":return Ji=El(Ji,a,l,h,g,x),!0;case"mouseover":return Zi=El(Zi,a,l,h,g,x),!0;case"pointerover":var S=x.pointerId;return Sl.set(S,El(Sl.get(S)||null,a,l,h,g,x)),!0;case"gotpointercapture":return S=x.pointerId,Cl.set(S,El(Cl.get(S)||null,a,l,h,g,x)),!0}return!1}function I_(a){var l=zs(a.target);if(l!==null){var h=$s(l);if(h!==null){if(l=h.tag,l===13){if(l=h_(h),l!==null){a.blockedOn=l,k_(a.priority,function(){C_(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qu(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var h=cm(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Xp=g,h.target.dispatchEvent(g),Xp=null}else return l=$l(h),l!==null&&am(l),a.blockedOn=h,!1;l.shift()}return!0}function P_(a,l,h){qu(a)&&h.delete(l)}function yL(){om=!1,Qi!==null&&qu(Qi)&&(Qi=null),Ji!==null&&qu(Ji)&&(Ji=null),Zi!==null&&qu(Zi)&&(Zi=null),Sl.forEach(P_),Cl.forEach(P_)}function kl(a,l){a.blockedOn===l&&(a.blockedOn=null,om||(om=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,yL)))}function Nl(a){function l(x){return kl(x,a)}if(0<Hu.length){kl(Hu[0],a);for(var h=1;h<Hu.length;h++){var g=Hu[h];g.blockedOn===a&&(g.blockedOn=null)}}for(Qi!==null&&kl(Qi,a),Ji!==null&&kl(Ji,a),Zi!==null&&kl(Zi,a),Sl.forEach(l),Cl.forEach(l),h=0;h<es.length;h++)g=es[h],g.blockedOn===a&&(g.blockedOn=null);for(;0<es.length&&(h=es[0],h.blockedOn===null);)I_(h),h.blockedOn===null&&es.shift()}var $a=j.ReactCurrentBatchConfig,Ku=!0;function xL(a,l,h,g){var x=Ke,S=$a.transition;$a.transition=null;try{Ke=1,lm(a,l,h,g)}finally{Ke=x,$a.transition=S}}function wL(a,l,h,g){var x=Ke,S=$a.transition;$a.transition=null;try{Ke=4,lm(a,l,h,g)}finally{Ke=x,$a.transition=S}}function lm(a,l,h,g){if(Ku){var x=cm(a,l,h,g);if(x===null)km(a,l,g,Gu,h),N_(a,g);else if(vL(x,a,l,h,g))g.stopPropagation();else if(N_(a,g),l&4&&-1<gL.indexOf(a)){for(;x!==null;){var S=$l(x);if(S!==null&&S_(S),S=cm(a,l,h,g),S===null&&km(a,l,g,Gu,h),S===x)break;x=S}x!==null&&g.stopPropagation()}else km(a,l,g,null,h)}}var Gu=null;function cm(a,l,h,g){if(Gu=null,a=Qp(g),a=zs(a),a!==null)if(l=$s(a),l===null)a=null;else if(h=l.tag,h===13){if(a=h_(l),a!==null)return a;a=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Gu=a,null}function j_(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oL()){case nm:return 1;case x_:return 4;case zu:case lL:return 16;case w_:return 536870912;default:return 16}default:return 16}}var ts=null,um=null,Yu=null;function T_(){if(Yu)return Yu;var a,l=um,h=l.length,g,x="value"in ts?ts.value:ts.textContent,S=x.length;for(a=0;a<h&&l[a]===x[a];a++);var N=h-a;for(g=1;g<=N&&l[h-g]===x[S-g];g++);return Yu=x.slice(a,1<g?1-g:void 0)}function Xu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Qu(){return!0}function A_(){return!1}function Wn(a){function l(h,g,x,S,N){this._reactName=h,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(h=a[T],this[T]=h?h(S):S[T]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Qu:A_,this.isPropagationStopped=A_,this}return W(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),l}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Wn(za),Il=W({},za,{view:0,detail:0}),bL=Wn(Il),fm,hm,Pl,Ju=W({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pl&&(Pl&&a.type==="mousemove"?(fm=a.screenX-Pl.screenX,hm=a.screenY-Pl.screenY):hm=fm=0,Pl=a),fm)},movementY:function(a){return"movementY"in a?a.movementY:hm}}),O_=Wn(Ju),_L=W({},Ju,{dataTransfer:0}),SL=Wn(_L),CL=W({},Il,{relatedTarget:0}),pm=Wn(CL),EL=W({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=Wn(EL),NL=W({},za,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),IL=Wn(NL),PL=W({},za,{data:0}),R_=Wn(PL),jL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OL(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=AL[a])?!!l[a]:!1}function mm(){return OL}var RL=W({},Il,{key:function(a){if(a.key){var l=jL[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Xu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?TL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mm,charCode:function(a){return a.type==="keypress"?Xu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Xu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),DL=Wn(RL),ML=W({},Ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D_=Wn(ML),LL=W({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mm}),FL=Wn(LL),$L=W({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),zL=Wn($L),UL=W({},Ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),BL=Wn(UL),WL=[9,13,27,32],gm=c&&"CompositionEvent"in window,jl=null;c&&"documentMode"in document&&(jl=document.documentMode);var VL=c&&"TextEvent"in window&&!jl,M_=c&&(!gm||jl&&8<jl&&11>=jl),L_=" ",F_=!1;function $_(a,l){switch(a){case"keyup":return WL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function z_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ua=!1;function HL(a,l){switch(a){case"compositionend":return z_(l);case"keypress":return l.which!==32?null:(F_=!0,L_);case"textInput":return a=l.data,a===L_&&F_?null:a;default:return null}}function qL(a,l){if(Ua)return a==="compositionend"||!gm&&$_(a,l)?(a=T_(),Yu=um=ts=null,Ua=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return M_&&l.locale!=="ko"?null:l.data;default:return null}}var KL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function U_(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!KL[a.type]:l==="textarea"}function B_(a,l,h,g){l_(g),l=rd(l,"onChange"),0<l.length&&(h=new dm("onChange","change",null,h,g),a.push({event:h,listeners:l}))}var Tl=null,Al=null;function GL(a){a1(a,0)}function Zu(a){var l=qa(a);if(Z(l))return a}function YL(a,l){if(a==="change")return l}var W_=!1;if(c){var vm;if(c){var ym="oninput"in document;if(!ym){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),ym=typeof V_.oninput=="function"}vm=ym}else vm=!1;W_=vm&&(!document.documentMode||9<document.documentMode)}function H_(){Tl&&(Tl.detachEvent("onpropertychange",q_),Al=Tl=null)}function q_(a){if(a.propertyName==="value"&&Zu(Al)){var l=[];B_(l,Al,a,Qp(a)),f_(GL,l)}}function XL(a,l,h){a==="focusin"?(H_(),Tl=l,Al=h,Tl.attachEvent("onpropertychange",q_)):a==="focusout"&&H_()}function QL(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Zu(Al)}function JL(a,l){if(a==="click")return Zu(l)}function ZL(a,l){if(a==="input"||a==="change")return Zu(l)}function e4(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var _r=typeof Object.is=="function"?Object.is:e4;function Ol(a,l){if(_r(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var h=Object.keys(a),g=Object.keys(l);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var x=h[g];if(!u.call(l,x)||!_r(a[x],l[x]))return!1}return!0}function K_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function G_(a,l){var h=K_(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=l&&g>=l)return{node:h,offset:l-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=K_(h)}}function Y_(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Y_(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function X_(){for(var a=window,l=jt();l instanceof a.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)a=l.contentWindow;else break;l=jt(a.document)}return l}function xm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function t4(a){var l=X_(),h=a.focusedElem,g=a.selectionRange;if(l!==h&&h&&h.ownerDocument&&Y_(h.ownerDocument.documentElement,h)){if(g!==null&&xm(h)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in h)h.selectionStart=l,h.selectionEnd=Math.min(a,h.value.length);else if(a=(l=h.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var x=h.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!a.extend&&S>g&&(x=g,g=S,S=x),x=G_(h,S);var N=G_(h,g);x&&N&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),a.removeAllRanges(),S>g?(a.addRange(l),a.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),a.addRange(l)))}}for(l=[],a=h;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<l.length;h++)a=l[h],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var n4=c&&"documentMode"in document&&11>=document.documentMode,Ba=null,wm=null,Rl=null,bm=!1;function Q_(a,l,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;bm||Ba==null||Ba!==jt(g)||(g=Ba,"selectionStart"in g&&xm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Rl&&Ol(Rl,g)||(Rl=g,g=rd(wm,"onSelect"),0<g.length&&(l=new dm("onSelect","select",null,l,h),a.push({event:l,listeners:g}),l.target=Ba)))}function ed(a,l){var h={};return h[a.toLowerCase()]=l.toLowerCase(),h["Webkit"+a]="webkit"+l,h["Moz"+a]="moz"+l,h}var Wa={animationend:ed("Animation","AnimationEnd"),animationiteration:ed("Animation","AnimationIteration"),animationstart:ed("Animation","AnimationStart"),transitionend:ed("Transition","TransitionEnd")},_m={},J_={};c&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function td(a){if(_m[a])return _m[a];if(!Wa[a])return a;var l=Wa[a],h;for(h in l)if(l.hasOwnProperty(h)&&h in J_)return _m[a]=l[h];return a}var Z_=td("animationend"),e1=td("animationiteration"),t1=td("animationstart"),n1=td("transitionend"),r1=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(a,l){r1.set(a,l),s(l,[a])}for(var Sm=0;Sm<i1.length;Sm++){var Cm=i1[Sm],r4=Cm.toLowerCase(),i4=Cm[0].toUpperCase()+Cm.slice(1);ns(r4,"on"+i4)}ns(Z_,"onAnimationEnd"),ns(e1,"onAnimationIteration"),ns(t1,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(n1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dl));function s1(a,l,h){var g=a.type||"unknown-event";a.currentTarget=h,rL(g,l,void 0,a),a.currentTarget=null}function a1(a,l){l=(l&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],x=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var N=g.length-1;0<=N;N--){var T=g[N],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==S&&x.isPropagationStopped())break e;s1(x,T,B),S=R}else for(N=0;N<g.length;N++){if(T=g[N],R=T.instance,B=T.currentTarget,T=T.listener,R!==S&&x.isPropagationStopped())break e;s1(x,T,B),S=R}}}if($u)throw a=tm,$u=!1,tm=null,a}function st(a,l){var h=l[Am];h===void 0&&(h=l[Am]=new Set);var g=a+"__bubble";h.has(g)||(o1(l,a,2,!1),h.add(g))}function Em(a,l,h){var g=0;l&&(g|=4),o1(h,a,g,l)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Ml(a){if(!a[nd]){a[nd]=!0,r.forEach(function(h){h!=="selectionchange"&&(s4.has(h)||Em(h,!1,a),Em(h,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[nd]||(l[nd]=!0,Em("selectionchange",!1,l))}}function o1(a,l,h,g){switch(j_(l)){case 1:var x=xL;break;case 4:x=wL;break;default:x=lm}h=x.bind(null,l,h,a),x=void 0,!em||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?a.addEventListener(l,h,{capture:!0,passive:x}):a.addEventListener(l,h,!0):x!==void 0?a.addEventListener(l,h,{passive:x}):a.addEventListener(l,h,!1)}function km(a,l,h,g,x){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var T=g.stateNode.containerInfo;if(T===x||T.nodeType===8&&T.parentNode===x)break;if(N===4)for(N=g.return;N!==null;){var R=N.tag;if((R===3||R===4)&&(R=N.stateNode.containerInfo,R===x||R.nodeType===8&&R.parentNode===x))return;N=N.return}for(;T!==null;){if(N=zs(T),N===null)return;if(R=N.tag,R===5||R===6){g=S=N;continue e}T=T.parentNode}}g=g.return}f_(function(){var B=S,J=Qp(h),ee=[];e:{var Q=r1.get(a);if(Q!==void 0){var ue=dm,ge=a;switch(a){case"keypress":if(Xu(h)===0)break e;case"keydown":case"keyup":ue=DL;break;case"focusin":ge="focus",ue=pm;break;case"focusout":ge="blur",ue=pm;break;case"beforeblur":case"afterblur":ue=pm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=O_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=SL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=FL;break;case Z_:case e1:case t1:ue=kL;break;case n1:ue=zL;break;case"scroll":ue=bL;break;case"wheel":ue=BL;break;case"copy":case"cut":case"paste":ue=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=D_}var we=(l&4)!==0,wt=!we&&a==="scroll",L=we?Q!==null?Q+"Capture":null:Q;we=[];for(var D=B,$;D!==null;){$=D;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,L!==null&&(ne=yl(D,L),ne!=null&&we.push(Ll(D,ne,$)))),wt)break;D=D.return}0<we.length&&(Q=new ue(Q,ge,null,h,J),ee.push({event:Q,listeners:we}))}}if((l&7)===0){e:{if(Q=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",Q&&h!==Xp&&(ge=h.relatedTarget||h.fromElement)&&(zs(ge)||ge[ui]))break e;if((ue||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,ue?(ge=h.relatedTarget||h.toElement,ue=B,ge=ge?zs(ge):null,ge!==null&&(wt=$s(ge),ge!==wt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(ue=null,ge=B),ue!==ge)){if(we=O_,ne="onMouseLeave",L="onMouseEnter",D="mouse",(a==="pointerout"||a==="pointerover")&&(we=D_,ne="onPointerLeave",L="onPointerEnter",D="pointer"),wt=ue==null?Q:qa(ue),$=ge==null?Q:qa(ge),Q=new we(ne,D+"leave",ue,h,J),Q.target=wt,Q.relatedTarget=$,ne=null,zs(J)===B&&(we=new we(L,D+"enter",ge,h,J),we.target=$,we.relatedTarget=wt,ne=we),wt=ne,ue&&ge)t:{for(we=ue,L=ge,D=0,$=we;$;$=Va($))D++;for($=0,ne=L;ne;ne=Va(ne))$++;for(;0<D-$;)we=Va(we),D--;for(;0<$-D;)L=Va(L),$--;for(;D--;){if(we===L||L!==null&&we===L.alternate)break t;we=Va(we),L=Va(L)}we=null}else we=null;ue!==null&&l1(ee,Q,ue,we,!1),ge!==null&&wt!==null&&l1(ee,wt,ge,we,!0)}}e:{if(Q=B?qa(B):window,ue=Q.nodeName&&Q.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Q.type==="file")var be=YL;else if(U_(Q))if(W_)be=ZL;else{be=QL;var ke=XL}else(ue=Q.nodeName)&&ue.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(be=JL);if(be&&(be=be(a,B))){B_(ee,be,h,J);break e}ke&&ke(a,Q,B),a==="focusout"&&(ke=Q._wrapperState)&&ke.controlled&&Q.type==="number"&&Hp(Q,"number",Q.value)}switch(ke=B?qa(B):window,a){case"focusin":(U_(ke)||ke.contentEditable==="true")&&(Ba=ke,wm=B,Rl=null);break;case"focusout":Rl=wm=Ba=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Q_(ee,h,J);break;case"selectionchange":if(n4)break;case"keydown":case"keyup":Q_(ee,h,J)}var Ne;if(gm)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Ua?$_(a,h)&&(je="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(je="onCompositionStart");je&&(M_&&h.locale!=="ko"&&(Ua||je!=="onCompositionStart"?je==="onCompositionEnd"&&Ua&&(Ne=T_()):(ts=J,um="value"in ts?ts.value:ts.textContent,Ua=!0)),ke=rd(B,je),0<ke.length&&(je=new R_(je,a,null,h,J),ee.push({event:je,listeners:ke}),Ne?je.data=Ne:(Ne=z_(h),Ne!==null&&(je.data=Ne)))),(Ne=VL?HL(a,h):qL(a,h))&&(B=rd(B,"onBeforeInput"),0<B.length&&(J=new R_("onBeforeInput","beforeinput",null,h,J),ee.push({event:J,listeners:B}),J.data=Ne))}a1(ee,l)})}function Ll(a,l,h){return{instance:a,listener:l,currentTarget:h}}function rd(a,l){for(var h=l+"Capture",g=[];a!==null;){var x=a,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=yl(a,h),S!=null&&g.unshift(Ll(a,S,x)),S=yl(a,l),S!=null&&g.push(Ll(a,S,x))),a=a.return}return g}function Va(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function l1(a,l,h,g,x){for(var S=l._reactName,N=[];h!==null&&h!==g;){var T=h,R=T.alternate,B=T.stateNode;if(R!==null&&R===g)break;T.tag===5&&B!==null&&(T=B,x?(R=yl(h,S),R!=null&&N.unshift(Ll(h,R,T))):x||(R=yl(h,S),R!=null&&N.push(Ll(h,R,T)))),h=h.return}N.length!==0&&a.push({event:l,listeners:N})}var a4=/\r\n?/g,o4=/\u0000|\uFFFD/g;function c1(a){return(typeof a=="string"?a:""+a).replace(a4,`
`).replace(o4,"")}function id(a,l,h){if(l=c1(l),c1(a)!==l&&h)throw Error(n(425))}function sd(){}var Nm=null,Im=null;function Pm(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var jm=typeof setTimeout=="function"?setTimeout:void 0,l4=typeof clearTimeout=="function"?clearTimeout:void 0,u1=typeof Promise=="function"?Promise:void 0,c4=typeof queueMicrotask=="function"?queueMicrotask:typeof u1<"u"?function(a){return u1.resolve(null).then(a).catch(u4)}:jm;function u4(a){setTimeout(function(){throw a})}function Tm(a,l){var h=l,g=0;do{var x=h.nextSibling;if(a.removeChild(h),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(g===0){a.removeChild(x),Nl(l);return}g--}else h!=="$"&&h!=="$?"&&h!=="$!"||g++;h=x}while(h);Nl(l)}function rs(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function d1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"){if(l===0)return a;l--}else h==="/$"&&l++}a=a.previousSibling}return null}var Ha=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Ha,Fl="__reactProps$"+Ha,ui="__reactContainer$"+Ha,Am="__reactEvents$"+Ha,d4="__reactListeners$"+Ha,f4="__reactHandles$"+Ha;function zs(a){var l=a[Gr];if(l)return l;for(var h=a.parentNode;h;){if(l=h[ui]||h[Gr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(a=d1(a);a!==null;){if(h=a[Gr])return h;a=d1(a)}return l}a=h,h=a.parentNode}return null}function $l(a){return a=a[Gr]||a[ui],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function ad(a){return a[Fl]||null}var Om=[],Ka=-1;function is(a){return{current:a}}function at(a){0>Ka||(a.current=Om[Ka],Om[Ka]=null,Ka--)}function Ze(a,l){Ka++,Om[Ka]=a.current,a.current=l}var ss={},fn=is(ss),In=is(!1),Us=ss;function Ga(a,l){var h=a.type.contextTypes;if(!h)return ss;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in h)x[S]=l[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function Pn(a){return a=a.childContextTypes,a!=null}function od(){at(In),at(fn)}function f1(a,l,h){if(fn.current!==ss)throw Error(n(168));Ze(fn,l),Ze(In,h)}function h1(a,l,h){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return h;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(n(108,ce(a)||"Unknown",x));return W({},h,g)}function ld(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ss,Us=fn.current,Ze(fn,a),Ze(In,In.current),!0}function p1(a,l,h){var g=a.stateNode;if(!g)throw Error(n(169));h?(a=h1(a,l,Us),g.__reactInternalMemoizedMergedChildContext=a,at(In),at(fn),Ze(fn,a)):at(In),Ze(In,h)}var di=null,cd=!1,Rm=!1;function m1(a){di===null?di=[a]:di.push(a)}function h4(a){cd=!0,m1(a)}function as(){if(!Rm&&di!==null){Rm=!0;var a=0,l=Ke;try{var h=di;for(Ke=1;a<h.length;a++){var g=h[a];do g=g(!0);while(g!==null)}di=null,cd=!1}catch(x){throw di!==null&&(di=di.slice(a+1)),v_(nm,as),x}finally{Ke=l,Rm=!1}}return null}var Ya=[],Xa=0,ud=null,dd=0,nr=[],rr=0,Bs=null,fi=1,hi="";function Ws(a,l){Ya[Xa++]=dd,Ya[Xa++]=ud,ud=a,dd=l}function g1(a,l,h){nr[rr++]=fi,nr[rr++]=hi,nr[rr++]=Bs,Bs=a;var g=fi;a=hi;var x=32-br(g)-1;g&=~(1<<x),h+=1;var S=32-br(l)+x;if(30<S){var N=x-x%5;S=(g&(1<<N)-1).toString(32),g>>=N,x-=N,fi=1<<32-br(l)+x|h<<x|g,hi=S+a}else fi=1<<S|h<<x|g,hi=a}function Dm(a){a.return!==null&&(Ws(a,1),g1(a,1,0))}function Mm(a){for(;a===ud;)ud=Ya[--Xa],Ya[Xa]=null,dd=Ya[--Xa],Ya[Xa]=null;for(;a===Bs;)Bs=nr[--rr],nr[rr]=null,hi=nr[--rr],nr[rr]=null,fi=nr[--rr],nr[rr]=null}var Vn=null,Hn=null,lt=!1,Sr=null;function v1(a,l){var h=or(5,null,null,0);h.elementType="DELETED",h.stateNode=l,h.return=a,l=a.deletions,l===null?(a.deletions=[h],a.flags|=16):l.push(h)}function y1(a,l){switch(a.tag){case 5:var h=a.type;return l=l.nodeType!==1||h.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Vn=a,Hn=rs(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Vn=a,Hn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(h=Bs!==null?{id:fi,overflow:hi}:null,a.memoizedState={dehydrated:l,treeContext:h,retryLane:1073741824},h=or(18,null,null,0),h.stateNode=l,h.return=a,a.child=h,Vn=a,Hn=null,!0):!1;default:return!1}}function Lm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Fm(a){if(lt){var l=Hn;if(l){var h=l;if(!y1(a,l)){if(Lm(a))throw Error(n(418));l=rs(h.nextSibling);var g=Vn;l&&y1(a,l)?v1(g,h):(a.flags=a.flags&-4097|2,lt=!1,Vn=a)}}else{if(Lm(a))throw Error(n(418));a.flags=a.flags&-4097|2,lt=!1,Vn=a}}}function x1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Vn=a}function fd(a){if(a!==Vn)return!1;if(!lt)return x1(a),lt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Pm(a.type,a.memoizedProps)),l&&(l=Hn)){if(Lm(a))throw w1(),Error(n(418));for(;l;)v1(a,l),l=rs(l.nextSibling)}if(x1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"){if(l===0){Hn=rs(a.nextSibling);break e}l--}else h!=="$"&&h!=="$!"&&h!=="$?"||l++}a=a.nextSibling}Hn=null}}else Hn=Vn?rs(a.stateNode.nextSibling):null;return!0}function w1(){for(var a=Hn;a;)a=rs(a.nextSibling)}function Qa(){Hn=Vn=null,lt=!1}function $m(a){Sr===null?Sr=[a]:Sr.push(a)}var p4=j.ReactCurrentBatchConfig;function zl(a,l,h){if(a=h.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var g=h.stateNode}if(!g)throw Error(n(147,a));var x=g,S=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(N){var T=x.refs;N===null?delete T[S]:T[S]=N},l._stringRef=S,l)}if(typeof a!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,a))}return a}function hd(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function b1(a){var l=a._init;return l(a._payload)}function _1(a){function l(L,D){if(a){var $=L.deletions;$===null?(L.deletions=[D],L.flags|=16):$.push(D)}}function h(L,D){if(!a)return null;for(;D!==null;)l(L,D),D=D.sibling;return null}function g(L,D){for(L=new Map;D!==null;)D.key!==null?L.set(D.key,D):L.set(D.index,D),D=D.sibling;return L}function x(L,D){return L=ps(L,D),L.index=0,L.sibling=null,L}function S(L,D,$){return L.index=$,a?($=L.alternate,$!==null?($=$.index,$<D?(L.flags|=2,D):$):(L.flags|=2,D)):(L.flags|=1048576,D)}function N(L){return a&&L.alternate===null&&(L.flags|=2),L}function T(L,D,$,ne){return D===null||D.tag!==6?(D=jg($,L.mode,ne),D.return=L,D):(D=x(D,$),D.return=L,D)}function R(L,D,$,ne){var be=$.type;return be===U?J(L,D,$.props.children,ne,$.key):D!==null&&(D.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&b1(be)===D.type)?(ne=x(D,$.props),ne.ref=zl(L,D,$),ne.return=L,ne):(ne=Ld($.type,$.key,$.props,null,L.mode,ne),ne.ref=zl(L,D,$),ne.return=L,ne)}function B(L,D,$,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=Tg($,L.mode,ne),D.return=L,D):(D=x(D,$.children||[]),D.return=L,D)}function J(L,D,$,ne,be){return D===null||D.tag!==7?(D=Qs($,L.mode,ne,be),D.return=L,D):(D=x(D,$),D.return=L,D)}function ee(L,D,$){if(typeof D=="string"&&D!==""||typeof D=="number")return D=jg(""+D,L.mode,$),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return $=Ld(D.type,D.key,D.props,null,L.mode,$),$.ref=zl(L,null,D),$.return=L,$;case A:return D=Tg(D,L.mode,$),D.return=L,D;case fe:var ne=D._init;return ee(L,ne(D._payload),$)}if(ml(D)||te(D))return D=Qs(D,L.mode,$,null),D.return=L,D;hd(L,D)}return null}function Q(L,D,$,ne){var be=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return be!==null?null:T(L,D,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return $.key===be?R(L,D,$,ne):null;case A:return $.key===be?B(L,D,$,ne):null;case fe:return be=$._init,Q(L,D,be($._payload),ne)}if(ml($)||te($))return be!==null?null:J(L,D,$,ne,null);hd(L,$)}return null}function ue(L,D,$,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get($)||null,T(D,L,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:return L=L.get(ne.key===null?$:ne.key)||null,R(D,L,ne,be);case A:return L=L.get(ne.key===null?$:ne.key)||null,B(D,L,ne,be);case fe:var ke=ne._init;return ue(L,D,$,ke(ne._payload),be)}if(ml(ne)||te(ne))return L=L.get($)||null,J(D,L,ne,be,null);hd(D,ne)}return null}function ge(L,D,$,ne){for(var be=null,ke=null,Ne=D,je=D=0,Ht=null;Ne!==null&&je<$.length;je++){Ne.index>je?(Ht=Ne,Ne=null):Ht=Ne.sibling;var Be=Q(L,Ne,$[je],ne);if(Be===null){Ne===null&&(Ne=Ht);break}a&&Ne&&Be.alternate===null&&l(L,Ne),D=S(Be,D,je),ke===null?be=Be:ke.sibling=Be,ke=Be,Ne=Ht}if(je===$.length)return h(L,Ne),lt&&Ws(L,je),be;if(Ne===null){for(;je<$.length;je++)Ne=ee(L,$[je],ne),Ne!==null&&(D=S(Ne,D,je),ke===null?be=Ne:ke.sibling=Ne,ke=Ne);return lt&&Ws(L,je),be}for(Ne=g(L,Ne);je<$.length;je++)Ht=ue(Ne,L,je,$[je],ne),Ht!==null&&(a&&Ht.alternate!==null&&Ne.delete(Ht.key===null?je:Ht.key),D=S(Ht,D,je),ke===null?be=Ht:ke.sibling=Ht,ke=Ht);return a&&Ne.forEach(function(ms){return l(L,ms)}),lt&&Ws(L,je),be}function we(L,D,$,ne){var be=te($);if(typeof be!="function")throw Error(n(150));if($=be.call($),$==null)throw Error(n(151));for(var ke=be=null,Ne=D,je=D=0,Ht=null,Be=$.next();Ne!==null&&!Be.done;je++,Be=$.next()){Ne.index>je?(Ht=Ne,Ne=null):Ht=Ne.sibling;var ms=Q(L,Ne,Be.value,ne);if(ms===null){Ne===null&&(Ne=Ht);break}a&&Ne&&ms.alternate===null&&l(L,Ne),D=S(ms,D,je),ke===null?be=ms:ke.sibling=ms,ke=ms,Ne=Ht}if(Be.done)return h(L,Ne),lt&&Ws(L,je),be;if(Ne===null){for(;!Be.done;je++,Be=$.next())Be=ee(L,Be.value,ne),Be!==null&&(D=S(Be,D,je),ke===null?be=Be:ke.sibling=Be,ke=Be);return lt&&Ws(L,je),be}for(Ne=g(L,Ne);!Be.done;je++,Be=$.next())Be=ue(Ne,L,je,Be.value,ne),Be!==null&&(a&&Be.alternate!==null&&Ne.delete(Be.key===null?je:Be.key),D=S(Be,D,je),ke===null?be=Be:ke.sibling=Be,ke=Be);return a&&Ne.forEach(function(K4){return l(L,K4)}),lt&&Ws(L,je),be}function wt(L,D,$,ne){if(typeof $=="object"&&$!==null&&$.type===U&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case P:e:{for(var be=$.key,ke=D;ke!==null;){if(ke.key===be){if(be=$.type,be===U){if(ke.tag===7){h(L,ke.sibling),D=x(ke,$.props.children),D.return=L,L=D;break e}}else if(ke.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&b1(be)===ke.type){h(L,ke.sibling),D=x(ke,$.props),D.ref=zl(L,ke,$),D.return=L,L=D;break e}h(L,ke);break}else l(L,ke);ke=ke.sibling}$.type===U?(D=Qs($.props.children,L.mode,ne,$.key),D.return=L,L=D):(ne=Ld($.type,$.key,$.props,null,L.mode,ne),ne.ref=zl(L,D,$),ne.return=L,L=ne)}return N(L);case A:e:{for(ke=$.key;D!==null;){if(D.key===ke)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){h(L,D.sibling),D=x(D,$.children||[]),D.return=L,L=D;break e}else{h(L,D);break}else l(L,D);D=D.sibling}D=Tg($,L.mode,ne),D.return=L,L=D}return N(L);case fe:return ke=$._init,wt(L,D,ke($._payload),ne)}if(ml($))return ge(L,D,$,ne);if(te($))return we(L,D,$,ne);hd(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,D!==null&&D.tag===6?(h(L,D.sibling),D=x(D,$),D.return=L,L=D):(h(L,D),D=jg($,L.mode,ne),D.return=L,L=D),N(L)):h(L,D)}return wt}var Ja=_1(!0),S1=_1(!1),pd=is(null),md=null,Za=null,zm=null;function Um(){zm=Za=md=null}function Bm(a){var l=pd.current;at(pd),a._currentValue=l}function Wm(a,l,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===h)break;a=a.return}}function eo(a,l){md=a,zm=Za=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(jn=!0),a.firstContext=null)}function ir(a){var l=a._currentValue;if(zm!==a)if(a={context:a,memoizedValue:l,next:null},Za===null){if(md===null)throw Error(n(308));Za=a,md.dependencies={lanes:0,firstContext:a}}else Za=Za.next=a;return l}var Vs=null;function Vm(a){Vs===null?Vs=[a]:Vs.push(a)}function C1(a,l,h,g){var x=l.interleaved;return x===null?(h.next=h,Vm(l)):(h.next=x.next,x.next=h),l.interleaved=h,pi(a,g)}function pi(a,l){a.lanes|=l;var h=a.alternate;for(h!==null&&(h.lanes|=l),h=a,a=a.return;a!==null;)a.childLanes|=l,h=a.alternate,h!==null&&(h.childLanes|=l),h=a,a=a.return;return h.tag===3?h.stateNode:null}var os=!1;function Hm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function mi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ls(a,l,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ue&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,pi(a,h)}return x=g.interleaved,x===null?(l.next=l,Vm(g)):(l.next=x.next,x.next=l),g.interleaved=l,pi(a,h)}function gd(a,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,sm(a,h)}}function k1(a,l){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var x=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var N={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};S===null?x=S=N:S=S.next=N,h=h.next}while(h!==null);S===null?x=S=l:S=S.next=l}else x=S=l;h={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=l:a.next=l,h.lastBaseUpdate=l}function vd(a,l,h,g){var x=a.updateQueue;os=!1;var S=x.firstBaseUpdate,N=x.lastBaseUpdate,T=x.shared.pending;if(T!==null){x.shared.pending=null;var R=T,B=R.next;R.next=null,N===null?S=B:N.next=B,N=R;var J=a.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==N&&(T===null?J.firstBaseUpdate=B:T.next=B,J.lastBaseUpdate=R))}if(S!==null){var ee=x.baseState;N=0,J=B=R=null,T=S;do{var Q=T.lane,ue=T.eventTime;if((g&Q)===Q){J!==null&&(J=J.next={eventTime:ue,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ge=a,we=T;switch(Q=l,ue=h,we.tag){case 1:if(ge=we.payload,typeof ge=="function"){ee=ge.call(ue,ee,Q);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,Q=typeof ge=="function"?ge.call(ue,ee,Q):ge,Q==null)break e;ee=W({},ee,Q);break e;case 2:os=!0}}T.callback!==null&&T.lane!==0&&(a.flags|=64,Q=x.effects,Q===null?x.effects=[T]:Q.push(T))}else ue={eventTime:ue,lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(B=J=ue,R=ee):J=J.next=ue,N|=Q;if(T=T.next,T===null){if(T=x.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,x.lastBaseUpdate=Q,x.shared.pending=null}}while(!0);if(J===null&&(R=ee),x.baseState=R,x.firstBaseUpdate=B,x.lastBaseUpdate=J,l=x.shared.interleaved,l!==null){x=l;do N|=x.lane,x=x.next;while(x!==l)}else S===null&&(x.shared.lanes=0);Ks|=N,a.lanes=N,a.memoizedState=ee}}function N1(a,l,h){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],x=g.callback;if(x!==null){if(g.callback=null,g=h,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Ul={},Yr=is(Ul),Bl=is(Ul),Wl=is(Ul);function Hs(a){if(a===Ul)throw Error(n(174));return a}function qm(a,l){switch(Ze(Wl,l),Ze(Bl,a),Ze(Yr,Ul),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Kp(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Kp(l,a)}at(Yr),Ze(Yr,l)}function to(){at(Yr),at(Bl),at(Wl)}function I1(a){Hs(Wl.current);var l=Hs(Yr.current),h=Kp(l,a.type);l!==h&&(Ze(Bl,a),Ze(Yr,h))}function Km(a){Bl.current===a&&(at(Yr),at(Bl))}var ht=is(0);function yd(a){for(var l=a;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Gm=[];function Ym(){for(var a=0;a<Gm.length;a++)Gm[a]._workInProgressVersionPrimary=null;Gm.length=0}var xd=j.ReactCurrentDispatcher,Xm=j.ReactCurrentBatchConfig,qs=0,pt=null,Tt=null,Wt=null,wd=!1,Vl=!1,Hl=0,m4=0;function hn(){throw Error(n(321))}function Qm(a,l){if(l===null)return!1;for(var h=0;h<l.length&&h<a.length;h++)if(!_r(a[h],l[h]))return!1;return!0}function Jm(a,l,h,g,x,S){if(qs=S,pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,xd.current=a===null||a.memoizedState===null?x4:w4,a=h(g,x),Vl){S=0;do{if(Vl=!1,Hl=0,25<=S)throw Error(n(301));S+=1,Wt=Tt=null,l.updateQueue=null,xd.current=b4,a=h(g,x)}while(Vl)}if(xd.current=Sd,l=Tt!==null&&Tt.next!==null,qs=0,Wt=Tt=pt=null,wd=!1,l)throw Error(n(300));return a}function Zm(){var a=Hl!==0;return Hl=0,a}function Xr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?pt.memoizedState=Wt=a:Wt=Wt.next=a,Wt}function sr(){if(Tt===null){var a=pt.alternate;a=a!==null?a.memoizedState:null}else a=Tt.next;var l=Wt===null?pt.memoizedState:Wt.next;if(l!==null)Wt=l,Tt=a;else{if(a===null)throw Error(n(310));Tt=a,a={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Wt===null?pt.memoizedState=Wt=a:Wt=Wt.next=a}return Wt}function ql(a,l){return typeof l=="function"?l(a):l}function eg(a){var l=sr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=Tt,x=g.baseQueue,S=h.pending;if(S!==null){if(x!==null){var N=x.next;x.next=S.next,S.next=N}g.baseQueue=x=S,h.pending=null}if(x!==null){S=x.next,g=g.baseState;var T=N=null,R=null,B=S;do{var J=B.lane;if((qs&J)===J)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),g=B.hasEagerState?B.eagerState:a(g,B.action);else{var ee={lane:J,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(T=R=ee,N=g):R=R.next=ee,pt.lanes|=J,Ks|=J}B=B.next}while(B!==null&&B!==S);R===null?N=g:R.next=T,_r(g,l.memoizedState)||(jn=!0),l.memoizedState=g,l.baseState=N,l.baseQueue=R,h.lastRenderedState=g}if(a=h.interleaved,a!==null){x=a;do S=x.lane,pt.lanes|=S,Ks|=S,x=x.next;while(x!==a)}else x===null&&(h.lanes=0);return[l.memoizedState,h.dispatch]}function tg(a){var l=sr(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=a;var g=h.dispatch,x=h.pending,S=l.memoizedState;if(x!==null){h.pending=null;var N=x=x.next;do S=a(S,N.action),N=N.next;while(N!==x);_r(S,l.memoizedState)||(jn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),h.lastRenderedState=S}return[S,g]}function P1(){}function j1(a,l){var h=pt,g=sr(),x=l(),S=!_r(g.memoizedState,x);if(S&&(g.memoizedState=x,jn=!0),g=g.queue,ng(O1.bind(null,h,g,a),[a]),g.getSnapshot!==l||S||Wt!==null&&Wt.memoizedState.tag&1){if(h.flags|=2048,Kl(9,A1.bind(null,h,g,x,l),void 0,null),Vt===null)throw Error(n(349));(qs&30)!==0||T1(h,l,x)}return x}function T1(a,l,h){a.flags|=16384,a={getSnapshot:l,value:h},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.stores=[a]):(h=l.stores,h===null?l.stores=[a]:h.push(a))}function A1(a,l,h,g){l.value=h,l.getSnapshot=g,R1(l)&&D1(a)}function O1(a,l,h){return h(function(){R1(l)&&D1(a)})}function R1(a){var l=a.getSnapshot;a=a.value;try{var h=l();return!_r(a,h)}catch{return!0}}function D1(a){var l=pi(a,1);l!==null&&Nr(l,a,1,-1)}function M1(a){var l=Xr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:a},l.queue=a,a=a.dispatch=y4.bind(null,pt,a),[l.memoizedState,a]}function Kl(a,l,h,g){return a={tag:a,create:l,destroy:h,deps:g,next:null},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.lastEffect=a.next=a):(h=l.lastEffect,h===null?l.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,l.lastEffect=a)),a}function L1(){return sr().memoizedState}function bd(a,l,h,g){var x=Xr();pt.flags|=a,x.memoizedState=Kl(1|l,h,void 0,g===void 0?null:g)}function _d(a,l,h,g){var x=sr();g=g===void 0?null:g;var S=void 0;if(Tt!==null){var N=Tt.memoizedState;if(S=N.destroy,g!==null&&Qm(g,N.deps)){x.memoizedState=Kl(l,h,S,g);return}}pt.flags|=a,x.memoizedState=Kl(1|l,h,S,g)}function F1(a,l){return bd(8390656,8,a,l)}function ng(a,l){return _d(2048,8,a,l)}function $1(a,l){return _d(4,2,a,l)}function z1(a,l){return _d(4,4,a,l)}function U1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function B1(a,l,h){return h=h!=null?h.concat([a]):null,_d(4,4,U1.bind(null,l,a),h)}function rg(){}function W1(a,l){var h=sr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Qm(l,g[1])?g[0]:(h.memoizedState=[a,l],a)}function V1(a,l){var h=sr();l=l===void 0?null:l;var g=h.memoizedState;return g!==null&&l!==null&&Qm(l,g[1])?g[0]:(a=a(),h.memoizedState=[a,l],a)}function H1(a,l,h){return(qs&21)===0?(a.baseState&&(a.baseState=!1,jn=!0),a.memoizedState=h):(_r(h,l)||(h=b_(),pt.lanes|=h,Ks|=h,a.baseState=!0),l)}function g4(a,l){var h=Ke;Ke=h!==0&&4>h?h:4,a(!0);var g=Xm.transition;Xm.transition={};try{a(!1),l()}finally{Ke=h,Xm.transition=g}}function q1(){return sr().memoizedState}function v4(a,l,h){var g=fs(a);if(h={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null},K1(a))G1(l,h);else if(h=C1(a,l,h,g),h!==null){var x=wn();Nr(h,a,g,x),Y1(h,l,g)}}function y4(a,l,h){var g=fs(a),x={lane:g,action:h,hasEagerState:!1,eagerState:null,next:null};if(K1(a))G1(l,x);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,T=S(N,h);if(x.hasEagerState=!0,x.eagerState=T,_r(T,N)){var R=l.interleaved;R===null?(x.next=x,Vm(l)):(x.next=R.next,R.next=x),l.interleaved=x;return}}catch{}finally{}h=C1(a,l,x,g),h!==null&&(x=wn(),Nr(h,a,g,x),Y1(h,l,g))}}function K1(a){var l=a.alternate;return a===pt||l!==null&&l===pt}function G1(a,l){Vl=wd=!0;var h=a.pending;h===null?l.next=l:(l.next=h.next,h.next=l),a.pending=l}function Y1(a,l,h){if((h&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,h|=g,l.lanes=h,sm(a,h)}}var Sd={readContext:ir,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},x4={readContext:ir,useCallback:function(a,l){return Xr().memoizedState=[a,l===void 0?null:l],a},useContext:ir,useEffect:F1,useImperativeHandle:function(a,l,h){return h=h!=null?h.concat([a]):null,bd(4194308,4,U1.bind(null,l,a),h)},useLayoutEffect:function(a,l){return bd(4194308,4,a,l)},useInsertionEffect:function(a,l){return bd(4,2,a,l)},useMemo:function(a,l){var h=Xr();return l=l===void 0?null:l,a=a(),h.memoizedState=[a,l],a},useReducer:function(a,l,h){var g=Xr();return l=h!==void 0?h(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=v4.bind(null,pt,a),[g.memoizedState,a]},useRef:function(a){var l=Xr();return a={current:a},l.memoizedState=a},useState:M1,useDebugValue:rg,useDeferredValue:function(a){return Xr().memoizedState=a},useTransition:function(){var a=M1(!1),l=a[0];return a=g4.bind(null,a[1]),Xr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,h){var g=pt,x=Xr();if(lt){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),Vt===null)throw Error(n(349));(qs&30)!==0||T1(g,l,h)}x.memoizedState=h;var S={value:h,getSnapshot:l};return x.queue=S,F1(O1.bind(null,g,S,a),[a]),g.flags|=2048,Kl(9,A1.bind(null,g,S,h,l),void 0,null),h},useId:function(){var a=Xr(),l=Vt.identifierPrefix;if(lt){var h=hi,g=fi;h=(g&~(1<<32-br(g)-1)).toString(32)+h,l=":"+l+"R"+h,h=Hl++,0<h&&(l+="H"+h.toString(32)),l+=":"}else h=m4++,l=":"+l+"r"+h.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},w4={readContext:ir,useCallback:W1,useContext:ir,useEffect:ng,useImperativeHandle:B1,useInsertionEffect:$1,useLayoutEffect:z1,useMemo:V1,useReducer:eg,useRef:L1,useState:function(){return eg(ql)},useDebugValue:rg,useDeferredValue:function(a){var l=sr();return H1(l,Tt.memoizedState,a)},useTransition:function(){var a=eg(ql)[0],l=sr().memoizedState;return[a,l]},useMutableSource:P1,useSyncExternalStore:j1,useId:q1,unstable_isNewReconciler:!1},b4={readContext:ir,useCallback:W1,useContext:ir,useEffect:ng,useImperativeHandle:B1,useInsertionEffect:$1,useLayoutEffect:z1,useMemo:V1,useReducer:tg,useRef:L1,useState:function(){return tg(ql)},useDebugValue:rg,useDeferredValue:function(a){var l=sr();return Tt===null?l.memoizedState=a:H1(l,Tt.memoizedState,a)},useTransition:function(){var a=tg(ql)[0],l=sr().memoizedState;return[a,l]},useMutableSource:P1,useSyncExternalStore:j1,useId:q1,unstable_isNewReconciler:!1};function Cr(a,l){if(a&&a.defaultProps){l=W({},l),a=a.defaultProps;for(var h in a)l[h]===void 0&&(l[h]=a[h]);return l}return l}function ig(a,l,h,g){l=a.memoizedState,h=h(g,l),h=h==null?l:W({},l,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var Cd={isMounted:function(a){return(a=a._reactInternals)?$s(a)===a:!1},enqueueSetState:function(a,l,h){a=a._reactInternals;var g=wn(),x=fs(a),S=mi(g,x);S.payload=l,h!=null&&(S.callback=h),l=ls(a,S,x),l!==null&&(Nr(l,a,x,g),gd(l,a,x))},enqueueReplaceState:function(a,l,h){a=a._reactInternals;var g=wn(),x=fs(a),S=mi(g,x);S.tag=1,S.payload=l,h!=null&&(S.callback=h),l=ls(a,S,x),l!==null&&(Nr(l,a,x,g),gd(l,a,x))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var h=wn(),g=fs(a),x=mi(h,g);x.tag=2,l!=null&&(x.callback=l),l=ls(a,x,g),l!==null&&(Nr(l,a,g,h),gd(l,a,g))}};function X1(a,l,h,g,x,S,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,N):l.prototype&&l.prototype.isPureReactComponent?!Ol(h,g)||!Ol(x,S):!0}function Q1(a,l,h){var g=!1,x=ss,S=l.contextType;return typeof S=="object"&&S!==null?S=ir(S):(x=Pn(l)?Us:fn.current,g=l.contextTypes,S=(g=g!=null)?Ga(a,x):ss),l=new l(h,S),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Cd,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=S),l}function J1(a,l,h,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,g),l.state!==a&&Cd.enqueueReplaceState(l,l.state,null)}function sg(a,l,h,g){var x=a.stateNode;x.props=h,x.state=a.memoizedState,x.refs={},Hm(a);var S=l.contextType;typeof S=="object"&&S!==null?x.context=ir(S):(S=Pn(l)?Us:fn.current,x.context=Ga(a,S)),x.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(ig(a,l,S,h),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Cd.enqueueReplaceState(x,x.state,null),vd(a,h,x,g),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function no(a,l){try{var h="",g=l;do h+=Se(g),g=g.return;while(g);var x=h}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:l,stack:x,digest:null}}function ag(a,l,h){return{value:a,source:null,stack:h??null,digest:l??null}}function og(a,l){try{console.error(l.value)}catch(h){setTimeout(function(){throw h})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function Z1(a,l,h){h=mi(-1,h),h.tag=3,h.payload={element:null};var g=l.value;return h.callback=function(){Td||(Td=!0,_g=g),og(a,l)},h}function eS(a,l,h){h=mi(-1,h),h.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;h.payload=function(){return g(x)},h.callback=function(){og(a,l)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(h.callback=function(){og(a,l),typeof g!="function"&&(us===null?us=new Set([this]):us.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),h}function tS(a,l,h){var g=a.pingCache;if(g===null){g=a.pingCache=new _4;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(h)||(x.add(h),a=M4.bind(null,a,l,h),l.then(a,a))}function nS(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function rS(a,l,h,g,x){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(l=mi(-1,1),l.tag=2,ls(h,l,1))),h.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var S4=j.ReactCurrentOwner,jn=!1;function xn(a,l,h,g){l.child=a===null?S1(l,null,h,g):Ja(l,a.child,h,g)}function iS(a,l,h,g,x){h=h.render;var S=l.ref;return eo(l,x),g=Jm(a,l,h,g,S,x),h=Zm(),a!==null&&!jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,gi(a,l,x)):(lt&&h&&Dm(l),l.flags|=1,xn(a,l,g,x),l.child)}function sS(a,l,h,g,x){if(a===null){var S=h.type;return typeof S=="function"&&!Pg(S)&&S.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(l.tag=15,l.type=S,aS(a,l,S,g,x)):(a=Ld(h.type,null,g,l,l.mode,x),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,(a.lanes&x)===0){var N=S.memoizedProps;if(h=h.compare,h=h!==null?h:Ol,h(N,g)&&a.ref===l.ref)return gi(a,l,x)}return l.flags|=1,a=ps(S,g),a.ref=l.ref,a.return=l,l.child=a}function aS(a,l,h,g,x){if(a!==null){var S=a.memoizedProps;if(Ol(S,g)&&a.ref===l.ref)if(jn=!1,l.pendingProps=g=S,(a.lanes&x)!==0)(a.flags&131072)!==0&&(jn=!0);else return l.lanes=a.lanes,gi(a,l,x)}return lg(a,l,h,g,x)}function oS(a,l,h){var g=l.pendingProps,x=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(io,qn),qn|=h;else{if((h&1073741824)===0)return a=S!==null?S.baseLanes|h:h,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ze(io,qn),qn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:h,Ze(io,qn),qn|=g}else S!==null?(g=S.baseLanes|h,l.memoizedState=null):g=h,Ze(io,qn),qn|=g;return xn(a,l,x,h),l.child}function lS(a,l){var h=l.ref;(a===null&&h!==null||a!==null&&a.ref!==h)&&(l.flags|=512,l.flags|=2097152)}function lg(a,l,h,g,x){var S=Pn(h)?Us:fn.current;return S=Ga(l,S),eo(l,x),h=Jm(a,l,h,g,S,x),g=Zm(),a!==null&&!jn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,gi(a,l,x)):(lt&&g&&Dm(l),l.flags|=1,xn(a,l,h,x),l.child)}function cS(a,l,h,g,x){if(Pn(h)){var S=!0;ld(l)}else S=!1;if(eo(l,x),l.stateNode===null)kd(a,l),Q1(l,h,g),sg(l,h,g,x),g=!0;else if(a===null){var N=l.stateNode,T=l.memoizedProps;N.props=T;var R=N.context,B=h.contextType;typeof B=="object"&&B!==null?B=ir(B):(B=Pn(h)?Us:fn.current,B=Ga(l,B));var J=h.getDerivedStateFromProps,ee=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function";ee||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==g||R!==B)&&J1(l,N,g,B),os=!1;var Q=l.memoizedState;N.state=Q,vd(l,g,N,x),R=l.memoizedState,T!==g||Q!==R||In.current||os?(typeof J=="function"&&(ig(l,h,J,g),R=l.memoizedState),(T=os||X1(l,h,T,g,Q,R,B))?(ee||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=R),N.props=g,N.state=R,N.context=B,g=T):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,E1(a,l),T=l.memoizedProps,B=l.type===l.elementType?T:Cr(l.type,T),N.props=B,ee=l.pendingProps,Q=N.context,R=h.contextType,typeof R=="object"&&R!==null?R=ir(R):(R=Pn(h)?Us:fn.current,R=Ga(l,R));var ue=h.getDerivedStateFromProps;(J=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==ee||Q!==R)&&J1(l,N,g,R),os=!1,Q=l.memoizedState,N.state=Q,vd(l,g,N,x);var ge=l.memoizedState;T!==ee||Q!==ge||In.current||os?(typeof ue=="function"&&(ig(l,h,ue,g),ge=l.memoizedState),(B=os||X1(l,h,B,g,Q,ge,R)||!1)?(J||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,ge,R),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,ge,R)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ge),N.props=g,N.state=ge,N.context=R,g=B):(typeof N.componentDidUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),g=!1)}return cg(a,l,h,g,S,x)}function cg(a,l,h,g,x,S){lS(a,l);var N=(l.flags&128)!==0;if(!g&&!N)return x&&p1(l,h,!1),gi(a,l,S);g=l.stateNode,S4.current=l;var T=N&&typeof h.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&N?(l.child=Ja(l,a.child,null,S),l.child=Ja(l,null,T,S)):xn(a,l,T,S),l.memoizedState=g.state,x&&p1(l,h,!0),l.child}function uS(a){var l=a.stateNode;l.pendingContext?f1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&f1(a,l.context,!1),qm(a,l.containerInfo)}function dS(a,l,h,g,x){return Qa(),$m(x),l.flags|=256,xn(a,l,h,g),l.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function dg(a){return{baseLanes:a,cachePool:null,transitions:null}}function fS(a,l,h){var g=l.pendingProps,x=ht.current,S=!1,N=(l.flags&128)!==0,T;if((T=N)||(T=a!==null&&a.memoizedState===null?!1:(x&2)!==0),T?(S=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ze(ht,x&1),a===null)return Fm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=g.children,a=g.fallback,S?(g=l.mode,S=l.child,N={mode:"hidden",children:N},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=N):S=Fd(N,g,0,null),a=Qs(a,g,h,null),S.return=l,a.return=l,S.sibling=a,l.child=S,l.child.memoizedState=dg(h),l.memoizedState=ug,a):fg(l,N));if(x=a.memoizedState,x!==null&&(T=x.dehydrated,T!==null))return C4(a,l,N,g,T,x,h);if(S){S=g.fallback,N=l.mode,x=a.child,T=x.sibling;var R={mode:"hidden",children:g.children};return(N&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=R,l.deletions=null):(g=ps(x,R),g.subtreeFlags=x.subtreeFlags&14680064),T!==null?S=ps(T,S):(S=Qs(S,N,h,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,N=a.child.memoizedState,N=N===null?dg(h):{baseLanes:N.baseLanes|h,cachePool:null,transitions:N.transitions},S.memoizedState=N,S.childLanes=a.childLanes&~h,l.memoizedState=ug,g}return S=a.child,a=S.sibling,g=ps(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=h),g.return=l,g.sibling=null,a!==null&&(h=l.deletions,h===null?(l.deletions=[a],l.flags|=16):h.push(a)),l.child=g,l.memoizedState=null,g}function fg(a,l){return l=Fd({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function Ed(a,l,h,g){return g!==null&&$m(g),Ja(l,a.child,null,h),a=fg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function C4(a,l,h,g,x,S,N){if(h)return l.flags&256?(l.flags&=-257,g=ag(Error(n(422))),Ed(a,l,N,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(S=g.fallback,x=l.mode,g=Fd({mode:"visible",children:g.children},x,0,null),S=Qs(S,x,N,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Ja(l,a.child,null,N),l.child.memoizedState=dg(N),l.memoizedState=ug,S);if((l.mode&1)===0)return Ed(a,l,N,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var T=g.dgst;return g=T,S=Error(n(419)),g=ag(S,g,void 0),Ed(a,l,N,g)}if(T=(N&a.childLanes)!==0,jn||T){if(g=Vt,g!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|N))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,pi(a,x),Nr(g,a,x,-1))}return Ig(),g=ag(Error(n(421))),Ed(a,l,N,g)}return x.data==="$?"?(l.flags|=128,l.child=a.child,l=L4.bind(null,a),x._reactRetry=l,null):(a=S.treeContext,Hn=rs(x.nextSibling),Vn=l,lt=!0,Sr=null,a!==null&&(nr[rr++]=fi,nr[rr++]=hi,nr[rr++]=Bs,fi=a.id,hi=a.overflow,Bs=l),l=fg(l,g.children),l.flags|=4096,l)}function hS(a,l,h){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Wm(a.return,l,h)}function hg(a,l,h,g,x){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:x}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=h,S.tailMode=x)}function pS(a,l,h){var g=l.pendingProps,x=g.revealOrder,S=g.tail;if(xn(a,l,g.children,h),g=ht.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&hS(a,h,l);else if(a.tag===19)hS(a,h,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ze(ht,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(h=l.child,x=null;h!==null;)a=h.alternate,a!==null&&yd(a)===null&&(x=h),h=h.sibling;h=x,h===null?(x=l.child,l.child=null):(x=h.sibling,h.sibling=null),hg(l,!1,x,h,S);break;case"backwards":for(h=null,x=l.child,l.child=null;x!==null;){if(a=x.alternate,a!==null&&yd(a)===null){l.child=x;break}a=x.sibling,x.sibling=h,h=x,x=a}hg(l,!0,h,null,S);break;case"together":hg(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function kd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function gi(a,l,h){if(a!==null&&(l.dependencies=a.dependencies),Ks|=l.lanes,(h&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,h=ps(a,a.pendingProps),l.child=h,h.return=l;a.sibling!==null;)a=a.sibling,h=h.sibling=ps(a,a.pendingProps),h.return=l;h.sibling=null}return l.child}function E4(a,l,h){switch(l.tag){case 3:uS(l),Qa();break;case 5:I1(l);break;case 1:Pn(l.type)&&ld(l);break;case 4:qm(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Ze(pd,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ze(ht,ht.current&1),l.flags|=128,null):(h&l.child.childLanes)!==0?fS(a,l,h):(Ze(ht,ht.current&1),a=gi(a,l,h),a!==null?a.sibling:null);Ze(ht,ht.current&1);break;case 19:if(g=(h&l.childLanes)!==0,(a.flags&128)!==0){if(g)return pS(a,l,h);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ze(ht,ht.current),g)break;return null;case 22:case 23:return l.lanes=0,oS(a,l,h)}return gi(a,l,h)}var mS,pg,gS,vS;mS=function(a,l){for(var h=l.child;h!==null;){if(h.tag===5||h.tag===6)a.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},pg=function(){},gS=function(a,l,h,g){var x=a.memoizedProps;if(x!==g){a=l.stateNode,Hs(Yr.current);var S=null;switch(h){case"input":x=He(a,x),g=He(a,g),S=[];break;case"select":x=W({},x,{value:void 0}),g=W({},g,{value:void 0}),S=[];break;case"textarea":x=qp(a,x),g=qp(a,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=sd)}Gp(h,g);var N;h=null;for(B in x)if(!g.hasOwnProperty(B)&&x.hasOwnProperty(B)&&x[B]!=null)if(B==="style"){var T=x[B];for(N in T)T.hasOwnProperty(N)&&(h||(h={}),h[N]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?S||(S=[]):(S=S||[]).push(B,null));for(B in g){var R=g[B];if(T=x!=null?x[B]:void 0,g.hasOwnProperty(B)&&R!==T&&(R!=null||T!=null))if(B==="style")if(T){for(N in T)!T.hasOwnProperty(N)||R&&R.hasOwnProperty(N)||(h||(h={}),h[N]="");for(N in R)R.hasOwnProperty(N)&&T[N]!==R[N]&&(h||(h={}),h[N]=R[N])}else h||(S||(S=[]),S.push(B,h)),h=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(S=S||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(S=S||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(i.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&st("scroll",a),S||T===R||(S=[])):(S=S||[]).push(B,R))}h&&(S=S||[]).push("style",h);var B=S;(l.updateQueue=B)&&(l.flags|=4)}},vS=function(a,l,h,g){h!==g&&(l.flags|=4)};function Gl(a,l){if(!lt)switch(a.tailMode){case"hidden":l=a.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function pn(a){var l=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(l)for(var x=a.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)h|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=g,a.childLanes=h,l}function k4(a,l,h){var g=l.pendingProps;switch(Mm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(l),null;case 1:return Pn(l.type)&&od(),pn(l),null;case 3:return g=l.stateNode,to(),at(In),at(fn),Ym(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(fd(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Sr!==null&&(Eg(Sr),Sr=null))),pg(a,l),pn(l),null;case 5:Km(l);var x=Hs(Wl.current);if(h=l.type,a!==null&&l.stateNode!=null)gS(a,l,h,g,x),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return pn(l),null}if(a=Hs(Yr.current),fd(l)){g=l.stateNode,h=l.type;var S=l.memoizedProps;switch(g[Gr]=l,g[Fl]=S,a=(l.mode&1)!==0,h){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(x=0;x<Dl.length;x++)st(Dl[x],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":un(g,S),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},st("invalid",g);break;case"textarea":e_(g,S),st("invalid",g)}Gp(h,S),x=null;for(var N in S)if(S.hasOwnProperty(N)){var T=S[N];N==="children"?typeof T=="string"?g.textContent!==T&&(S.suppressHydrationWarning!==!0&&id(g.textContent,T,a),x=["children",T]):typeof T=="number"&&g.textContent!==""+T&&(S.suppressHydrationWarning!==!0&&id(g.textContent,T,a),x=["children",""+T]):i.hasOwnProperty(N)&&T!=null&&N==="onScroll"&&st("scroll",g)}switch(h){case"input":Te(g),pl(g,S,!0);break;case"textarea":Te(g),n_(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=sd)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=r_(h)),a==="http://www.w3.org/1999/xhtml"?h==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=N.createElement(h,{is:g.is}):(a=N.createElement(h),h==="select"&&(N=a,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):a=N.createElementNS(a,h),a[Gr]=l,a[Fl]=g,mS(a,l,!1,!1),l.stateNode=a;e:{switch(N=Yp(h,g),h){case"dialog":st("cancel",a),st("close",a),x=g;break;case"iframe":case"object":case"embed":st("load",a),x=g;break;case"video":case"audio":for(x=0;x<Dl.length;x++)st(Dl[x],a);x=g;break;case"source":st("error",a),x=g;break;case"img":case"image":case"link":st("error",a),st("load",a),x=g;break;case"details":st("toggle",a),x=g;break;case"input":un(a,g),x=He(a,g),st("invalid",a);break;case"option":x=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},x=W({},g,{value:void 0}),st("invalid",a);break;case"textarea":e_(a,g),x=qp(a,g),st("invalid",a);break;default:x=g}Gp(h,x),T=x;for(S in T)if(T.hasOwnProperty(S)){var R=T[S];S==="style"?a_(a,R):S==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&i_(a,R)):S==="children"?typeof R=="string"?(h!=="textarea"||R!=="")&&gl(a,R):typeof R=="number"&&gl(a,""+R):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?R!=null&&S==="onScroll"&&st("scroll",a):R!=null&&I(a,S,R,N))}switch(h){case"input":Te(a),pl(a,g,!1);break;case"textarea":Te(a),n_(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Le(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?Ma(a,!!g.multiple,S,!1):g.defaultValue!=null&&Ma(a,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=sd)}switch(h){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return pn(l),null;case 6:if(a&&l.stateNode!=null)vS(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(h=Hs(Wl.current),Hs(Yr.current),fd(l)){if(g=l.stateNode,h=l.memoizedProps,g[Gr]=l,(S=g.nodeValue!==h)&&(a=Vn,a!==null))switch(a.tag){case 3:id(g.nodeValue,h,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&id(g.nodeValue,h,(a.mode&1)!==0)}S&&(l.flags|=4)}else g=(h.nodeType===9?h:h.ownerDocument).createTextNode(g),g[Gr]=l,l.stateNode=g}return pn(l),null;case 13:if(at(ht),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(lt&&Hn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)w1(),Qa(),l.flags|=98560,S=!1;else if(S=fd(l),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Gr]=l}else Qa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;pn(l),S=!1}else Sr!==null&&(Eg(Sr),Sr=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=h,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(ht.current&1)!==0?At===0&&(At=3):Ig())),l.updateQueue!==null&&(l.flags|=4),pn(l),null);case 4:return to(),pg(a,l),a===null&&Ml(l.stateNode.containerInfo),pn(l),null;case 10:return Bm(l.type._context),pn(l),null;case 17:return Pn(l.type)&&od(),pn(l),null;case 19:if(at(ht),S=l.memoizedState,S===null)return pn(l),null;if(g=(l.flags&128)!==0,N=S.rendering,N===null)if(g)Gl(S,!1);else{if(At!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=yd(a),N!==null){for(l.flags|=128,Gl(S,!1),g=N.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=h,h=l.child;h!==null;)S=h,a=g,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,a=N.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),h=h.sibling;return Ze(ht,ht.current&1|2),l.child}a=a.sibling}S.tail!==null&&xt()>so&&(l.flags|=128,g=!0,Gl(S,!1),l.lanes=4194304)}else{if(!g)if(a=yd(N),a!==null){if(l.flags|=128,g=!0,h=a.updateQueue,h!==null&&(l.updateQueue=h,l.flags|=4),Gl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!N.alternate&&!lt)return pn(l),null}else 2*xt()-S.renderingStartTime>so&&h!==1073741824&&(l.flags|=128,g=!0,Gl(S,!1),l.lanes=4194304);S.isBackwards?(N.sibling=l.child,l.child=N):(h=S.last,h!==null?h.sibling=N:l.child=N,S.last=N)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=xt(),l.sibling=null,h=ht.current,Ze(ht,g?h&1|2:h&1),l):(pn(l),null);case 22:case 23:return Ng(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(qn&1073741824)!==0&&(pn(l),l.subtreeFlags&6&&(l.flags|=8192)):pn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function N4(a,l){switch(Mm(l),l.tag){case 1:return Pn(l.type)&&od(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return to(),at(In),at(fn),Ym(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return Km(l),null;case 13:if(at(ht),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Qa()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return at(ht),null;case 4:return to(),null;case 10:return Bm(l.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var Nd=!1,mn=!1,I4=typeof WeakSet=="function"?WeakSet:Set,he=null;function ro(a,l){var h=a.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(g){mt(a,l,g)}else h.current=null}function mg(a,l,h){try{h()}catch(g){mt(a,l,g)}}var yS=!1;function P4(a,l){if(Nm=Ku,a=X_(),xm(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var N=0,T=-1,R=-1,B=0,J=0,ee=a,Q=null;t:for(;;){for(var ue;ee!==h||x!==0&&ee.nodeType!==3||(T=N+x),ee!==S||g!==0&&ee.nodeType!==3||(R=N+g),ee.nodeType===3&&(N+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)Q=ee,ee=ue;for(;;){if(ee===a)break t;if(Q===h&&++B===x&&(T=N),Q===S&&++J===g&&(R=N),(ue=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=ue}h=T===-1||R===-1?null:{start:T,end:R}}else h=null}h=h||{start:0,end:0}}else h=null;for(Im={focusedElem:a,selectionRange:h},Ku=!1,he=l;he!==null;)if(l=he,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,he=a;else for(;he!==null;){l=he;try{var ge=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var we=ge.memoizedProps,wt=ge.memoizedState,L=l.stateNode,D=L.getSnapshotBeforeUpdate(l.elementType===l.type?we:Cr(l.type,we),wt);L.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var $=l.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){mt(l,l.return,ne)}if(a=l.sibling,a!==null){a.return=l.return,he=a;break}he=l.return}return ge=yS,yS=!1,ge}function Yl(a,l,h){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&a)===a){var S=x.destroy;x.destroy=void 0,S!==void 0&&mg(l,h,S)}x=x.next}while(x!==g)}}function Id(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&a)===a){var g=h.create;h.destroy=g()}h=h.next}while(h!==l)}}function gg(a){var l=a.ref;if(l!==null){var h=a.stateNode;switch(a.tag){case 5:a=h;break;default:a=h}typeof l=="function"?l(a):l.current=a}}function xS(a){var l=a.alternate;l!==null&&(a.alternate=null,xS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[Gr],delete l[Fl],delete l[Am],delete l[d4],delete l[f4])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function wS(a){return a.tag===5||a.tag===3||a.tag===4}function bS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.nodeType===8?h.parentNode.insertBefore(a,l):h.insertBefore(a,l):(h.nodeType===8?(l=h.parentNode,l.insertBefore(a,h)):(l=h,l.appendChild(a)),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=sd));else if(g!==4&&(a=a.child,a!==null))for(vg(a,l,h),a=a.sibling;a!==null;)vg(a,l,h),a=a.sibling}function yg(a,l,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?h.insertBefore(a,l):h.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(yg(a,l,h),a=a.sibling;a!==null;)yg(a,l,h),a=a.sibling}var nn=null,Er=!1;function cs(a,l,h){for(h=h.child;h!==null;)_S(a,l,h),h=h.sibling}function _S(a,l,h){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(Uu,h)}catch{}switch(h.tag){case 5:mn||ro(h,l);case 6:var g=nn,x=Er;nn=null,cs(a,l,h),nn=g,Er=x,nn!==null&&(Er?(a=nn,h=h.stateNode,a.nodeType===8?a.parentNode.removeChild(h):a.removeChild(h)):nn.removeChild(h.stateNode));break;case 18:nn!==null&&(Er?(a=nn,h=h.stateNode,a.nodeType===8?Tm(a.parentNode,h):a.nodeType===1&&Tm(a,h),Nl(a)):Tm(nn,h.stateNode));break;case 4:g=nn,x=Er,nn=h.stateNode.containerInfo,Er=!0,cs(a,l,h),nn=g,Er=x;break;case 0:case 11:case 14:case 15:if(!mn&&(g=h.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,N=S.destroy;S=S.tag,N!==void 0&&((S&2)!==0||(S&4)!==0)&&mg(h,l,N),x=x.next}while(x!==g)}cs(a,l,h);break;case 1:if(!mn&&(ro(h,l),g=h.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=h.memoizedProps,g.state=h.memoizedState,g.componentWillUnmount()}catch(T){mt(h,l,T)}cs(a,l,h);break;case 21:cs(a,l,h);break;case 22:h.mode&1?(mn=(g=mn)||h.memoizedState!==null,cs(a,l,h),mn=g):cs(a,l,h);break;default:cs(a,l,h)}}function SS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var h=a.stateNode;h===null&&(h=a.stateNode=new I4),l.forEach(function(g){var x=F4.bind(null,a,g);h.has(g)||(h.add(g),g.then(x,x))})}}function kr(a,l){var h=l.deletions;if(h!==null)for(var g=0;g<h.length;g++){var x=h[g];try{var S=a,N=l,T=N;e:for(;T!==null;){switch(T.tag){case 5:nn=T.stateNode,Er=!1;break e;case 3:nn=T.stateNode.containerInfo,Er=!0;break e;case 4:nn=T.stateNode.containerInfo,Er=!0;break e}T=T.return}if(nn===null)throw Error(n(160));_S(S,N,x),nn=null,Er=!1;var R=x.alternate;R!==null&&(R.return=null),x.return=null}catch(B){mt(x,l,B)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)CS(l,a),l=l.sibling}function CS(a,l){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(kr(l,a),Qr(a),g&4){try{Yl(3,a,a.return),Id(3,a)}catch(we){mt(a,a.return,we)}try{Yl(5,a,a.return)}catch(we){mt(a,a.return,we)}}break;case 1:kr(l,a),Qr(a),g&512&&h!==null&&ro(h,h.return);break;case 5:if(kr(l,a),Qr(a),g&512&&h!==null&&ro(h,h.return),a.flags&32){var x=a.stateNode;try{gl(x,"")}catch(we){mt(a,a.return,we)}}if(g&4&&(x=a.stateNode,x!=null)){var S=a.memoizedProps,N=h!==null?h.memoizedProps:S,T=a.type,R=a.updateQueue;if(a.updateQueue=null,R!==null)try{T==="input"&&S.type==="radio"&&S.name!=null&&dn(x,S),Yp(T,N);var B=Yp(T,S);for(N=0;N<R.length;N+=2){var J=R[N],ee=R[N+1];J==="style"?a_(x,ee):J==="dangerouslySetInnerHTML"?i_(x,ee):J==="children"?gl(x,ee):I(x,J,ee,B)}switch(T){case"input":wr(x,S);break;case"textarea":t_(x,S);break;case"select":var Q=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ue=S.value;ue!=null?Ma(x,!!S.multiple,ue,!1):Q!==!!S.multiple&&(S.defaultValue!=null?Ma(x,!!S.multiple,S.defaultValue,!0):Ma(x,!!S.multiple,S.multiple?[]:"",!1))}x[Fl]=S}catch(we){mt(a,a.return,we)}}break;case 6:if(kr(l,a),Qr(a),g&4){if(a.stateNode===null)throw Error(n(162));x=a.stateNode,S=a.memoizedProps;try{x.nodeValue=S}catch(we){mt(a,a.return,we)}}break;case 3:if(kr(l,a),Qr(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Nl(l.containerInfo)}catch(we){mt(a,a.return,we)}break;case 4:kr(l,a),Qr(a);break;case 13:kr(l,a),Qr(a),x=a.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(bg=xt())),g&4&&SS(a);break;case 22:if(J=h!==null&&h.memoizedState!==null,a.mode&1?(mn=(B=mn)||J,kr(l,a),mn=B):kr(l,a),Qr(a),g&8192){if(B=a.memoizedState!==null,(a.stateNode.isHidden=B)&&!J&&(a.mode&1)!==0)for(he=a,J=a.child;J!==null;){for(ee=he=J;he!==null;){switch(Q=he,ue=Q.child,Q.tag){case 0:case 11:case 14:case 15:Yl(4,Q,Q.return);break;case 1:ro(Q,Q.return);var ge=Q.stateNode;if(typeof ge.componentWillUnmount=="function"){g=Q,h=Q.return;try{l=g,ge.props=l.memoizedProps,ge.state=l.memoizedState,ge.componentWillUnmount()}catch(we){mt(g,h,we)}}break;case 5:ro(Q,Q.return);break;case 22:if(Q.memoizedState!==null){NS(ee);continue}}ue!==null?(ue.return=Q,he=ue):NS(ee)}J=J.sibling}e:for(J=null,ee=a;;){if(ee.tag===5){if(J===null){J=ee;try{x=ee.stateNode,B?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(T=ee.stateNode,R=ee.memoizedProps.style,N=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=s_("display",N))}catch(we){mt(a,a.return,we)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=B?"":ee.memoizedProps}catch(we){mt(a,a.return,we)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===a)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===a)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===a)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:kr(l,a),Qr(a),g&4&&SS(a);break;case 21:break;default:kr(l,a),Qr(a)}}function Qr(a){var l=a.flags;if(l&2){try{e:{for(var h=a.return;h!==null;){if(wS(h)){var g=h;break e}h=h.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(gl(x,""),g.flags&=-33);var S=bS(a);yg(a,S,x);break;case 3:case 4:var N=g.stateNode.containerInfo,T=bS(a);vg(a,T,N);break;default:throw Error(n(161))}}catch(R){mt(a,a.return,R)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function j4(a,l,h){he=a,ES(a)}function ES(a,l,h){for(var g=(a.mode&1)!==0;he!==null;){var x=he,S=x.child;if(x.tag===22&&g){var N=x.memoizedState!==null||Nd;if(!N){var T=x.alternate,R=T!==null&&T.memoizedState!==null||mn;T=Nd;var B=mn;if(Nd=N,(mn=R)&&!B)for(he=x;he!==null;)N=he,R=N.child,N.tag===22&&N.memoizedState!==null?IS(x):R!==null?(R.return=N,he=R):IS(x);for(;S!==null;)he=S,ES(S),S=S.sibling;he=x,Nd=T,mn=B}kS(a)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,he=S):kS(a)}}function kS(a){for(;he!==null;){var l=he;if((l.flags&8772)!==0){var h=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:mn||Id(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!mn)if(h===null)g.componentDidMount();else{var x=l.elementType===l.type?h.memoizedProps:Cr(l.type,h.memoizedProps);g.componentDidUpdate(x,h.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&N1(l,S,g);break;case 3:var N=l.updateQueue;if(N!==null){if(h=null,l.child!==null)switch(l.child.tag){case 5:h=l.child.stateNode;break;case 1:h=l.child.stateNode}N1(l,N,h)}break;case 5:var T=l.stateNode;if(h===null&&l.flags&4){h=T;var R=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&h.focus();break;case"img":R.src&&(h.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var B=l.alternate;if(B!==null){var J=B.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Nl(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mn||l.flags&512&&gg(l)}catch(Q){mt(l,l.return,Q)}}if(l===a){he=null;break}if(h=l.sibling,h!==null){h.return=l.return,he=h;break}he=l.return}}function NS(a){for(;he!==null;){var l=he;if(l===a){he=null;break}var h=l.sibling;if(h!==null){h.return=l.return,he=h;break}he=l.return}}function IS(a){for(;he!==null;){var l=he;try{switch(l.tag){case 0:case 11:case 15:var h=l.return;try{Id(4,l)}catch(R){mt(l,h,R)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(R){mt(l,x,R)}}var S=l.return;try{gg(l)}catch(R){mt(l,S,R)}break;case 5:var N=l.return;try{gg(l)}catch(R){mt(l,N,R)}}}catch(R){mt(l,l.return,R)}if(l===a){he=null;break}var T=l.sibling;if(T!==null){T.return=l.return,he=T;break}he=l.return}}var T4=Math.ceil,Pd=j.ReactCurrentDispatcher,xg=j.ReactCurrentOwner,ar=j.ReactCurrentBatchConfig,Ue=0,Vt=null,kt=null,rn=0,qn=0,io=is(0),At=0,Xl=null,Ks=0,jd=0,wg=0,Ql=null,Tn=null,bg=0,so=1/0,vi=null,Td=!1,_g=null,us=null,Ad=!1,ds=null,Od=0,Jl=0,Sg=null,Rd=-1,Dd=0;function wn(){return(Ue&6)!==0?xt():Rd!==-1?Rd:Rd=xt()}function fs(a){return(a.mode&1)===0?1:(Ue&2)!==0&&rn!==0?rn&-rn:p4.transition!==null?(Dd===0&&(Dd=b_()),Dd):(a=Ke,a!==0||(a=window.event,a=a===void 0?16:j_(a.type)),a)}function Nr(a,l,h,g){if(50<Jl)throw Jl=0,Sg=null,Error(n(185));_l(a,h,g),((Ue&2)===0||a!==Vt)&&(a===Vt&&((Ue&2)===0&&(jd|=h),At===4&&hs(a,rn)),An(a,g),h===1&&Ue===0&&(l.mode&1)===0&&(so=xt()+500,cd&&as()))}function An(a,l){var h=a.callbackNode;pL(a,l);var g=Vu(a,a===Vt?rn:0);if(g===0)h!==null&&y_(h),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(h!=null&&y_(h),l===1)a.tag===0?h4(jS.bind(null,a)):m1(jS.bind(null,a)),c4(function(){(Ue&6)===0&&as()}),h=null;else{switch(__(g)){case 1:h=nm;break;case 4:h=x_;break;case 16:h=zu;break;case 536870912:h=w_;break;default:h=zu}h=FS(h,PS.bind(null,a))}a.callbackPriority=l,a.callbackNode=h}}function PS(a,l){if(Rd=-1,Dd=0,(Ue&6)!==0)throw Error(n(327));var h=a.callbackNode;if(ao()&&a.callbackNode!==h)return null;var g=Vu(a,a===Vt?rn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=Md(a,g);else{l=g;var x=Ue;Ue|=2;var S=AS();(Vt!==a||rn!==l)&&(vi=null,so=xt()+500,Ys(a,l));do try{R4();break}catch(T){TS(a,T)}while(!0);Um(),Pd.current=S,Ue=x,kt!==null?l=0:(Vt=null,rn=0,l=At)}if(l!==0){if(l===2&&(x=rm(a),x!==0&&(g=x,l=Cg(a,x))),l===1)throw h=Xl,Ys(a,0),hs(a,g),An(a,xt()),h;if(l===6)hs(a,g);else{if(x=a.current.alternate,(g&30)===0&&!A4(x)&&(l=Md(a,g),l===2&&(S=rm(a),S!==0&&(g=S,l=Cg(a,S))),l===1))throw h=Xl,Ys(a,0),hs(a,g),An(a,xt()),h;switch(a.finishedWork=x,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Xs(a,Tn,vi);break;case 3:if(hs(a,g),(g&130023424)===g&&(l=bg+500-xt(),10<l)){if(Vu(a,0)!==0)break;if(x=a.suspendedLanes,(x&g)!==g){wn(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=jm(Xs.bind(null,a,Tn,vi),l);break}Xs(a,Tn,vi);break;case 4:if(hs(a,g),(g&4194240)===g)break;for(l=a.eventTimes,x=-1;0<g;){var N=31-br(g);S=1<<N,N=l[N],N>x&&(x=N),g&=~S}if(g=x,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*T4(g/1960))-g,10<g){a.timeoutHandle=jm(Xs.bind(null,a,Tn,vi),g);break}Xs(a,Tn,vi);break;case 5:Xs(a,Tn,vi);break;default:throw Error(n(329))}}}return An(a,xt()),a.callbackNode===h?PS.bind(null,a):null}function Cg(a,l){var h=Ql;return a.current.memoizedState.isDehydrated&&(Ys(a,l).flags|=256),a=Md(a,l),a!==2&&(l=Tn,Tn=h,l!==null&&Eg(l)),a}function Eg(a){Tn===null?Tn=a:Tn.push.apply(Tn,a)}function A4(a){for(var l=a;;){if(l.flags&16384){var h=l.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var g=0;g<h.length;g++){var x=h[g],S=x.getSnapshot;x=x.value;try{if(!_r(S(),x))return!1}catch{return!1}}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function hs(a,l){for(l&=~wg,l&=~jd,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var h=31-br(l),g=1<<h;a[h]=-1,l&=~g}}function jS(a){if((Ue&6)!==0)throw Error(n(327));ao();var l=Vu(a,0);if((l&1)===0)return An(a,xt()),null;var h=Md(a,l);if(a.tag!==0&&h===2){var g=rm(a);g!==0&&(l=g,h=Cg(a,g))}if(h===1)throw h=Xl,Ys(a,0),hs(a,l),An(a,xt()),h;if(h===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Xs(a,Tn,vi),An(a,xt()),null}function kg(a,l){var h=Ue;Ue|=1;try{return a(l)}finally{Ue=h,Ue===0&&(so=xt()+500,cd&&as())}}function Gs(a){ds!==null&&ds.tag===0&&(Ue&6)===0&&ao();var l=Ue;Ue|=1;var h=ar.transition,g=Ke;try{if(ar.transition=null,Ke=1,a)return a()}finally{Ke=g,ar.transition=h,Ue=l,(Ue&6)===0&&as()}}function Ng(){qn=io.current,at(io)}function Ys(a,l){a.finishedWork=null,a.finishedLanes=0;var h=a.timeoutHandle;if(h!==-1&&(a.timeoutHandle=-1,l4(h)),kt!==null)for(h=kt.return;h!==null;){var g=h;switch(Mm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&od();break;case 3:to(),at(In),at(fn),Ym();break;case 5:Km(g);break;case 4:to();break;case 13:at(ht);break;case 19:at(ht);break;case 10:Bm(g.type._context);break;case 22:case 23:Ng()}h=h.return}if(Vt=a,kt=a=ps(a.current,null),rn=qn=l,At=0,Xl=null,wg=jd=Ks=0,Tn=Ql=null,Vs!==null){for(l=0;l<Vs.length;l++)if(h=Vs[l],g=h.interleaved,g!==null){h.interleaved=null;var x=g.next,S=h.pending;if(S!==null){var N=S.next;S.next=x,g.next=N}h.pending=g}Vs=null}return a}function TS(a,l){do{var h=kt;try{if(Um(),xd.current=Sd,wd){for(var g=pt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}wd=!1}if(qs=0,Wt=Tt=pt=null,Vl=!1,Hl=0,xg.current=null,h===null||h.return===null){At=1,Xl=l,kt=null;break}e:{var S=a,N=h.return,T=h,R=l;if(l=rn,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,J=T,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=J.alternate;Q?(J.updateQueue=Q.updateQueue,J.memoizedState=Q.memoizedState,J.lanes=Q.lanes):(J.updateQueue=null,J.memoizedState=null)}var ue=nS(N);if(ue!==null){ue.flags&=-257,rS(ue,N,T,S,l),ue.mode&1&&tS(S,B,l),l=ue,R=B;var ge=l.updateQueue;if(ge===null){var we=new Set;we.add(R),l.updateQueue=we}else ge.add(R);break e}else{if((l&1)===0){tS(S,B,l),Ig();break e}R=Error(n(426))}}else if(lt&&T.mode&1){var wt=nS(N);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),rS(wt,N,T,S,l),$m(no(R,T));break e}}S=R=no(R,T),At!==4&&(At=2),Ql===null?Ql=[S]:Ql.push(S),S=N;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var L=Z1(S,R,l);k1(S,L);break e;case 1:T=R;var D=S.type,$=S.stateNode;if((S.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(us===null||!us.has($)))){S.flags|=65536,l&=-l,S.lanes|=l;var ne=eS(S,T,l);k1(S,ne);break e}}S=S.return}while(S!==null)}RS(h)}catch(be){l=be,kt===h&&h!==null&&(kt=h=h.return);continue}break}while(!0)}function AS(){var a=Pd.current;return Pd.current=Sd,a===null?Sd:a}function Ig(){(At===0||At===3||At===2)&&(At=4),Vt===null||(Ks&268435455)===0&&(jd&268435455)===0||hs(Vt,rn)}function Md(a,l){var h=Ue;Ue|=2;var g=AS();(Vt!==a||rn!==l)&&(vi=null,Ys(a,l));do try{O4();break}catch(x){TS(a,x)}while(!0);if(Um(),Ue=h,Pd.current=g,kt!==null)throw Error(n(261));return Vt=null,rn=0,At}function O4(){for(;kt!==null;)OS(kt)}function R4(){for(;kt!==null&&!sL();)OS(kt)}function OS(a){var l=LS(a.alternate,a,qn);a.memoizedProps=a.pendingProps,l===null?RS(a):kt=l,xg.current=null}function RS(a){var l=a;do{var h=l.alternate;if(a=l.return,(l.flags&32768)===0){if(h=k4(h,l,qn),h!==null){kt=h;return}}else{if(h=N4(h,l),h!==null){h.flags&=32767,kt=h;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{At=6,kt=null;return}}if(l=l.sibling,l!==null){kt=l;return}kt=l=a}while(l!==null);At===0&&(At=5)}function Xs(a,l,h){var g=Ke,x=ar.transition;try{ar.transition=null,Ke=1,D4(a,l,h,g)}finally{ar.transition=x,Ke=g}return null}function D4(a,l,h,g){do ao();while(ds!==null);if((Ue&6)!==0)throw Error(n(327));h=a.finishedWork;var x=a.finishedLanes;if(h===null)return null;if(a.finishedWork=null,a.finishedLanes=0,h===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=h.lanes|h.childLanes;if(mL(a,S),a===Vt&&(kt=Vt=null,rn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ad||(Ad=!0,FS(zu,function(){return ao(),null})),S=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||S){S=ar.transition,ar.transition=null;var N=Ke;Ke=1;var T=Ue;Ue|=4,xg.current=null,P4(a,h),CS(h,a),t4(Im),Ku=!!Nm,Im=Nm=null,a.current=h,j4(h),aL(),Ue=T,Ke=N,ar.transition=S}else a.current=h;if(Ad&&(Ad=!1,ds=a,Od=x),S=a.pendingLanes,S===0&&(us=null),cL(h.stateNode),An(a,xt()),l!==null)for(g=a.onRecoverableError,h=0;h<l.length;h++)x=l[h],g(x.value,{componentStack:x.stack,digest:x.digest});if(Td)throw Td=!1,a=_g,_g=null,a;return(Od&1)!==0&&a.tag!==0&&ao(),S=a.pendingLanes,(S&1)!==0?a===Sg?Jl++:(Jl=0,Sg=a):Jl=0,as(),null}function ao(){if(ds!==null){var a=__(Od),l=ar.transition,h=Ke;try{if(ar.transition=null,Ke=16>a?16:a,ds===null)var g=!1;else{if(a=ds,ds=null,Od=0,(Ue&6)!==0)throw Error(n(331));var x=Ue;for(Ue|=4,he=a.current;he!==null;){var S=he,N=S.child;if((he.flags&16)!==0){var T=S.deletions;if(T!==null){for(var R=0;R<T.length;R++){var B=T[R];for(he=B;he!==null;){var J=he;switch(J.tag){case 0:case 11:case 15:Yl(8,J,S)}var ee=J.child;if(ee!==null)ee.return=J,he=ee;else for(;he!==null;){J=he;var Q=J.sibling,ue=J.return;if(xS(J),J===B){he=null;break}if(Q!==null){Q.return=ue,he=Q;break}he=ue}}}var ge=S.alternate;if(ge!==null){var we=ge.child;if(we!==null){ge.child=null;do{var wt=we.sibling;we.sibling=null,we=wt}while(we!==null)}}he=S}}if((S.subtreeFlags&2064)!==0&&N!==null)N.return=S,he=N;else e:for(;he!==null;){if(S=he,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Yl(9,S,S.return)}var L=S.sibling;if(L!==null){L.return=S.return,he=L;break e}he=S.return}}var D=a.current;for(he=D;he!==null;){N=he;var $=N.child;if((N.subtreeFlags&2064)!==0&&$!==null)$.return=N,he=$;else e:for(N=D;he!==null;){if(T=he,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:Id(9,T)}}catch(be){mt(T,T.return,be)}if(T===N){he=null;break e}var ne=T.sibling;if(ne!==null){ne.return=T.return,he=ne;break e}he=T.return}}if(Ue=x,as(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(Uu,a)}catch{}g=!0}return g}finally{Ke=h,ar.transition=l}}return!1}function DS(a,l,h){l=no(h,l),l=Z1(a,l,1),a=ls(a,l,1),l=wn(),a!==null&&(_l(a,1,l),An(a,l))}function mt(a,l,h){if(a.tag===3)DS(a,a,h);else for(;l!==null;){if(l.tag===3){DS(l,a,h);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(us===null||!us.has(g))){a=no(h,a),a=eS(l,a,1),l=ls(l,a,1),a=wn(),l!==null&&(_l(l,1,a),An(l,a));break}}l=l.return}}function M4(a,l,h){var g=a.pingCache;g!==null&&g.delete(l),l=wn(),a.pingedLanes|=a.suspendedLanes&h,Vt===a&&(rn&h)===h&&(At===4||At===3&&(rn&130023424)===rn&&500>xt()-bg?Ys(a,0):wg|=h),An(a,l)}function MS(a,l){l===0&&((a.mode&1)===0?l=1:(l=Wu,Wu<<=1,(Wu&130023424)===0&&(Wu=4194304)));var h=wn();a=pi(a,l),a!==null&&(_l(a,l,h),An(a,h))}function L4(a){var l=a.memoizedState,h=0;l!==null&&(h=l.retryLane),MS(a,h)}function F4(a,l){var h=0;switch(a.tag){case 13:var g=a.stateNode,x=a.memoizedState;x!==null&&(h=x.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),MS(a,h)}var LS;LS=function(a,l,h){if(a!==null)if(a.memoizedProps!==l.pendingProps||In.current)jn=!0;else{if((a.lanes&h)===0&&(l.flags&128)===0)return jn=!1,E4(a,l,h);jn=(a.flags&131072)!==0}else jn=!1,lt&&(l.flags&1048576)!==0&&g1(l,dd,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;kd(a,l),a=l.pendingProps;var x=Ga(l,fn.current);eo(l,h),x=Jm(null,l,g,a,x,h);var S=Zm();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Pn(g)?(S=!0,ld(l)):S=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Hm(l),x.updater=Cd,l.stateNode=x,x._reactInternals=l,sg(l,g,a,h),l=cg(null,l,g,!0,S,h)):(l.tag=0,lt&&S&&Dm(l),xn(null,l,x,h),l=l.child),l;case 16:g=l.elementType;e:{switch(kd(a,l),a=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=z4(g),a=Cr(g,a),x){case 0:l=lg(null,l,g,a,h);break e;case 1:l=cS(null,l,g,a,h);break e;case 11:l=iS(null,l,g,a,h);break e;case 14:l=sS(null,l,g,Cr(g.type,a),h);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Cr(g,x),lg(a,l,g,x,h);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Cr(g,x),cS(a,l,g,x,h);case 3:e:{if(uS(l),a===null)throw Error(n(387));g=l.pendingProps,S=l.memoizedState,x=S.element,E1(a,l),vd(l,g,null,h);var N=l.memoizedState;if(g=N.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){x=no(Error(n(423)),l),l=dS(a,l,g,h,x);break e}else if(g!==x){x=no(Error(n(424)),l),l=dS(a,l,g,h,x);break e}else for(Hn=rs(l.stateNode.containerInfo.firstChild),Vn=l,lt=!0,Sr=null,h=S1(l,null,g,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Qa(),g===x){l=gi(a,l,h);break e}xn(a,l,g,h)}l=l.child}return l;case 5:return I1(l),a===null&&Fm(l),g=l.type,x=l.pendingProps,S=a!==null?a.memoizedProps:null,N=x.children,Pm(g,x)?N=null:S!==null&&Pm(g,S)&&(l.flags|=32),lS(a,l),xn(a,l,N,h),l.child;case 6:return a===null&&Fm(l),null;case 13:return fS(a,l,h);case 4:return qm(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Ja(l,null,g,h):xn(a,l,g,h),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Cr(g,x),iS(a,l,g,x,h);case 7:return xn(a,l,l.pendingProps,h),l.child;case 8:return xn(a,l,l.pendingProps.children,h),l.child;case 12:return xn(a,l,l.pendingProps.children,h),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,S=l.memoizedProps,N=x.value,Ze(pd,g._currentValue),g._currentValue=N,S!==null)if(_r(S.value,N)){if(S.children===x.children&&!In.current){l=gi(a,l,h);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var T=S.dependencies;if(T!==null){N=S.child;for(var R=T.firstContext;R!==null;){if(R.context===g){if(S.tag===1){R=mi(-1,h&-h),R.tag=2;var B=S.updateQueue;if(B!==null){B=B.shared;var J=B.pending;J===null?R.next=R:(R.next=J.next,J.next=R),B.pending=R}}S.lanes|=h,R=S.alternate,R!==null&&(R.lanes|=h),Wm(S.return,h,l),T.lanes|=h;break}R=R.next}}else if(S.tag===10)N=S.type===l.type?null:S.child;else if(S.tag===18){if(N=S.return,N===null)throw Error(n(341));N.lanes|=h,T=N.alternate,T!==null&&(T.lanes|=h),Wm(N,h,l),N=S.sibling}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===l){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}xn(a,l,x.children,h),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,eo(l,h),x=ir(x),g=g(x),l.flags|=1,xn(a,l,g,h),l.child;case 14:return g=l.type,x=Cr(g,l.pendingProps),x=Cr(g.type,x),sS(a,l,g,x,h);case 15:return aS(a,l,l.type,l.pendingProps,h);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:Cr(g,x),kd(a,l),l.tag=1,Pn(g)?(a=!0,ld(l)):a=!1,eo(l,h),Q1(l,g,x),sg(l,g,x,h),cg(null,l,g,!0,a,h);case 19:return pS(a,l,h);case 22:return oS(a,l,h)}throw Error(n(156,l.tag))};function FS(a,l){return v_(a,l)}function $4(a,l,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(a,l,h,g){return new $4(a,l,h,g)}function Pg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function z4(a){if(typeof a=="function")return Pg(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===G)return 14}return 2}function ps(a,l){var h=a.alternate;return h===null?(h=or(a.tag,l,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=l,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&14680064,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,l=a.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h}function Ld(a,l,h,g,x,S){var N=2;if(g=a,typeof a=="function")Pg(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case U:return Qs(h.children,x,S,l);case z:N=8,x|=8;break;case Y:return a=or(12,h,l,x|2),a.elementType=Y,a.lanes=S,a;case se:return a=or(13,h,l,x),a.elementType=se,a.lanes=S,a;case xe:return a=or(19,h,l,x),a.elementType=xe,a.lanes=S,a;case le:return Fd(h,x,S,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case oe:N=10;break e;case M:N=9;break e;case H:N=11;break e;case G:N=14;break e;case fe:N=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=or(N,h,l,x),l.elementType=a,l.type=g,l.lanes=S,l}function Qs(a,l,h,g){return a=or(7,a,g,l),a.lanes=h,a}function Fd(a,l,h,g){return a=or(22,a,g,l),a.elementType=le,a.lanes=h,a.stateNode={isHidden:!1},a}function jg(a,l,h){return a=or(6,a,null,l),a.lanes=h,a}function Tg(a,l,h){return l=or(4,a.children!==null?a.children:[],a.key,l),l.lanes=h,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function U4(a,l,h,g,x){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Ag(a,l,h,g,x,S,N,T,R){return a=new U4(a,l,h,T,R),l===1?(l=1,S===!0&&(l|=8)):l=0,S=or(3,null,null,l),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hm(S),a}function B4(a,l,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:a,containerInfo:l,implementation:h}}function $S(a){if(!a)return ss;a=a._reactInternals;e:{if($s(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Pn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var h=a.type;if(Pn(h))return h1(a,h,l)}return l}function zS(a,l,h,g,x,S,N,T,R){return a=Ag(h,g,!0,a,x,S,N,T,R),a.context=$S(null),h=a.current,g=wn(),x=fs(h),S=mi(g,x),S.callback=l??null,ls(h,S,x),a.current.lanes=x,_l(a,x,g),An(a,g),a}function $d(a,l,h,g){var x=l.current,S=wn(),N=fs(x);return h=$S(h),l.context===null?l.context=h:l.pendingContext=h,l=mi(S,N),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ls(x,l,N),a!==null&&(Nr(a,x,N,S),gd(a,x,N)),N}function zd(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function US(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<l?h:l}}function Og(a,l){US(a,l),(a=a.alternate)&&US(a,l)}function W4(){return null}var BS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Rg(a){this._internalRoot=a}Ud.prototype.render=Rg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));$d(a,l,null,null)},Ud.prototype.unmount=Rg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Gs(function(){$d(null,a,null,null)}),l[ui]=null}};function Ud(a){this._internalRoot=a}Ud.prototype.unstable_scheduleHydration=function(a){if(a){var l=E_();a={blockedOn:null,target:a,priority:l};for(var h=0;h<es.length&&l!==0&&l<es[h].priority;h++);es.splice(h,0,a),h===0&&I_(a)}};function Dg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Bd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function WS(){}function V4(a,l,h,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var B=zd(N);S.call(B)}}var N=zS(l,g,a,0,null,!1,!1,"",WS);return a._reactRootContainer=N,a[ui]=N.current,Ml(a.nodeType===8?a.parentNode:a),Gs(),N}for(;x=a.lastChild;)a.removeChild(x);if(typeof g=="function"){var T=g;g=function(){var B=zd(R);T.call(B)}}var R=Ag(a,0,!1,null,null,!1,!1,"",WS);return a._reactRootContainer=R,a[ui]=R.current,Ml(a.nodeType===8?a.parentNode:a),Gs(function(){$d(l,R,h,g)}),R}function Wd(a,l,h,g,x){var S=h._reactRootContainer;if(S){var N=S;if(typeof x=="function"){var T=x;x=function(){var R=zd(N);T.call(R)}}$d(l,N,a,x)}else N=V4(h,l,a,x,g);return zd(N)}S_=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var h=bl(l.pendingLanes);h!==0&&(sm(l,h|1),An(l,xt()),(Ue&6)===0&&(so=xt()+500,as()))}break;case 13:Gs(function(){var g=pi(a,1);if(g!==null){var x=wn();Nr(g,a,1,x)}}),Og(a,1)}},am=function(a){if(a.tag===13){var l=pi(a,134217728);if(l!==null){var h=wn();Nr(l,a,134217728,h)}Og(a,134217728)}},C_=function(a){if(a.tag===13){var l=fs(a),h=pi(a,l);if(h!==null){var g=wn();Nr(h,a,l,g)}Og(a,l)}},E_=function(){return Ke},k_=function(a,l){var h=Ke;try{return Ke=a,l()}finally{Ke=h}},Jp=function(a,l,h){switch(l){case"input":if(wr(a,h),l=h.name,h.type==="radio"&&l!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<h.length;l++){var g=h[l];if(g!==a&&g.form===a.form){var x=ad(g);if(!x)throw Error(n(90));Z(g),wr(g,x)}}}break;case"textarea":t_(a,h);break;case"select":l=h.value,l!=null&&Ma(a,!!h.multiple,l,!1)}},u_=kg,d_=Gs;var H4={usingClientEntryPoint:!1,Events:[$l,qa,ad,l_,c_,kg]},Zl={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q4={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=m_(a),a===null?null:a.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||W4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vd.isDisabled&&Vd.supportsFiber)try{Uu=Vd.inject(q4),Kr=Vd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H4,On.createPortal=function(a,l){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(l))throw Error(n(200));return B4(a,l,null,h)},On.createRoot=function(a,l){if(!Dg(a))throw Error(n(299));var h=!1,g="",x=BS;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=Ag(a,1,!1,null,null,h,!1,g,x),a[ui]=l.current,Ml(a.nodeType===8?a.parentNode:a),new Rg(l)},On.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=m_(l),a=a===null?null:a.stateNode,a},On.flushSync=function(a){return Gs(a)},On.hydrate=function(a,l,h){if(!Bd(l))throw Error(n(200));return Wd(null,a,l,!0,h)},On.hydrateRoot=function(a,l,h){if(!Dg(a))throw Error(n(405));var g=h!=null&&h.hydratedSources||null,x=!1,S="",N=BS;if(h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),l=zS(l,null,a,1,h??null,x,!1,S,N),a[ui]=l.current,Ml(a),g)for(a=0;a<g.length;a++)h=g[a],x=h._getVersion,x=x(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,x]:l.mutableSourceEagerHydrationData.push(h,x);return new Ud(l)},On.render=function(a,l,h){if(!Bd(l))throw Error(n(200));return Wd(null,a,l,!1,h)},On.unmountComponentAtNode=function(a){if(!Bd(a))throw Error(n(40));return a._reactRootContainer?(Gs(function(){Wd(null,null,a,!1,function(){a._reactRootContainer=null,a[ui]=null})}),!0):!1},On.unstable_batchedUpdates=kg,On.unstable_renderSubtreeIntoContainer=function(a,l,h,g){if(!Bd(h))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Wd(a,l,h,!1,g)},On.version="18.3.1-next-f1338f8080-20240426",On}var QS;function $P(){if(QS)return $g.exports;QS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$g.exports=r3(),$g.exports}var JS;function i3(){if(JS)return Hd;JS=1;var e=$P();return Hd.createRoot=e.createRoot,Hd.hydrateRoot=e.hydrateRoot,Hd}var s3=i3();const a3=si(s3);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZS="popstate";function o3(e={}){function t(r,i){let{pathname:s,search:o,hash:c}=r.location;return Wy("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rc(i)}return c3(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function l3(){return Math.random().toString(36).substring(2,10)}function eC(e,t){return{usr:e.state,key:e.key,idx:t}}function Wy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qo(t):t,state:n,key:t&&t.key||r||l3()}}function Rc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function qo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function c3(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",u=null,f=p();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function p(){return(o.state||{idx:null}).idx}function m(){c="POP";let _=p(),E=_==null?null:_-f;f=_,u&&u({action:c,location:C.location,delta:E})}function v(_,E){c="PUSH";let k=Wy(C.location,_,E);f=p()+1;let I=eC(k,f),j=C.createHref(k);try{o.pushState(I,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(j)}s&&u&&u({action:c,location:C.location,delta:1})}function y(_,E){c="REPLACE";let k=Wy(C.location,_,E);f=p();let I=eC(k,f),j=C.createHref(k);o.replaceState(I,"",j),s&&u&&u({action:c,location:C.location,delta:0})}function w(_){return u3(_)}let C={get action(){return c},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ZS,m),u=_,()=>{i.removeEventListener(ZS,m),u=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let E=w(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:v,replace:y,go(_){return o.go(_)}};return C}function u3(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Rc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function zP(e,t,n="/"){return d3(e,t,n,!1)}function d3(e,t,n,r){let i=typeof t=="string"?qo(t):t,s=ji(i.pathname||"/",n);if(s==null)return null;let o=UP(e);f3(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let f=S3(s);c=b3(o[u],f,r)}return c}function UP(e,t=[],n=[],r="",i=!1){let s=(o,c,u=i,f)=>{let p={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;dt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=ki([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),UP(o.children,t,v,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:x3(m,o.index),routesMeta:v})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let f of BP(o.path))s(o,c,!0,f)}),t}function BP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BP(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function f3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:w3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h3=/^:[\w-]+$/,p3=3,m3=2,g3=1,v3=10,y3=-2,tC=e=>e==="*";function x3(e,t){let n=e.split("/"),r=n.length;return n.some(tC)&&(r+=y3),t&&(r+=m3),n.filter(i=>!tC(i)).reduce((i,s)=>i+(h3.test(s)?p3:s===""?g3:v3),r)}function w3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function b3(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],f=c===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=kf({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),v=u.route;if(!m&&f&&n&&!r[r.length-1].route.index&&(m=kf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ki([s,m.pathname]),pathnameBase:I3(ki([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=ki([s,m.pathnameBase]))}return o}function kf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=_3(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=c[v]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function _3(e,t=!1,n=!0){pr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function S3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ji(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var C3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E3=e=>C3.test(e);function k3(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?qo(e):e,s;if(n)if(E3(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),pr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=nC(n.substring(1),"/"):s=nC(n,t)}else s=t;return{pathname:s,search:P3(r),hash:j3(i)}}function nC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function N3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function u0(e){let t=N3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function d0(e,t,n,r=!1){let i;typeof e=="string"?i=qo(e):(i={...e},dt(!i.pathname||!i.pathname.includes("?"),Bg("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Bg("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Bg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=n;else{let m=t.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?t[m]:"/"}let u=k3(i,c),f=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),I3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,j3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var WP=["POST","PUT","PATCH","DELETE"];new Set(WP);var A3=["GET",...WP];new Set(A3);var Ko=b.createContext(null);Ko.displayName="DataRouter";var Vh=b.createContext(null);Vh.displayName="DataRouterState";b.createContext(!1);var VP=b.createContext({isTransitioning:!1});VP.displayName="ViewTransition";var O3=b.createContext(new Map);O3.displayName="Fetchers";var R3=b.createContext(null);R3.displayName="Await";var Ur=b.createContext(null);Ur.displayName="Navigation";var iu=b.createContext(null);iu.displayName="Location";var Br=b.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var f0=b.createContext(null);f0.displayName="RouteError";function D3(e,{relative:t}={}){dt(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ur),{hash:i,pathname:s,search:o}=su(e,{relative:t}),c=s;return n!=="/"&&(c=s==="/"?n:ki([n,s])),r.createHref({pathname:c,search:o,hash:i})}function Go(){return b.useContext(iu)!=null}function Wi(){return dt(Go(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(iu).location}var HP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qP(e){b.useContext(Ur).static||b.useLayoutEffect(e)}function ai(){let{isDataRoute:e}=b.useContext(Br);return e?G3():M3()}function M3(){dt(Go(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Ko),{basename:t,navigator:n}=b.useContext(Ur),{matches:r}=b.useContext(Br),{pathname:i}=Wi(),s=JSON.stringify(u0(r)),o=b.useRef(!1);return qP(()=>{o.current=!0}),b.useCallback((u,f={})=>{if(pr(o.current,HP),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=d0(u,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:ki([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,s,i,e])}b.createContext(null);function h0(){let{matches:e}=b.useContext(Br),t=e[e.length-1];return t?t.params:{}}function su(e,{relative:t}={}){let{matches:n}=b.useContext(Br),{pathname:r}=Wi(),i=JSON.stringify(u0(n));return b.useMemo(()=>d0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function L3(e,t){return KP(e,t)}function KP(e,t,n,r,i){var k;dt(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Ur),{matches:o}=b.useContext(Br),c=o[o.length-1],u=c?c.params:{},f=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let I=m&&m.path||"";GP(f,!m||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let v=Wi(),y;if(t){let I=typeof t=="string"?qo(t):t;dt(p==="/"||((k=I.pathname)==null?void 0:k.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${I.pathname}" was given in the \`location\` prop.`),y=I}else y=v;let w=y.pathname||"/",C=w;if(p!=="/"){let I=p.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let _=zP(e,{pathname:C});pr(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),pr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=B3(_&&_.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:ki([p,s.encodeLocation?s.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:ki([p,s.encodeLocation?s.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),o,n,r,i);return t&&E?b.createElement(iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},E):E}function F3(){let e=K3(),t=T3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,o)}var $3=b.createElement(F3,null),z3=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Br.Provider,{value:this.props.routeContext},b.createElement(f0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function U3({routeContext:e,match:t,children:n}){let r=b.useContext(Ko);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Br.Provider,{value:e},n)}function B3(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,u=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:v,errors:y}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let f=n&&r?(p,m)=>{var v,y;r(p,{location:n.location,params:((y=(v=n.matches)==null?void 0:v[0])==null?void 0:y.params)??{},errorInfo:m})}:void 0;return s.reduceRight((p,m,v)=>{let y,w=!1,C=null,_=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||$3,c&&(u<0&&v===0?(GP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):u===v&&(w=!0,_=m.route.hydrateFallbackElement||null)));let E=t.concat(s.slice(0,v+1)),k=()=>{let I;return y?I=C:w?I=_:m.route.Component?I=b.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=p,b.createElement(U3,{match:m,routeContext:{outlet:p,matches:E,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(z3,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:f}):k()},null)}function p0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W3(e){let t=b.useContext(Ko);return dt(t,p0(e)),t}function V3(e){let t=b.useContext(Vh);return dt(t,p0(e)),t}function H3(e){let t=b.useContext(Br);return dt(t,p0(e)),t}function m0(e){let t=H3(e),n=t.matches[t.matches.length-1];return dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function q3(){return m0("useRouteId")}function K3(){var r;let e=b.useContext(f0),t=V3("useRouteError"),n=m0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function G3(){let{router:e}=W3("useNavigate"),t=m0("useNavigate"),n=b.useRef(!1);return qP(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{pr(n.current,HP),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var rC={};function GP(e,t,n){!t&&!rC[e]&&(rC[e]=!0,pr(!1,n))}b.memo(Y3);function Y3({routes:e,future:t,state:n,unstable_onError:r}){return KP(e,void 0,n,r,t)}function X3({to:e,replace:t,state:n,relative:r}){dt(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Ur);pr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Br),{pathname:o}=Wi(),c=ai(),u=d0(e,u0(s),o,r==="path"),f=JSON.stringify(u);return b.useEffect(()=>{c(JSON.parse(f),{replace:t,state:n,relative:r})},[c,f,r,t,n]),null}function Rn(e){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dt(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=qo(n));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,y=b.useMemo(()=>{let w=ji(u,o);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:v},navigationType:r}},[o,u,f,p,m,v,r]);return pr(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(Ur.Provider,{value:c},b.createElement(iu.Provider,{children:t,value:y}))}function iC({children:e,location:t}){return L3(Vy(e),t)}function Vy(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Vy(r.props.children,s));return}dt(r.type===Rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vy(r.props.children,s)),n.push(o)}),n}var gf="get",vf="application/x-www-form-urlencoded";function Hh(e){return e!=null&&typeof e.tagName=="string"}function J3(e){return Hh(e)&&e.tagName.toLowerCase()==="button"}function Z3(e){return Hh(e)&&e.tagName.toLowerCase()==="form"}function eF(e){return Hh(e)&&e.tagName.toLowerCase()==="input"}function tF(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nF(e,t){return e.button===0&&(!t||t==="_self")&&!tF(e)}var qd=null;function rF(){if(qd===null)try{new FormData(document.createElement("form"),0),qd=!1}catch{qd=!0}return qd}var iF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wg(e){return e!=null&&!iF.has(e)?(pr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vf}"`),null):e}function sF(e,t){let n,r,i,s,o;if(Z3(e)){let c=e.getAttribute("action");r=c?ji(c,t):null,n=e.getAttribute("method")||gf,i=Wg(e.getAttribute("enctype"))||vf,s=new FormData(e)}else if(J3(e)||eF(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?ji(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||gf,i=Wg(e.getAttribute("formenctype"))||Wg(c.getAttribute("enctype"))||vf,s=new FormData(c,e),!rF()){let{name:f,type:p,value:m}=e;if(p==="image"){let v=f?`${f}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else f&&s.append(f,m)}}else{if(Hh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gf,r=null,i=vf,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function g0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function aF(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&ji(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function oF(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lF(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function cF(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await oF(s,n);return o.links?o.links():[]}return[]}));return hF(r.flat(1).filter(lF).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function sC(e,t,n,r,i,s){let o=(u,f)=>n[f]?u.route.id!==n[f].route.id:!0,c=(u,f)=>{var p;return n[f].pathname!==u.pathname||((p=n[f].route.path)==null?void 0:p.endsWith("*"))&&n[f].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,f)=>o(u,f)||c(u,f)):s==="data"?t.filter((u,f)=>{var m;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function uF(e,t,{includeHydrateFallback:n}={}){return dF(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function dF(e){return[...new Set(e)]}function fF(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function hF(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(fF(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function YP(){let e=b.useContext(Ko);return g0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function pF(){let e=b.useContext(Vh);return g0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var v0=b.createContext(void 0);v0.displayName="FrameworkContext";function XP(){let e=b.useContext(v0);return g0(e,"You must render this element inside a <HydratedRouter> element"),e}function mF(e,t){let n=b.useContext(v0),[r,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:m}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=E=>{E.forEach(k=>{o(k.isIntersecting)})},_=new IntersectionObserver(C,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),b.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:tc(c,y),onBlur:tc(u,w),onMouseEnter:tc(f,y),onMouseLeave:tc(p,w),onTouchStart:tc(m,y)}]:[!1,v,{}]}function tc(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gF({page:e,...t}){let{router:n}=YP(),r=b.useMemo(()=>zP(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(yF,{page:e,matches:r,...t}):null}function vF(e){let{manifest:t,routeModules:n}=XP(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return cF(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function yF({page:e,matches:t,...n}){let r=Wi(),{manifest:i,routeModules:s}=XP(),{basename:o}=YP(),{loaderData:c,matches:u}=pF(),f=b.useMemo(()=>sC(e,t,u,i,r,"data"),[e,t,u,i,r]),p=b.useMemo(()=>sC(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(t.forEach(E=>{var I;let k=i.routes[E.route.id];!k||!k.hasLoader||(!f.some(j=>j.route.id===E.route.id)&&E.route.id in c&&((I=s[E.route.id])!=null&&I.shouldRevalidate)||k.hasClientLoader?C=!0:w.add(E.route.id))}),w.size===0)return[];let _=aF(e,o,"data");return C&&w.size>0&&_.searchParams.set("_routes",t.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[o,c,r,i,f,t,e,s]),v=b.useMemo(()=>uF(p,i),[p,i]),y=vF(p);return b.createElement(b.Fragment,null,m.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:C})=>b.createElement("link",{key:w,nonce:n.nonce,...C})))}function xF(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var QP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QP&&(window.__reactRouterVersion="7.9.6")}catch{}function wF({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=o3({window:n,v5Compat:!0}));let i=r.current,[s,o]=b.useState({action:i.action,location:i.location}),c=b.useCallback(u=>{b.startTransition(()=>o(u))},[o]);return b.useLayoutEffect(()=>i.listen(c),[i,c]),b.createElement(Q3,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var JP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yo=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:u,to:f,preventScrollReset:p,viewTransition:m,...v},y){let{basename:w}=b.useContext(Ur),C=typeof f=="string"&&JP.test(f),_,E=!1;if(typeof f=="string"&&C&&(_=f,QP))try{let Y=new URL(window.location.href),oe=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),M=ji(oe.pathname,w);oe.origin===Y.origin&&M!=null?f=M+oe.search+oe.hash:E=!0}catch{pr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=D3(f,{relative:i}),[I,j,P]=mF(r,v),A=CF(f,{replace:o,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:m});function U(Y){t&&t(Y),Y.defaultPrevented||A(Y)}let z=b.createElement("a",{...v,...P,href:_||k,onClick:E||s?t:U,ref:xF(y,j),target:u,"data-discover":!C&&n==="render"?"true":void 0});return I&&!C?b.createElement(b.Fragment,null,z,b.createElement(gF,{page:k})):z});Yo.displayName="Link";var bF=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:u,...f},p){let m=su(o,{relative:f.relative}),v=Wi(),y=b.useContext(Vh),{navigator:w,basename:C}=b.useContext(Ur),_=y!=null&&PF(m)&&c===!0,E=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,k=v.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(k=k.toLowerCase(),I=I?I.toLowerCase():null,E=E.toLowerCase()),I&&C&&(I=ji(I,C)||I);const j=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=k===E||!i&&k.startsWith(E)&&k.charAt(j)==="/",A=I!=null&&(I===E||!i&&I.startsWith(E)&&I.charAt(E.length)==="/"),U={isActive:P,isPending:A,isTransitioning:_},z=P?t:void 0,Y;typeof r=="function"?Y=r(U):Y=[r,P?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let oe=typeof s=="function"?s(U):s;return b.createElement(Yo,{...f,"aria-current":z,className:Y,ref:p,style:oe,to:o,viewTransition:c},typeof u=="function"?u(U):u)});bF.displayName="NavLink";var _F=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=gf,action:c,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:m,...v},y)=>{let w=NF(),C=IF(c,{relative:f}),_=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&JP.test(c),k=I=>{if(u&&u(I),I.defaultPrevented)return;I.preventDefault();let j=I.nativeEvent.submitter,P=(j==null?void 0:j.getAttribute("formmethod"))||o;w(j||I.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:s,relative:f,preventScrollReset:p,viewTransition:m})};return b.createElement("form",{ref:y,method:_,action:C,onSubmit:r?u:k,...v,"data-discover":!E&&e==="render"?"true":void 0})});_F.displayName="Form";function SF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZP(e){let t=b.useContext(Ko);return dt(t,SF(e)),t}function CF(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=ai(),u=Wi(),f=su(e,{relative:s});return b.useCallback(p=>{if(nF(p,t)){p.preventDefault();let m=n!==void 0?n:Rc(u)===Rc(f);c(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,f,n,r,t,e,i,s,o])}var EF=0,kF=()=>`__${String(++EF)}__`;function NF(){let{router:e}=ZP("useSubmit"),{basename:t}=b.useContext(Ur),n=q3();return b.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:u,body:f}=sF(r,t);if(i.navigate===!1){let p=i.fetcherKey||kF();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:f,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function IF(e,{relative:t}={}){let{basename:n}=b.useContext(Ur),r=b.useContext(Br);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...su(e||".",{relative:t})},o=Wi();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ki([n,s.pathname])),Rc(s)}function PF(e,{relative:t}={}){let n=b.useContext(VP);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZP("useViewTransitionState"),i=su(e,{relative:t});if(!n.isTransitioning)return!1;let s=ji(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ji(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kf(i.pathname,o)!=null||kf(i.pathname,s)!=null}var ej=$P();const jF=()=>{};var aC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(e,t){if(!e)throw Xo(t)},Xo=function(e){return new Error("Firebase Database ("+tj.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},TF=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],c=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,c=o?e[i+1]:0,u=i+2<e.length,f=u?e[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|f>>6,y=f&63;u||(y=64,o||(v=64)),r.push(n[p],n[m],n[v],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],c=i<e.length?n[e.charAt(i)]:0;++i;const f=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||c==null||f==null||m==null)throw new AF;const v=s<<2|c>>4;if(r.push(v),f!==64){const y=c<<4&240|f>>2;if(r.push(y),m!==64){const w=f<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rj=function(e){const t=nj(e);return y0.encodeByteArray(t,!0)},Nf=function(e){return rj(e).replace(/\./g,"")},If=function(e){try{return y0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(e){return ij(void 0,e)}function ij(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!RF(n)||(e[n]=ij(e[n],t[n]));return e}function RF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MF=()=>DF().__FIREBASE_DEFAULTS__,LF=()=>{if(typeof process>"u"||typeof aC>"u")return;const e=aC.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},FF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&If(e[1]);return t&&JSON.parse(t)},x0=()=>{try{return jF()||MF()||LF()||FF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},sj=e=>{var t,n;return(n=(t=x0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},$F=e=>{const t=sj(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},aj=()=>{var e;return(e=x0())==null?void 0:e.config},oj=e=>{var t;return(t=x0())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lj(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Nf(JSON.stringify(n)),Nf(JSON.stringify(o)),""].join(".")}const Sc={};function UF(){const e={prod:[],emulator:[]};for(const t of Object.keys(Sc))Sc[t]?e.emulator.push(t):e.prod.push(t);return e}function BF(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let oC=!1;function cj(e,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Sc[e]===t||Sc[e]||oC)return;Sc[e]=t;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=UF().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{oC=!0,o()},v}function p(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=BF(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),_=document.getElementById(C)||document.createElement("a"),E=n("preprendIcon"),k=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const I=v.element;c(I),p(_,C);const j=f();u(k,E),I.append(k,w,_,j),document.body.appendChild(I)}s?(w.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function WF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uj(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function dj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VF(){const e=kn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function HF(){return tj.NODE_ADMIN===!0}function fj(){try{return typeof indexedDB=="object"}catch{return!1}}function hj(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function qF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="FirebaseError";class oi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=KF,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Na.prototype.create)}}class Na{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?GF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new oi(i,c,r)}}function GF(e,t){return e.replace(YF,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const YF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return JSON.parse(e)}function Jt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Dc(If(s[0])||""),n=Dc(If(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},XF=function(e){const t=pj(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},QF=function(e){const t=pj(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jo(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Hy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Pf(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function js(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(lC(s)&&lC(o)){if(!js(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lC(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function yc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function xc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let m=0;m<16;m++)r[m]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let m=16;m<80;m++){const v=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],f,p;for(let m=0;m<80;m++){m<40?m<20?(f=c^s&(o^c),p=1518500249):(f=s^o^c,p=1859775393):m<60?(f=s&o|c&(s|o),p=2400959708):(f=s^o^c,p=3395469782);const v=(i<<5|i>>>27)+f+u+p+r[m]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function ZF(e,t){const n=new e$(e,t);return n.subscribe.bind(n)}class e${constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t$(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Vg),i.error===void 0&&(i.error=Vg),i.complete===void 0&&(i.complete=Vg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t$(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Vg(){}function qh(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,re(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},Kh=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=1e3,i$=2,s$=14400*1e3,a$=.5;function cC(e,t=r$,n=i$){const r=t*Math.pow(n,e),i=Math.round(a$*r*(Math.random()-.5)*2);return Math.min(s$,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(e){return e&&e._delegate?e._delegate:e}class Mr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o$=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new au;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(c$(t))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=ea){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ea){return this.instances.has(t)}getOptions(t=ea){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:l$(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=ea){return this.component?this.component.multipleInstances?t:ea:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function l$(e){return e===ea?void 0:e}function c$(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new o$(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Xe||(Xe={}));const d$={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},f$=Xe.INFO,h$={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},p$=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=h$[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gh{constructor(t){this.name=t,this._logLevel=f$,this._logHandler=p$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?d$[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...t),this._logHandler(this,Xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...t),this._logHandler(this,Xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...t),this._logHandler(this,Xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...t),this._logHandler(this,Xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...t),this._logHandler(this,Xe.ERROR,...t)}}const m$=(e,t)=>t.some(n=>e instanceof n);let uC,dC;function g$(){return uC||(uC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v$(){return dC||(dC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mj=new WeakMap,qy=new WeakMap,gj=new WeakMap,Hg=new WeakMap,b0=new WeakMap;function y$(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(ks(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&mj.set(n,e)}).catch(()=>{}),b0.set(t,e),t}function x$(e){if(qy.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});qy.set(e,t)}let Ky={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gj.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ks(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function w$(e){Ky=e(Ky)}function b$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(qg(this),t,...n);return gj.set(r,t.sort?t.sort():[t]),ks(r)}:v$().includes(e)?function(...t){return e.apply(qg(this),t),ks(mj.get(this))}:function(...t){return ks(e.apply(qg(this),t))}}function _$(e){return typeof e=="function"?b$(e):(e instanceof IDBTransaction&&x$(e),m$(e,g$())?new Proxy(e,Ky):e)}function ks(e){if(e instanceof IDBRequest)return y$(e);if(Hg.has(e))return Hg.get(e);const t=_$(e);return t!==e&&(Hg.set(e,t),b0.set(t,e)),t}const qg=e=>b0.get(e);function vj(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),c=ks(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ks(o.result),u.oldVersion,u.newVersion,ks(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const S$=["get","getKey","getAll","getAllKeys","count"],C$=["put","add","delete","clear"],Kg=new Map;function fC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Kg.get(t))return Kg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=C$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S$.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&u.done]))[0]};return Kg.set(t,s),s}w$(e=>({...e,get:(t,n,r)=>fC(t,n)||e.get(t,n,r),has:(t,n)=>!!fC(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(k$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function k$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Gy="@firebase/app",hC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=new Gh("@firebase/app"),N$="@firebase/app-compat",I$="@firebase/analytics-compat",P$="@firebase/analytics",j$="@firebase/app-check-compat",T$="@firebase/app-check",A$="@firebase/auth",O$="@firebase/auth-compat",R$="@firebase/database",D$="@firebase/data-connect",M$="@firebase/database-compat",L$="@firebase/functions",F$="@firebase/functions-compat",$$="@firebase/installations",z$="@firebase/installations-compat",U$="@firebase/messaging",B$="@firebase/messaging-compat",W$="@firebase/performance",V$="@firebase/performance-compat",H$="@firebase/remote-config",q$="@firebase/remote-config-compat",K$="@firebase/storage",G$="@firebase/storage-compat",Y$="@firebase/firestore",X$="@firebase/ai",Q$="@firebase/firestore-compat",J$="firebase",Z$="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="[DEFAULT]",e6={[Gy]:"fire-core",[N$]:"fire-core-compat",[P$]:"fire-analytics",[I$]:"fire-analytics-compat",[T$]:"fire-app-check",[j$]:"fire-app-check-compat",[A$]:"fire-auth",[O$]:"fire-auth-compat",[R$]:"fire-rtdb",[D$]:"fire-data-connect",[M$]:"fire-rtdb-compat",[L$]:"fire-fn",[F$]:"fire-fn-compat",[$$]:"fire-iid",[z$]:"fire-iid-compat",[U$]:"fire-fcm",[B$]:"fire-fcm-compat",[W$]:"fire-perf",[V$]:"fire-perf-compat",[H$]:"fire-rc",[q$]:"fire-rc-compat",[K$]:"fire-gcs",[G$]:"fire-gcs-compat",[Y$]:"fire-fst",[Q$]:"fire-fst-compat",[X$]:"fire-vertex","fire-js":"fire-js",[J$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf=new Map,t6=new Map,Xy=new Map;function pC(e,t){try{e.container.addComponent(t)}catch(n){Ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ti(e){const t=e.name;if(Xy.has(t))return Ti.debug(`There were multiple attempts to register component ${t}.`),!1;Xy.set(t,e);for(const n of jf.values())pC(n,e);for(const n of t6.values())pC(n,e);return!0}function Pa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Gn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Na("app","Firebase",n6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=Z$;function yj(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Yy,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Ns.create("bad-app-name",{appName:String(i)});if(n||(n=aj()),!n)throw Ns.create("no-options");const s=jf.get(i);if(s){if(js(n,s.options)&&js(r,s.config))return s;throw Ns.create("duplicate-app",{appName:i})}const o=new u$(i);for(const u of Xy.values())o.addComponent(u);const c=new r6(n,r,o);return jf.set(i,c),c}function _0(e=Yy){const t=jf.get(e);if(!t&&e===Yy&&aj())return yj();if(!t)throw Ns.create("no-app",{appName:e});return t}function hr(e,t,n){let r=e6[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ti.warn(o.join(" "));return}ti(new Mr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="firebase-heartbeat-database",s6=1,Mc="firebase-heartbeat-store";let Gg=null;function xj(){return Gg||(Gg=vj(i6,s6,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ns.create("idb-open",{originalErrorMessage:e.message})})),Gg}async function a6(e){try{const n=(await xj()).transaction(Mc),r=await n.objectStore(Mc).get(wj(e));return await n.done,r}catch(t){if(t instanceof oi)Ti.warn(t.message);else{const n=Ns.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ti.warn(n.message)}}}async function mC(e,t){try{const r=(await xj()).transaction(Mc,"readwrite");await r.objectStore(Mc).put(t,wj(e)),await r.done}catch(n){if(n instanceof oi)Ti.warn(n.message);else{const r=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ti.warn(r.message)}}}function wj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=1024,l6=30;class c6{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gC();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>l6){const o=f6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ti.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gC(),{heartbeatsToSend:r,unsentEntries:i}=u6(this._heartbeatsCache.heartbeats),s=Nf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ti.warn(n),""}}}function gC(){return new Date().toISOString().substring(0,10)}function u6(e,t=o6){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vC(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class d6{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fj()?hj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return mC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return mC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vC(e){return Nf(JSON.stringify({version:2,heartbeats:e})).length}function f6(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(e){ti(new Mr("platform-logger",t=>new E$(t),"PRIVATE")),ti(new Mr("heartbeat",t=>new c6(t),"PRIVATE")),hr(Gy,hC,e),hr(Gy,hC,"esm2020"),hr("fire-js","")}h6("");var p6="firebase",m6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(p6,m6,"app");const bj="@firebase/installations",S0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j=1e4,Sj=`w:${S0}`,Cj="FIS_v2",g6="https://firebaseinstallations.googleapis.com/v1",v6=3600*1e3,y6="installations",x6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},pa=new Na(y6,x6,w6);function Ej(e){return e instanceof oi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj({projectId:e}){return`${g6}/projects/${e}/installations`}function Nj(e){return{token:e.token,requestStatus:2,expiresIn:_6(e.expiresIn),creationTime:Date.now()}}async function Ij(e,t){const r=(await t.json()).error;return pa.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Pj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function b6(e,{refreshToken:t}){const n=Pj(e);return n.append("Authorization",S6(t)),n}async function jj(e){const t=await e();return t.status>=500&&t.status<600?e():t}function _6(e){return Number(e.replace("s","000"))}function S6(e){return`${Cj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=kj(e),i=Pj(e),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={fid:n,authVersion:Cj,appId:e.appId,sdkVersion:Sj},c={method:"POST",headers:i,body:JSON.stringify(o)},u=await jj(()=>fetch(r,c));if(u.ok){const f=await u.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:Nj(f.authToken)}}else throw await Ij("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6=/^[cdef][\w-]{21}$/,Qy="";function N6(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=I6(e);return k6.test(n)?n:Qy}catch{return Qy}}function I6(e){return E6(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new Map;function Oj(e,t){const n=Yh(e);Rj(n,t),P6(n,t)}function Rj(e,t){const n=Aj.get(e);if(n)for(const r of n)r(t)}function P6(e,t){const n=j6();n&&n.postMessage({key:e,fid:t}),T6()}let sa=null;function j6(){return!sa&&"BroadcastChannel"in self&&(sa=new BroadcastChannel("[Firebase] FID Change"),sa.onmessage=e=>{Rj(e.data.key,e.data.fid)}),sa}function T6(){Aj.size===0&&sa&&(sa.close(),sa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6="firebase-installations-database",O6=1,ma="firebase-installations-store";let Yg=null;function C0(){return Yg||(Yg=vj(A6,O6,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ma)}}})),Yg}async function Tf(e,t){const n=Yh(e),i=(await C0()).transaction(ma,"readwrite"),s=i.objectStore(ma),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&Oj(e,t.fid),t}async function Dj(e){const t=Yh(e),r=(await C0()).transaction(ma,"readwrite");await r.objectStore(ma).delete(t),await r.done}async function Xh(e,t){const n=Yh(e),i=(await C0()).transaction(ma,"readwrite"),s=i.objectStore(ma),o=await s.get(n),c=t(o);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!o||o.fid!==c.fid)&&Oj(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(e){let t;const n=await Xh(e.appConfig,r=>{const i=R6(r),s=D6(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===Qy?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function R6(e){const t=e||{fid:N6(),registrationStatus:0};return Mj(t)}function D6(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(pa.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=M6(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:L6(e)}:{installationEntry:t}}async function M6(e,t){try{const n=await C6(e,t);return Tf(e.appConfig,n)}catch(n){throw Ej(n)&&n.customData.serverCode===409?await Dj(e.appConfig):await Tf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function L6(e){let t=await yC(e.appConfig);for(;t.registrationStatus===1;)await Tj(100),t=await yC(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await E0(e);return r||n}return t}function yC(e){return Xh(e,t=>{if(!t)throw pa.create("installation-not-found");return Mj(t)})}function Mj(e){return F6(e)?{fid:e.fid,registrationStatus:0}:e}function F6(e){return e.registrationStatus===1&&e.registrationTime+_j<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6({appConfig:e,heartbeatServiceProvider:t},n){const r=z6(e,n),i=b6(e,n),s=t.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const o={installation:{sdkVersion:Sj,appId:e.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},u=await jj(()=>fetch(r,c));if(u.ok){const f=await u.json();return Nj(f)}else throw await Ij("Generate Auth Token",u)}function z6(e,{fid:t}){return`${kj(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(e,t=!1){let n;const r=await Xh(e.appConfig,s=>{if(!Lj(s))throw pa.create("not-registered");const o=s.authToken;if(!t&&W6(o))return s;if(o.requestStatus===1)return n=U6(e,t),s;{if(!navigator.onLine)throw pa.create("app-offline");const c=H6(s);return n=B6(e,c),c}});return n?await n:r.authToken}async function U6(e,t){let n=await xC(e.appConfig);for(;n.authToken.requestStatus===1;)await Tj(100),n=await xC(e.appConfig);const r=n.authToken;return r.requestStatus===0?k0(e,t):r}function xC(e){return Xh(e,t=>{if(!Lj(t))throw pa.create("not-registered");const n=t.authToken;return q6(n)?{...t,authToken:{requestStatus:0}}:t})}async function B6(e,t){try{const n=await $6(e,t),r={...t,authToken:n};return await Tf(e.appConfig,r),n}catch(n){if(Ej(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Dj(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Tf(e.appConfig,r)}throw n}}function Lj(e){return e!==void 0&&e.registrationStatus===2}function W6(e){return e.requestStatus===2&&!V6(e)}function V6(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+v6}function H6(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function q6(e){return e.requestStatus===1&&e.requestTime+_j<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(e){const t=e,{installationEntry:n,registrationPromise:r}=await E0(t);return r?r.catch(console.error):k0(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(e,t=!1){const n=e;return await Y6(n),(await k0(n,t)).token}async function Y6(e){const{registrationPromise:t}=await E0(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(e){if(!e||!e.options)throw Xg("App Configuration");if(!e.name)throw Xg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Xg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Xg(e){return pa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="installations",Q6="installations-internal",J6=e=>{const t=e.getProvider("app").getImmediate(),n=X6(t),r=Pa(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Z6=e=>{const t=e.getProvider("app").getImmediate(),n=Pa(t,Fj).getImmediate();return{getId:()=>K6(n),getToken:i=>G6(n,i)}};function ez(){ti(new Mr(Fj,J6,"PUBLIC")),ti(new Mr(Q6,Z6,"PRIVATE"))}ez();hr(bj,S0);hr(bj,S0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="analytics",tz="firebase_id",nz="origin",rz=60*1e3,iz="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",N0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=new Gh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xn=new Na("analytics","Analytics",sz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function az(e){if(!e.startsWith(N0)){const t=Xn.create("invalid-gtag-resource",{gtagURL:e});return Cn.warn(t.message),""}return e}function $j(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function oz(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function lz(e,t){const n=oz("firebase-js-sdk-policy",{createScriptURL:az}),r=document.createElement("script"),i=`${N0}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function cz(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function uz(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const u=(await $j(n)).find(f=>f.measurementId===i);u&&await t[u.appId]}}catch(c){Cn.error(c)}e("config",i,s)}async function dz(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await $j(n);for(const u of o){const f=c.find(m=>m.measurementId===u),p=f&&t[f.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Cn.error(s)}}function fz(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[c,u]=o;await dz(e,t,n,c,u)}else if(s==="config"){const[c,u]=o;await uz(e,t,n,r,c,u)}else if(s==="consent"){const[c,u]=o;e("consent",c,u)}else if(s==="get"){const[c,u,f]=o;e("get",c,u,f)}else if(s==="set"){const[c]=o;e("set",c)}else e(s,...o)}catch(c){Cn.error(c)}}return i}function hz(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=fz(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function pz(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(N0)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=30,gz=1e3;class vz{constructor(t={},n=gz){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const zj=new vz;function yz(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function xz(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:yz(n)},i=iz.replace("{app-id}",t),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let c="";try{const u=await s.json();(o=u.error)!=null&&o.message&&(c=u.error.message)}catch{}throw Xn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()}async function wz(e,t=zj,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Xn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xn.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Sz;return setTimeout(async()=>{c.abort()},rz),Uj({appId:r,apiKey:i,measurementId:s},o,c,t)}async function Uj(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=zj){var c;const{appId:s,measurementId:o}=e;try{await bz(r,t)}catch(u){if(o)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw u}try{const u=await xz(e);return i.deleteThrottleMetadata(s),u}catch(u){const f=u;if(!_z(f)){if(i.deleteThrottleMetadata(s),o)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:s,measurementId:o};throw u}const p=Number((c=f==null?void 0:f.customData)==null?void 0:c.httpStatus)===503?cC(n,i.intervalMillis,mz):cC(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(s,m),Cn.debug(`Calling attemptFetch again in ${p} millis`),Uj(e,m,r,i)}}function bz(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function _z(e){if(!(e instanceof oi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Sz{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Cz(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o={...r,send_to:s};e("event",n,o)}}async function Ez(e,t,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(){if(fj())try{await hj()}catch(e){return Cn.warn(Xn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Cn.warn(Xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Nz(e,t,n,r,i,s,o){const c=wz(e);c.then(v=>{n[v.measurementId]=v.appId,e.options.measurementId&&v.measurementId!==e.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Cn.error(v)),t.push(c);const u=kz().then(v=>{if(v)return r.getId()}),[f,p]=await Promise.all([c,u]);pz(s)||lz(s,f.measurementId),i("js",new Date);const m=(o==null?void 0:o.config)??{};return m[nz]="firebase",m.update=!0,p!=null&&(m[tz]=p),i("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(t){this.app=t}_delete(){return delete yo[this.app.options.appId],Promise.resolve()}}let yo={},wC=[];const bC={};let Qg="dataLayer",Pz="gtag",_C,I0,SC=!1;function jz(){const e=[];if(uj()&&e.push("This is a browser extension environment."),qF()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xn.create("invalid-analytics-context",{errorInfo:t});Cn.warn(n.message)}}function Tz(e,t,n){jz();const r=e.options.appId;if(!r)throw Xn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xn.create("no-api-key");if(yo[r]!=null)throw Xn.create("already-exists",{id:r});if(!SC){cz(Qg);const{wrappedGtag:s,gtagCore:o}=hz(yo,wC,bC,Qg,Pz);I0=s,_C=o,SC=!0}return yo[r]=Nz(e,wC,bC,t,_C,Qg,n),new Iz(e)}function Az(e=_0()){e=Lt(e);const t=Pa(e,Af);return t.isInitialized()?t.getImmediate():Oz(e)}function Oz(e,t={}){const n=Pa(e,Af);if(n.isInitialized()){const i=n.getImmediate();if(js(t,n.getOptions()))return i;throw Xn.create("already-initialized")}return n.initialize({options:t})}function Rz(e,t,n){e=Lt(e),Ez(I0,yo[e.app.options.appId],t,n).catch(r=>Cn.error(r))}function Dz(e,t,n,r){e=Lt(e),Cz(I0,yo[e.app.options.appId],t,n,r).catch(i=>Cn.error(i))}const CC="@firebase/analytics",EC="0.10.19";function Mz(){ti(new Mr(Af,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Tz(r,i,n)},"PUBLIC")),ti(new Mr("analytics-internal",e,"PRIVATE")),hr(CC,EC),hr(CC,EC,"esm2020");function e(t){try{const n=t.getProvider(Af).getImmediate();return{logEvent:(r,i,s)=>Dz(n,r,i,s),setUserProperties:(r,i)=>Rz(n,r,i)}}catch(n){throw Xn.create("interop-component-reg-failed",{reason:n})}}}Mz();var kC={};const NC="@firebase/database",IC="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bj="";function Lz(e){Bj=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Jt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Dc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return li(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Fz(t)}}catch{}return new $z},aa=Wj("localStorage"),zz=Wj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Gh("@firebase/database"),Uz=(function(){let e=1;return function(){return e++}})(),Vj=function(e){const t=n$(e),n=new JF;n.update(t);const r=n.digest();return y0.encodeByteArray(r)},ou=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ou.apply(null,r):typeof r=="object"?t+=Jt(r):t+=r,t+=" "}return t};let Cc=null,PC=!0;const Bz=function(e,t){re(!0,"Can't turn on custom loggers persistently."),xo.logLevel=Xe.VERBOSE,Cc=xo.log.bind(xo)},on=function(...e){if(PC===!0&&(PC=!1,Cc===null&&zz.get("logging_enabled")===!0&&Bz()),Cc){const t=ou.apply(null,e);Cc(t)}},lu=function(e){return function(...t){on(e,...t)}},Jy=function(...e){const t="FIREBASE INTERNAL ERROR: "+ou(...e);xo.error(t)},Ai=function(...e){const t=`FIREBASE FATAL ERROR: ${ou(...e)}`;throw xo.error(t),new Error(t)},En=function(...e){const t="FIREBASE WARNING: "+ou(...e);xo.warn(t)},Wz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&En("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},P0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Vz=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},To="[MIN_NAME]",ga="[MAX_NAME]",ja=function(e,t){if(e===t)return 0;if(e===To||t===ga)return-1;if(t===To||e===ga)return 1;{const n=jC(e),r=jC(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Hz=function(e,t){return e===t?0:e<t?-1:1},nc=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Jt(t))},j0=function(e){if(typeof e!="object"||e===null)return Jt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Jt(t[r]),n+=":",n+=j0(e[t[r]]);return n+="}",n},Hj=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function cn(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const qj=function(e){re(!P0(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,c,u;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,o=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const f=[];for(u=n;u;u-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(u=t;u;u-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const p=f.join("");let m="";for(u=0;u<64;u+=8){let v=parseInt(p.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),m=m+v}return m.toLowerCase()},qz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Kz=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Gz(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Yz=new RegExp("^-?(0*)\\d{1,10}$"),Xz=-2147483648,Qz=2147483647,jC=function(e){if(Yz.test(e)){const t=Number(e);if(t>=Xz&&t<=Qz)return t}return null},Zo=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw En("Exception was thrown by user callback.",n),t},Math.floor(0))}},Jz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ec=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Gn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){En(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(on("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',En(t)}}class yf{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}yf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="5",Kj="v",Gj="s",Yj="r",Xj="f",Qj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Jj="ls",Zj="p",Zy="ac",eT="websocket",tT="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(t,n,r,i,s=!1,o="",c=!1,u=!1,f=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=aa.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&aa.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function tU(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function rT(e,t,n){re(typeof t=="string","typeof type must == string"),re(typeof n=="object","typeof params must == object");let r;if(t===eT)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===tT)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tU(e)&&(n.ns=e.namespace);const i=[];return cn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(){this.counters_={}}incrementCounter(t,n=1){li(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return OF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg={},Zg={};function A0(e){const t=e.toString();return Jg[t]||(Jg[t]=new nU),Jg[t]}function rU(e,t){const n=e.toString();return Zg[n]||(Zg[n]=t()),Zg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Zo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="start",sU="close",aU="pLPCommand",oU="pRTLPCB",iT="id",sT="pw",aT="ser",lU="cb",cU="seg",uU="ts",dU="d",fU="dframe",oT=1870,lT=30,hU=oT-lT,pU=25e3,mU=3e4;class po{constructor(t,n,r,i,s,o,c){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lu(t),this.stats_=A0(n),this.urlFn=u=>(this.appCheckToken&&(u[Zy]=this.appCheckToken),rT(n,tT,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iU(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mU)),Vz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new O0((...s)=>{const[o,c,u,f,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===TC)this.id=c,this.password=u;else if(o===sU)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[TC]="t",r[aT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lU]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Kj]=T0,this.transportSessionId&&(r[Gj]=this.transportSessionId),this.lastSessionId&&(r[Jj]=this.lastSessionId),this.applicationId&&(r[Zj]=this.applicationId),this.appCheckToken&&(r[Zy]=this.appCheckToken),typeof location<"u"&&location.hostname&&Qj.test(location.hostname)&&(r[Yj]=Xj);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){po.forceAllow_=!0}static forceDisallow(){po.forceDisallow_=!0}static isAvailable(){return po.forceAllow_?!0:!po.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qz()&&!Kz()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rj(n),i=Hj(r,hU);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[fU]="t",r[iT]=t,r[sT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Jt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class O0{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Uz(),window[aU+this.uniqueCallbackIdentifier]=t,window[oU+this.uniqueCallbackIdentifier]=n,this.myIFrame=O0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){on("frame writing exception"),c.stack&&on(c.stack),on(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||on("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[iT]=this.myID,t[sT]=this.myPW,t[aT]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lT+r.length<=oT;){const o=this.pendingSegs.shift();r=r+"&"+cU+i+"="+o.seg+"&"+uU+i+"="+o.ts+"&"+dU+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(pU)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{on("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU=16384,vU=45e3;let Of=null;typeof MozWebSocket<"u"?Of=MozWebSocket:typeof WebSocket<"u"&&(Of=WebSocket);class Ir{constructor(t,n,r,i,s,o,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lu(this.connId),this.stats_=A0(n),this.connURL=Ir.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Kj]=T0,typeof location<"u"&&location.hostname&&Qj.test(location.hostname)&&(o[Yj]=Xj),n&&(o[Gj]=n),r&&(o[Jj]=r),i&&(o[Zy]=i),s&&(o[Zj]=s),rT(t,eT,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aa.set("previous_websocket_failure",!0);try{let r;HF(),this.mySock=new Of(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ir.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Of!==null&&!Ir.forceDisallow_}static previouslyFailed(){return aa.isInMemoryStorage||aa.get("previous_websocket_failure")===!0}markConnectionHealthy(){aa.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Dc(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(re(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Jt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Hj(n,gU);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vU))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ir.responsesRequiredToBeHealthy=2;Ir.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{static get ALL_TRANSPORTS(){return[po,Ir]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Ir&&Ir.isAvailable();let r=n&&!Ir.previouslyFailed();if(t.webSocketOnly&&(n||En("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ir];else{const i=this.transports_=[];for(const s of Lc.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Lc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Lc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=6e4,xU=5e3,wU=10*1024,bU=100*1024,ev="t",AC="d",_U="s",OC="r",SU="e",RC="o",DC="a",MC="n",LC="p",CU="h";class EU{constructor(t,n,r,i,s,o,c,u,f,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=f,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lu("c:"+this.id+":"),this.transportManager_=new Lc(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ec(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>wU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ev in t){const n=t[ev];n===DC?this.upgradeIfSecondaryHealthy_():n===OC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===RC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=nc("t",t),r=nc("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:LC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=nc("t",t),r=nc("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=nc(ev,t);if(AC in t){const r=t[AC];if(n===CU){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===MC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===_U?this.onConnectionShutdown_(r):n===OC?this.onReset_(r):n===SU?Jy("Server Error: "+r):n===RC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jy("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),T0!==r&&En("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ec(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yU))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ec(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(xU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:LC,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uT=class{constructor(t){this.allowedEvents_=t,this.listeners_={},re(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){re(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf extends uT{static getInstance(){return new Rf}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!w0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return re(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=32,$C=768;let Qe=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function Ve(){return new Qe("")}function Re(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ts(e){return e.pieces_.length-e.pieceNum_}function nt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Qe(e.pieces_,t)}function R0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function kU(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fc(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function dT(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Qe(t,0)}function vt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Qe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Qe(n,0)}function Me(e){return e.pieceNum_>=e.pieces_.length}function Mn(e,t){const n=Re(e),r=Re(t);if(n===null)return t;if(n===r)return Mn(nt(e),nt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function NU(e,t){const n=Fc(e,0),r=Fc(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=ja(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function D0(e,t){if(Ts(e)!==Ts(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function dr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ts(e)>Ts(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class IU{constructor(t,n){this.errorPrefix_=n,this.parts_=Fc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Kh(this.parts_[r]);fT(this)}}function PU(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Kh(t),fT(e)}function jU(e){const t=e.parts_.pop();e.byteLength_-=Kh(t),e.parts_.length>0&&(e.byteLength_-=1)}function fT(e){if(e.byteLength_>$C)throw new Error(e.errorPrefix_+"has a key path longer than "+$C+" bytes ("+e.byteLength_+").");if(e.parts_.length>FC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+FC+") or object contains a cycle "+ta(e))}function ta(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0 extends uT{static getInstance(){return new M0}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return re(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=1e3,TU=300*1e3,zC=30*1e3,AU=1.3,OU=3e4,RU="server_kill",UC=3;class Ni extends cT{constructor(t,n,r,i,s,o,c,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=Ni.nextPersistentConnectionId_++,this.log_=lu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rc,this.maxReconnectDelay_=TU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");M0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Rf.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Jt(s)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new au,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,c=>{const u=c.d,f=c.s;Ni.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(f,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&li(t,"w")){const r=jo(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();En(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||QF(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zC)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=XF(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Jt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Jy("Unrecognized action received from server: "+Jt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rc,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=rc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>OU&&(this.reconnectDelay_=rc),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Ni.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,r())},f=function(m){re(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:u,sendRequest:f};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?on("getToken() completed but was canceled"):(on("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,c=new EU(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{En(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(RU)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&En(m),u())}}}interrupt(t){on("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){on("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Hy(this.interruptReasons_)&&(this.reconnectDelay_=rc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>j0(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Qe(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){on("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UC&&(this.reconnectDelay_=zC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){on("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+Bj.replace(/\./g,"-")]=1,w0()?t["framework.cordova"]=1:dj()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Rf.getInstance().currentlyOnline();return Hy(this.interruptReasons_)&&t}}Ni.nextPersistentConnectionId_=0;Ni.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new De(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new De(To,t),i=new De(To,n);return this.compare(r,i)!==0}minPost(){return De.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd;class hT extends Qh{static get __EMPTY_NODE(){return Kd}static set __EMPTY_NODE(t){Kd=t}compare(t,n){return ja(t.name,n.name)}isDefinedOn(t){throw Xo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return De.MIN}maxPost(){return new De(ga,Kd)}makePost(t,n){return re(typeof t=="string","KeyIndex indexValue must always be a string."),new De(t,Kd)}toString(){return".key"}}const wo=new hT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Xt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Xt.RED,this.left=i??Ln.EMPTY_NODE,this.right=s??Ln.EMPTY_NODE}copy(t,n,r,i,s){return new Xt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ln.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ln.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Xt.RED=!0;Xt.BLACK=!1;class DU{copy(t,n,r,i,s){return this}insert(t,n,r){return new Xt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ln{constructor(t,n=Ln.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ln(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))}remove(t){return new Ln(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Xt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Gd(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Gd(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Gd(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Gd(this.root_,null,this.comparator_,!0,t)}}Ln.EMPTY_NODE=new DU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(e,t){return ja(e.name,t.name)}function L0(e,t){return ja(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex;function LU(e){ex=e}const pT=function(e){return typeof e=="number"?"number:"+qj(e):"string:"+e},mT=function(e){if(e.isLeafNode()){const t=e.val();re(typeof t=="string"||typeof t=="number"||typeof t=="object"&&li(t,".sv"),"Priority must be a string or number.")}else re(e===ex||e.isEmpty(),"priority of unexpected type.");re(e===ex||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BC;class Gt{static set __childrenNodeConstructor(t){BC=t}static get __childrenNodeConstructor(){return BC}constructor(t,n=Gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Gt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Me(t)?this:Re(t)===".priority"?this.priorityNode_:Gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=Re(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(re(r!==".priority"||Ts(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+pT(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=qj(this.value_):t+=this.value_,this.lazyHash_=Vj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Gt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Gt.__childrenNodeConstructor?-1:(re(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Gt.VALUE_TYPE_ORDER.indexOf(n),s=Gt.VALUE_TYPE_ORDER.indexOf(r);return re(i>=0,"Unknown leaf type: "+n),re(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT,vT;function FU(e){gT=e}function $U(e){vT=e}class zU extends Qh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ja(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(ga,new Gt("[PRIORITY-POST]",vT))}makePost(t,n){const r=gT(t);return new De(n,new Gt("[PRIORITY-POST]",r))}toString(){return".priority"}}const yt=new zU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=Math.log(2);class BU{constructor(t){const n=s=>parseInt(Math.log(s)/UU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Df=function(e,t,n,r){e.sort(t);const i=function(u,f){const p=f-u;let m,v;if(p===0)return null;if(p===1)return m=e[u],v=n?n(m):m,new Xt(v,m.node,Xt.BLACK,null,null);{const y=parseInt(p/2,10)+u,w=i(u,y),C=i(y+1,f);return m=e[y],v=n?n(m):m,new Xt(v,m.node,Xt.BLACK,w,C)}},s=function(u){let f=null,p=null,m=e.length;const v=function(w,C){const _=m-w,E=m;m-=w;const k=i(_+1,E),I=e[_],j=n?n(I):I;y(new Xt(j,I.node,C,null,k))},y=function(w){f?(f.left=w,f=w):(p=w,f=w)};for(let w=0;w<u.count;++w){const C=u.nextBitIsOne(),_=Math.pow(2,u.count-(w+1));C?v(_,Xt.BLACK):(v(_,Xt.BLACK),v(_,Xt.RED))}return p},o=new BU(e.length),c=s(o);return new Ln(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tv;const oo={};class bi{static get Default(){return re(oo&&yt,"ChildrenNode.ts has not been loaded"),tv=tv||new bi({".priority":oo},{".priority":yt}),tv}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=jo(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ln?n:null}hasIndex(t){return li(this.indexSet_,t.toString())}addIndex(t,n){re(t!==wo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(De.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Df(r,t.getCompare()):c=oo;const u=t.toString(),f={...this.indexSet_};f[u]=t;const p={...this.indexes_};return p[u]=c,new bi(p,f)}addToIndexes(t,n){const r=Pf(this.indexes_,(i,s)=>{const o=jo(this.indexSet_,s);if(re(o,"Missing index implementation for "+s),i===oo)if(o.isDefinedOn(t.node)){const c=[],u=n.getIterator(De.Wrap);let f=u.getNext();for(;f;)f.name!==t.name&&c.push(f),f=u.getNext();return c.push(t),Df(c,o.getCompare())}else return oo;else{const c=n.get(t.name);let u=i;return c&&(u=u.remove(new De(t.name,c))),u.insert(t,t.node)}});return new bi(r,this.indexSet_)}removeFromIndexes(t,n){const r=Pf(this.indexes_,i=>{if(i===oo)return i;{const s=n.get(t.name);return s?i.remove(new De(t.name,s)):i}});return new bi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ic;class Pe{static get EMPTY_NODE(){return ic||(ic=new Pe(new Ln(L0),null,bi.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mT(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ic}updatePriority(t){return this.children_.isEmpty()?this:new Pe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ic:n}}getChild(t){const n=Re(t);return n===null?this:this.getImmediateChild(n).getChild(nt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(re(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new De(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ic:this.priorityNode_;return new Pe(i,o,s)}}updateChild(t,n){const r=Re(t);if(r===null)return n;{re(Re(t)!==".priority"||Ts(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(nt(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(yt,(o,c)=>{n[o]=c.val(t),r++,s&&Pe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+pT(this.getPriority().val())+":"),this.forEachChild(yt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Vj(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new De(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new De(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new De(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,De.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,De.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===cu?-1:0}withIndex(t){if(t===wo||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Pe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===wo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yt),i=n.getIterator(yt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===wo?null:this.indexMap_.get(t.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class WU extends Pe{constructor(){super(new Ln(L0),Pe.EMPTY_NODE,bi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Pe.EMPTY_NODE}isEmpty(){return!1}}const cu=new WU;Object.defineProperties(De,{MIN:{value:new De(To,Pe.EMPTY_NODE)},MAX:{value:new De(ga,cu)}});hT.__EMPTY_NODE=Pe.EMPTY_NODE;Gt.__childrenNodeConstructor=Pe;LU(cu);$U(cu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=!0;function Qt(e,t=null){if(e===null)return Pe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),re(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Gt(n,Qt(t))}if(!(e instanceof Array)&&VU){const n=[];let r=!1;if(cn(e,(o,c)=>{if(o.substring(0,1)!=="."){const u=Qt(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new De(o,u)))}}),n.length===0)return Pe.EMPTY_NODE;const s=Df(n,MU,o=>o.name,L0);if(r){const o=Df(n,yt.getCompare());return new Pe(s,Qt(t),new bi({".priority":o},{".priority":yt}))}else return new Pe(s,Qt(t),bi.Default)}else{let n=Pe.EMPTY_NODE;return cn(e,(r,i)=>{if(li(e,r)&&r.substring(0,1)!=="."){const s=Qt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Qt(t))}}FU(Qt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU extends Qh{constructor(t){super(),this.indexPath_=t,re(!Me(t)&&Re(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ja(t.name,n.name):s}makePost(t,n){const r=Qt(t),i=Pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new De(n,i)}maxPost(){const t=Pe.EMPTY_NODE.updateChild(this.indexPath_,cu);return new De(ga,t)}toString(){return Fc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU extends Qh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?ja(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(t,n){const r=Qt(t);return new De(n,r)}toString(){return".value"}}const KU=new qU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(e){return{type:"value",snapshotNode:e}}function Ao(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function $c(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function GU(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){re(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange($c(n,c)):re(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Ao(n,r)):o.trackChildChange(zc(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(yt,(i,s)=>{n.hasChild(i)||r.trackChildChange($c(i,s))}),n.isLeafNode()||n.forEachChild(yt,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(zc(i,s,o))}else r.trackChildChange(Ao(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Pe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t){this.indexedFilter_=new F0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Uc.getStartPost_(t),this.endPost_=Uc.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new De(n,r))||(r=Pe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Pe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Pe.EMPTY_NODE);const s=this;return n.forEachChild(yt,(o,c)=>{s.matches(new De(o,c))||(i=i.updateImmediateChild(o,Pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Uc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new De(n,r))||(r=Pe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Pe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Pe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,Pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const m=this.index_.getCompare();o=(v,y)=>m(y,v)}else o=this.index_.getCompare();const c=t;re(c.numChildren()===this.limit_,"");const u=new De(n,r),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(n)){const m=c.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,f,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const y=v==null?1:o(v,u);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(zc(n,r,m)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange($c(n,m));const C=c.updateImmediateChild(n,Pe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s!=null&&s.trackChildChange(Ao(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return r.isEmpty()?t:p&&o(f,u)>=0?(s!=null&&(s.trackChildChange($c(f.name,f.node)),s.trackChildChange(Ao(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(f.name,Pe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:To}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const t=new $0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function XU(e){return e.loadsAllData()?new F0(e.getIndex()):e.hasLimit()?new YU(e):new Uc(e)}function WC(e){const t={};if(e.isDefault())return t;let n;if(e.index_===yt?n="$priority":e.index_===KU?n="$value":e.index_===wo?n="$key":(re(e.index_ instanceof HU,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Jt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Jt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Jt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Jt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Jt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function VC(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==yt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends cT{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(re(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=lu("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=Mf.getListenId_(t,r),c={};this.listens_[o]=c;const u=WC(t._queryParams);this.restRequest_(s+".json",u,(f,p)=>{let m=p;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(s,m,!1,r),jo(this.listens_,o)===c){let v;f?f===401?v="permission_denied":v="rest_error:"+f:v="ok",i(v,null)}})}unlisten(t,n){const r=Mf.getListenId_(t,n);delete this.listens_[r]}get(t){const n=WC(t._queryParams),r=t._path.toString(),i=new au;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ia(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Dc(c.responseText)}catch{En("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&En("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(){return{value:null,children:new Map}}function xT(e,t,n){if(Me(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=Re(t);e.children.has(r)||e.children.set(r,Lf());const i=e.children.get(r);t=nt(t),xT(i,t,n)}}function tx(e,t,n){e.value!==null?n(t,e.value):JU(e,(r,i)=>{const s=new Qe(t.toString()+"/"+r);tx(i,s,n)})}function JU(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&cn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=10*1e3,eB=30*1e3,tB=300*1e3;class nB{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ZU(t);const r=HC+(eB-HC)*Math.random();Ec(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;cn(t,(i,s)=>{s>0&&li(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Ec(this.reportStats_.bind(this),Math.floor(Math.random()*2*tB))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Tr||(Tr={}));function z0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function U0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function B0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Tr.ACK_USER_WRITE,this.source=z0()}operationForChild(t){if(Me(this.path)){if(this.affectedTree.value!=null)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Qe(t));return new Ff(Ve(),n,this.revert)}}else return re(Re(this.path)===t,"operationForChild called for unrelated child."),new Ff(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,n){this.source=t,this.path=n,this.type=Tr.LISTEN_COMPLETE}operationForChild(t){return Me(this.path)?new Bc(this.source,Ve()):new Bc(this.source,nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Tr.OVERWRITE}operationForChild(t){return Me(this.path)?new va(this.source,Ve(),this.snap.getImmediateChild(t)):new va(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Tr.MERGE}operationForChild(t){if(Me(this.path)){const n=this.children.subtree(new Qe(t));return n.isEmpty()?null:n.value?new va(this.source,Ve(),n.value):new Oo(this.source,Ve(),n)}else return re(Re(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Oo(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Me(t))return this.isFullyInitialized()&&!this.filtered_;const n=Re(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rB{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function iB(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(GU(o.childName,o.snapshotNode))}),sc(e,i,"child_removed",t,r,n),sc(e,i,"child_added",t,r,n),sc(e,i,"child_moved",s,r,n),sc(e,i,"child_changed",t,r,n),sc(e,i,"value",t,r,n),i}function sc(e,t,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,u)=>aB(e,c,u)),o.forEach(c=>{const u=sB(e,c,s);i.forEach(f=>{f.respondsTo(c.type)&&t.push(f.createEvent(u,e.query_))})})}function sB(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function aB(e,t,n){if(t.childName==null||n.childName==null)throw Xo("Should only compare child_ events.");const r=new De(t.childName,t.snapshotNode),i=new De(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(e,t){return{eventCache:e,serverCache:t}}function kc(e,t,n,r){return Jh(new ya(t,n,r),e.serverCache)}function wT(e,t,n,r){return Jh(e.eventCache,new ya(t,n,r))}function nx(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xa(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv;const oB=()=>(nv||(nv=new Ln(Hz)),nv);class et{static fromObject(t){let n=new et(null);return cn(t,(r,i)=>{n=n.set(new Qe(r),i)}),n}constructor(t,n=oB()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(Me(t))return null;{const r=Re(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(nt(t),n);return s!=null?{path:vt(new Qe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Me(t))return this;{const n=Re(t),r=this.children.get(n);return r!==null?r.subtree(nt(t)):new et(null)}}set(t,n){if(Me(t))return new et(n,this.children);{const r=Re(t),s=(this.children.get(r)||new et(null)).set(nt(t),n),o=this.children.insert(r,s);return new et(this.value,o)}}remove(t){if(Me(t))return this.children.isEmpty()?new et(null):new et(null,this.children);{const n=Re(t),r=this.children.get(n);if(r){const i=r.remove(nt(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new et(null):new et(this.value,s)}else return this}}get(t){if(Me(t))return this.value;{const n=Re(t),r=this.children.get(n);return r?r.get(nt(t)):null}}setTree(t,n){if(Me(t))return n;{const r=Re(t),s=(this.children.get(r)||new et(null)).setTree(nt(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new et(this.value,o)}}fold(t){return this.fold_(Ve(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(vt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,Ve(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Me(t))return null;{const s=Re(t),o=this.children.get(s);return o?o.findOnPath_(nt(t),vt(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,Ve(),n)}foreachOnPath_(t,n,r){if(Me(t))return this;{this.value&&r(n,this.value);const i=Re(t),s=this.children.get(i);return s?s.foreachOnPath_(nt(t),vt(n,i),r):new et(null)}}foreach(t){this.foreach_(Ve(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(vt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.writeTree_=t}static empty(){return new Or(new et(null))}}function Nc(e,t,n){if(Me(t))return new Or(new et(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Mn(i,t);return s=s.updateChild(o,n),new Or(e.writeTree_.set(i,s))}else{const i=new et(n),s=e.writeTree_.setTree(t,i);return new Or(s)}}}function rx(e,t,n){let r=e;return cn(n,(i,s)=>{r=Nc(r,vt(t,i),s)}),r}function qC(e,t){if(Me(t))return Or.empty();{const n=e.writeTree_.setTree(t,new et(null));return new Or(n)}}function ix(e,t){return Ta(e,t)!=null}function Ta(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Mn(n.path,t)):null}function KC(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(r,i)=>{t.push(new De(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new De(r,i.value))}),t}function Is(e,t){if(Me(t))return e;{const n=Ta(e,t);return n!=null?new Or(new et(n)):new Or(e.writeTree_.subtree(t))}}function sx(e){return e.writeTree_.isEmpty()}function Ro(e,t){return bT(Ve(),e.writeTree_,t)}function bT(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(re(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=bT(vt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(vt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(e,t){return ET(t,e)}function lB(e,t,n,r,i){re(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Nc(e.visibleWrites,t,n)),e.lastWriteId=r}function cB(e,t,n,r){re(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rx(e.visibleWrites,t,n),e.lastWriteId=r}function uB(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function dB(e,t){const n=e.allWrites.findIndex(c=>c.writeId===t);re(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const c=e.allWrites[o];c.visible&&(o>=n&&fB(c,r.path)?i=!1:dr(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return hB(e),!0;if(r.snap)e.visibleWrites=qC(e.visibleWrites,r.path);else{const c=r.children;cn(c,u=>{e.visibleWrites=qC(e.visibleWrites,vt(r.path,u))})}return!0}else return!1}function fB(e,t){if(e.snap)return dr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&dr(vt(e.path,n),t))return!0;return!1}function hB(e){e.visibleWrites=_T(e.allWrites,pB,Ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function pB(e){return e.visible}function _T(e,t,n){let r=Or.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let c;if(s.snap)dr(n,o)?(c=Mn(n,o),r=Nc(r,c,s.snap)):dr(o,n)&&(c=Mn(o,n),r=Nc(r,Ve(),s.snap.getChild(c)));else if(s.children){if(dr(n,o))c=Mn(n,o),r=rx(r,c,s.children);else if(dr(o,n))if(c=Mn(o,n),Me(c))r=rx(r,Ve(),s.children);else{const u=jo(s.children,Re(c));if(u){const f=u.getChild(nt(c));r=Nc(r,Ve(),f)}}}else throw Xo("WriteRecord should have .snap or .children")}}return r}function ST(e,t,n,r,i){if(!r&&!i){const s=Ta(e.visibleWrites,t);if(s!=null)return s;{const o=Is(e.visibleWrites,t);if(sx(o))return n;if(n==null&&!ix(o,Ve()))return null;{const c=n||Pe.EMPTY_NODE;return Ro(o,c)}}}else{const s=Is(e.visibleWrites,t);if(!i&&sx(s))return n;if(!i&&n==null&&!ix(s,Ve()))return null;{const o=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(dr(f.path,t)||dr(t,f.path))},c=_T(e.allWrites,o,t),u=n||Pe.EMPTY_NODE;return Ro(c,u)}}}function mB(e,t,n){let r=Pe.EMPTY_NODE;const i=Ta(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(yt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Is(e.visibleWrites,t);return n.forEachChild(yt,(o,c)=>{const u=Ro(Is(s,new Qe(o)),c);r=r.updateImmediateChild(o,u)}),KC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Is(e.visibleWrites,t);return KC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function gB(e,t,n,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=vt(t,n);if(ix(e.visibleWrites,s))return null;{const o=Is(e.visibleWrites,s);return sx(o)?i.getChild(n):Ro(o,i.getChild(n))}}function vB(e,t,n,r){const i=vt(t,n),s=Ta(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Is(e.visibleWrites,i);return Ro(o,r.getNode().getImmediateChild(n))}else return null}function yB(e,t){return Ta(e.visibleWrites,t)}function xB(e,t,n,r,i,s,o){let c;const u=Is(e.visibleWrites,t),f=Ta(u,Ve());if(f!=null)c=f;else if(n!=null)c=Ro(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=o.getCompare(),v=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let y=v.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=v.getNext();return p}else return[]}function wB(){return{visibleWrites:Or.empty(),allWrites:[],lastWriteId:-1}}function $f(e,t,n,r){return ST(e.writeTree,e.treePath,t,n,r)}function V0(e,t){return mB(e.writeTree,e.treePath,t)}function GC(e,t,n,r){return gB(e.writeTree,e.treePath,t,n,r)}function zf(e,t){return yB(e.writeTree,vt(e.treePath,t))}function bB(e,t,n,r,i,s){return xB(e.writeTree,e.treePath,t,n,r,i,s)}function H0(e,t,n){return vB(e.writeTree,e.treePath,t,n)}function CT(e,t){return ET(vt(e.treePath,t),e.writeTree)}function ET(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),re(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,zc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,$c(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Ao(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,zc(r,t.snapshotNode,i.oldSnap));else throw Xo("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const kT=new SB;class q0{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ya(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return H0(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:xa(this.viewCache_),s=bB(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(e){return{filter:e}}function EB(e,t){re(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),re(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function kB(e,t,n,r,i){const s=new _B;let o,c;if(n.type===Tr.OVERWRITE){const f=n;f.source.fromUser?o=ax(e,t,f.path,f.snap,r,i,s):(re(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered()&&!Me(f.path),o=Uf(e,t,f.path,f.snap,r,i,c,s))}else if(n.type===Tr.MERGE){const f=n;f.source.fromUser?o=IB(e,t,f.path,f.children,r,i,s):(re(f.source.fromServer,"Unknown source."),c=f.source.tagged||t.serverCache.isFiltered(),o=ox(e,t,f.path,f.children,r,i,c,s))}else if(n.type===Tr.ACK_USER_WRITE){const f=n;f.revert?o=TB(e,t,f.path,r,i,s):o=PB(e,t,f.path,f.affectedTree,r,i,s)}else if(n.type===Tr.LISTEN_COMPLETE)o=jB(e,t,n.path,r,s);else throw Xo("Unknown operation type: "+n.type);const u=s.getChanges();return NB(t,o,u),{viewCache:o,changes:u}}function NB(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=nx(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(yT(nx(t)))}}function NT(e,t,n,r,i,s){const o=t.eventCache;if(zf(r,n)!=null)return t;{let c,u;if(Me(n))if(re(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const f=xa(t),p=f instanceof Pe?f:Pe.EMPTY_NODE,m=V0(r,p);c=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const f=$f(r,xa(t));c=e.filter.updateFullNode(t.eventCache.getNode(),f,s)}else{const f=Re(n);if(f===".priority"){re(Ts(n)===1,"Can't have a priority with additional path components");const p=o.getNode();u=t.serverCache.getNode();const m=GC(r,n,p,u);m!=null?c=e.filter.updatePriority(p,m):c=o.getNode()}else{const p=nt(n);let m;if(o.isCompleteForChild(f)){u=t.serverCache.getNode();const v=GC(r,n,o.getNode(),u);v!=null?m=o.getNode().getImmediateChild(f).updateChild(p,v):m=o.getNode().getImmediateChild(f)}else m=H0(r,f,t.serverCache);m!=null?c=e.filter.updateChild(o.getNode(),f,m,p,i,s):c=o.getNode()}}return kc(t,c,o.isFullyInitialized()||Me(n),e.filter.filtersNodes())}}function Uf(e,t,n,r,i,s,o,c){const u=t.serverCache;let f;const p=o?e.filter:e.filter.getIndexedFilter();if(Me(n))f=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(n,r);f=p.updateFullNode(u.getNode(),y,null)}else{const y=Re(n);if(!u.isCompleteForPath(n)&&Ts(n)>1)return t;const w=nt(n),_=u.getNode().getImmediateChild(y).updateChild(w,r);y===".priority"?f=p.updatePriority(u.getNode(),_):f=p.updateChild(u.getNode(),y,_,w,kT,null)}const m=wT(t,f,u.isFullyInitialized()||Me(n),p.filtersNodes()),v=new q0(i,m,s);return NT(e,m,n,i,v,c)}function ax(e,t,n,r,i,s,o){const c=t.eventCache;let u,f;const p=new q0(i,t,s);if(Me(n))f=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=kc(t,f,!0,e.filter.filtersNodes());else{const m=Re(n);if(m===".priority")f=e.filter.updatePriority(t.eventCache.getNode(),r),u=kc(t,f,c.isFullyInitialized(),c.isFiltered());else{const v=nt(n),y=c.getNode().getImmediateChild(m);let w;if(Me(v))w=r;else{const C=p.getCompleteChild(m);C!=null?R0(v)===".priority"&&C.getChild(dT(v)).isEmpty()?w=C:w=C.updateChild(v,r):w=Pe.EMPTY_NODE}if(y.equals(w))u=t;else{const C=e.filter.updateChild(c.getNode(),m,w,v,p,o);u=kc(t,C,c.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function YC(e,t){return e.eventCache.isCompleteForChild(t)}function IB(e,t,n,r,i,s,o){let c=t;return r.foreach((u,f)=>{const p=vt(n,u);YC(t,Re(p))&&(c=ax(e,c,p,f,i,s,o))}),r.foreach((u,f)=>{const p=vt(n,u);YC(t,Re(p))||(c=ax(e,c,p,f,i,s,o))}),c}function XC(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function ox(e,t,n,r,i,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,f;Me(n)?f=r:f=new et(null).setTree(n,r);const p=t.serverCache.getNode();return f.children.inorderTraversal((m,v)=>{if(p.hasChild(m)){const y=t.serverCache.getNode().getImmediateChild(m),w=XC(e,y,v);u=Uf(e,u,new Qe(m),w,i,s,o,c)}}),f.children.inorderTraversal((m,v)=>{const y=!t.serverCache.isCompleteForChild(m)&&v.value===null;if(!p.hasChild(m)&&!y){const w=t.serverCache.getNode().getImmediateChild(m),C=XC(e,w,v);u=Uf(e,u,new Qe(m),C,i,s,o,c)}}),u}function PB(e,t,n,r,i,s,o){if(zf(i,n)!=null)return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if(Me(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Uf(e,t,n,u.getNode().getChild(n),i,s,c,o);if(Me(n)){let f=new et(null);return u.getNode().forEachChild(wo,(p,m)=>{f=f.set(new Qe(p),m)}),ox(e,t,n,f,i,s,c,o)}else return t}else{let f=new et(null);return r.foreach((p,m)=>{const v=vt(n,p);u.isCompleteForPath(v)&&(f=f.set(p,u.getNode().getChild(v)))}),ox(e,t,n,f,i,s,c,o)}}function jB(e,t,n,r,i){const s=t.serverCache,o=wT(t,s.getNode(),s.isFullyInitialized()||Me(n),s.isFiltered());return NT(e,o,n,r,kT,i)}function TB(e,t,n,r,i,s){let o;if(zf(r,n)!=null)return t;{const c=new q0(r,t,i),u=t.eventCache.getNode();let f;if(Me(n)||Re(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=$f(r,xa(t));else{const m=t.serverCache.getNode();re(m instanceof Pe,"serverChildren would be complete if leaf node"),p=V0(r,m)}p=p,f=e.filter.updateFullNode(u,p,s)}else{const p=Re(n);let m=H0(r,p,t.serverCache);m==null&&t.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?f=e.filter.updateChild(u,p,m,nt(n),c,s):t.eventCache.getNode().hasChild(p)?f=e.filter.updateChild(u,p,Pe.EMPTY_NODE,nt(n),c,s):f=u,f.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=$f(r,xa(t)),o.isLeafNode()&&(f=e.filter.updateFullNode(f,o,s)))}return o=t.serverCache.isFullyInitialized()||zf(r,Ve())!=null,kc(t,f,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new F0(r.getIndex()),s=XU(r);this.processor_=CB(s);const o=n.serverCache,c=n.eventCache,u=i.updateFullNode(Pe.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(Pe.EMPTY_NODE,c.getNode(),null),p=new ya(u,o.isFullyInitialized(),i.filtersNodes()),m=new ya(f,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Jh(m,p),this.eventGenerator_=new rB(this.query_)}get query(){return this.query_}}function OB(e){return e.viewCache_.serverCache.getNode()}function RB(e,t){const n=xa(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Me(t)&&!n.getImmediateChild(Re(t)).isEmpty())?n.getChild(t):null}function QC(e){return e.eventRegistrations_.length===0}function DB(e,t){e.eventRegistrations_.push(t)}function JC(e,t,n){const r=[];if(n){re(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function ZC(e,t,n,r){t.type===Tr.MERGE&&t.source.queryId!==null&&(re(xa(e.viewCache_),"We should always have a full cache before handling merges"),re(nx(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=kB(e.processor_,i,t,n,r);return EB(e.processor_,s.viewCache),re(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,IT(e,s.changes,s.viewCache.eventCache.getNode(),null)}function MB(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(s,o)=>{r.push(Ao(s,o))}),n.isFullyInitialized()&&r.push(yT(n.getNode())),IT(e,r,n.getNode(),t)}function IT(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return iB(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf;class LB{constructor(){this.views=new Map}}function FB(e){re(!Bf,"__referenceConstructor has already been defined"),Bf=e}function $B(){return re(Bf,"Reference.ts has not been loaded"),Bf}function zB(e){return e.views.size===0}function K0(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return re(s!=null,"SyncTree gave us an op for an invalid query."),ZC(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(ZC(o,t,n,r));return s}}function UB(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let c=$f(n,i?r:null),u=!1;c?u=!0:r instanceof Pe?(c=V0(n,r),u=!1):(c=Pe.EMPTY_NODE,u=!1);const f=Jh(new ya(c,u,!1),new ya(r,i,!1));return new AB(t,f)}return o}function BB(e,t,n,r,i,s){const o=UB(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),DB(o,n),MB(o,n)}function WB(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const c=As(e);if(i==="default")for(const[u,f]of e.views.entries())o=o.concat(JC(f,n,r)),QC(f)&&(e.views.delete(u),f.query._queryParams.loadsAllData()||s.push(f.query));else{const u=e.views.get(i);u&&(o=o.concat(JC(u,n,r)),QC(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!As(e)&&s.push(new($B())(t._repo,t._path)),{removed:s,events:o}}function PT(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function bo(e,t){let n=null;for(const r of e.views.values())n=n||RB(r,t);return n}function jT(e,t){if(t._queryParams.loadsAllData())return Zh(e);{const r=t._queryIdentifier;return e.views.get(r)}}function TT(e,t){return jT(e,t)!=null}function As(e){return Zh(e)!=null}function Zh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf;function VB(e){re(!Wf,"__referenceConstructor has already been defined"),Wf=e}function HB(){return re(Wf,"Reference.ts has not been loaded"),Wf}let qB=1;class eE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new et(null),this.pendingWriteTree_=wB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function AT(e,t,n,r,i){return lB(e.pendingWriteTree_,t,n,r,i),i?el(e,new va(z0(),t,n)):[]}function KB(e,t,n,r){cB(e.pendingWriteTree_,t,n,r);const i=et.fromObject(n);return el(e,new Oo(z0(),t,i))}function Es(e,t,n=!1){const r=uB(e.pendingWriteTree_,t);if(dB(e.pendingWriteTree_,t)){let s=new et(null);return r.snap!=null?s=s.set(Ve(),!0):cn(r.children,o=>{s=s.set(new Qe(o),!0)}),el(e,new Ff(r.path,s,n))}else return[]}function ep(e,t,n){return el(e,new va(U0(),t,n))}function GB(e,t,n){const r=et.fromObject(n);return el(e,new Oo(U0(),t,r))}function YB(e,t){return el(e,new Bc(U0(),t))}function XB(e,t,n){const r=Y0(e,n);if(r){const i=X0(r),s=i.path,o=i.queryId,c=Mn(s,t),u=new Bc(B0(o),c);return Q0(e,s,u)}else return[]}function lx(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let c=[];if(o&&(t._queryIdentifier==="default"||TT(o,t))){const u=WB(o,t,n,r);zB(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const f=u.removed;if(c=u.events,!i){const p=f.findIndex(v=>v._queryParams.loadsAllData())!==-1,m=e.syncPointTree_.findOnPath(s,(v,y)=>As(y));if(p&&!m){const v=e.syncPointTree_.subtree(s);if(!v.isEmpty()){const y=ZB(v);for(let w=0;w<y.length;++w){const C=y[w],_=C.query,E=DT(e,C);e.listenProvider_.startListening(Ic(_),Vf(e,_),E.hashFn,E.onComplete)}}}!m&&f.length>0&&!r&&(p?e.listenProvider_.stopListening(Ic(t),null):f.forEach(v=>{const y=e.queryToTagMap.get(tp(v));e.listenProvider_.stopListening(Ic(v),y)}))}e5(e,f)}return c}function QB(e,t,n,r){const i=Y0(e,r);if(i!=null){const s=X0(i),o=s.path,c=s.queryId,u=Mn(o,t),f=new va(B0(c),u,n);return Q0(e,o,f)}else return[]}function JB(e,t,n,r){const i=Y0(e,r);if(i){const s=X0(i),o=s.path,c=s.queryId,u=Mn(o,t),f=et.fromObject(n),p=new Oo(B0(c),u,f);return Q0(e,o,p)}else return[]}function tE(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(v,y)=>{const w=Mn(v,i);s=s||bo(y,w),o=o||As(y)});let c=e.syncPointTree_.get(i);c?(o=o||As(c),s=s||bo(c,Ve())):(c=new LB,e.syncPointTree_=e.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=Pe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,w)=>{const C=bo(w,Ve());C&&(s=s.updateImmediateChild(y,C))}));const f=TT(c,t);if(!f&&!t._queryParams.loadsAllData()){const v=tp(t);re(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const y=t5();e.queryToTagMap.set(v,y),e.tagToQueryMap.set(y,v)}const p=W0(e.pendingWriteTree_,i);let m=BB(c,t,n,p,s,u);if(!f&&!o&&!r){const v=jT(c,t);m=m.concat(n5(e,t,v))}return m}function G0(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,c)=>{const u=Mn(o,t),f=bo(c,u);if(f)return f});return ST(i,t,s,n,!0)}function el(e,t){return OT(t,e.syncPointTree_,null,W0(e.pendingWriteTree_,Ve()))}function OT(e,t,n,r){if(Me(e.path))return RT(e,t,n,r);{const i=t.get(Ve());n==null&&i!=null&&(n=bo(i,Ve()));let s=[];const o=Re(e.path),c=e.operationForChild(o),u=t.children.get(o);if(u&&c){const f=n?n.getImmediateChild(o):null,p=CT(r,o);s=s.concat(OT(c,u,f,p))}return i&&(s=s.concat(K0(i,e,r,n))),s}}function RT(e,t,n,r){const i=t.get(Ve());n==null&&i!=null&&(n=bo(i,Ve()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=n?n.getImmediateChild(o):null,f=CT(r,o),p=e.operationForChild(o);p&&(s=s.concat(RT(p,c,u,f)))}),i&&(s=s.concat(K0(i,e,r,n))),s}function DT(e,t){const n=t.query,r=Vf(e,n);return{hashFn:()=>(OB(t)||Pe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?XB(e,n._path,r):YB(e,n._path);{const s=Gz(i,n);return lx(e,n,null,s)}}}}function Vf(e,t){const n=tp(t);return e.queryToTagMap.get(n)}function tp(e){return e._path.toString()+"$"+e._queryIdentifier}function Y0(e,t){return e.tagToQueryMap.get(t)}function X0(e){const t=e.indexOf("$");return re(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Qe(e.substr(0,t))}}function Q0(e,t,n){const r=e.syncPointTree_.get(t);re(r,"Missing sync point for query tag that we're tracking");const i=W0(e.pendingWriteTree_,t);return K0(r,n,i,null)}function ZB(e){return e.fold((t,n,r)=>{if(n&&As(n))return[Zh(n)];{let i=[];return n&&(i=PT(n)),cn(r,(s,o)=>{i=i.concat(o)}),i}})}function Ic(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(HB())(e._repo,e._path):e}function e5(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=tp(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function t5(){return qB++}function n5(e,t,n){const r=t._path,i=Vf(e,t),s=DT(e,n),o=e.listenProvider_.startListening(Ic(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)re(!As(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((f,p,m)=>{if(!Me(f)&&p&&As(p))return[Zh(p).query];{let v=[];return p&&(v=v.concat(PT(p).map(y=>y.query))),cn(m,(y,w)=>{v=v.concat(w)}),v}});for(let f=0;f<u.length;++f){const p=u[f];e.listenProvider_.stopListening(Ic(p),Vf(e,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new J0(n)}node(){return this.node_}}class Z0{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=vt(this.path_,t);return new Z0(this.syncTree_,n)}node(){return G0(this.syncTree_,this.path_)}}const r5=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nE=function(e,t,n){if(!e||typeof e!="object")return e;if(re(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return i5(e[".sv"],t,n);if(typeof e[".sv"]=="object")return s5(e[".sv"],t);re(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},i5=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:re(!1,"Unexpected server value: "+e)}},s5=function(e,t,n){e.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&re(!1,"Unexpected increment value: "+r);const i=t.node();if(re(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},MT=function(e,t,n,r){return ew(t,new Z0(n,e),r)},LT=function(e,t,n){return ew(e,new J0(t),n)};function ew(e,t,n){const r=e.getPriority().val(),i=nE(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,c=nE(o.getValue(),t,n);return c!==o.getValue()||i!==o.getPriority().val()?new Gt(c,Qt(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Gt(i))),o.forEachChild(yt,(c,u)=>{const f=ew(u,t.getImmediateChild(c),n);f!==u&&(s=s.updateImmediateChild(c,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function nw(e,t){let n=t instanceof Qe?t:new Qe(t),r=e,i=Re(n);for(;i!==null;){const s=jo(r.node.children,i)||{children:{},childCount:0};r=new tw(i,r,s),n=nt(n),i=Re(n)}return r}function tl(e){return e.node.value}function FT(e,t){e.node.value=t,cx(e)}function $T(e){return e.node.childCount>0}function a5(e){return tl(e)===void 0&&!$T(e)}function np(e,t){cn(e.node.children,(n,r)=>{t(new tw(n,e,r))})}function zT(e,t,n,r){n&&t(e),np(e,i=>{zT(i,t,!0)})}function o5(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function uu(e){return new Qe(e.parent===null?e.name:uu(e.parent)+"/"+e.name)}function cx(e){e.parent!==null&&l5(e.parent,e.name,e)}function l5(e,t,n){const r=a5(n),i=li(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,cx(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,cx(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=/[\[\].#$\/\u0000-\u001F\u007F]/,u5=/[\[\].#$\u0000-\u001F\u007F]/,rv=10*1024*1024,rw=function(e){return typeof e=="string"&&e.length!==0&&!c5.test(e)},UT=function(e){return typeof e=="string"&&e.length!==0&&!u5.test(e)},d5=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),UT(e)},f5=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!P0(e)||e&&typeof e=="object"&&li(e,".sv")},BT=function(e,t,n,r){r&&t===void 0||rp(qh(e,"value"),t,n)},rp=function(e,t,n){const r=n instanceof Qe?new IU(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ta(r));if(typeof t=="function")throw new Error(e+"contains a function "+ta(r)+" with contents = "+t.toString());if(P0(t))throw new Error(e+"contains "+t.toString()+" "+ta(r));if(typeof t=="string"&&t.length>rv/3&&Kh(t)>rv)throw new Error(e+"contains a string greater than "+rv+" utf8 bytes "+ta(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(cn(t,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!rw(o)))throw new Error(e+" contains an invalid key ("+o+") "+ta(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);PU(r,o),rp(e,c,r),jU(r)}),i&&s)throw new Error(e+' contains ".value" child '+ta(r)+" in addition to actual children.")}},h5=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Fc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!rw(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(NU);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&dr(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},p5=function(e,t,n,r){const i=qh(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];cn(t,(o,c)=>{const u=new Qe(o);if(rp(i,c,vt(n,u)),R0(u)===".priority"&&!f5(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),h5(i,s)},WT=function(e,t,n,r){if(!UT(n))throw new Error(qh(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},m5=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WT(e,t,n)},iw=function(e,t){if(Re(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},g5=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!rw(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!d5(n))throw new Error(qh(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ip(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!D0(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function VT(e,t,n){ip(e,n),HT(e,r=>D0(r,t))}function Lr(e,t,n){ip(e,n),HT(e,r=>dr(r,t)||dr(t,r))}function HT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(y5(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function y5(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Cc&&on("event: "+n.toString()),Zo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="repo_interrupt",w5=25;class b5{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new v5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lf(),this.transactionQueueTree_=new tw,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function _5(e,t,n){if(e.stats_=A0(e.repoInfo_),e.forceRestClient_||Jz())e.server_=new Mf(e.repoInfo_,(r,i,s,o)=>{rE(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>iE(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Jt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ni(e.repoInfo_,t,(r,i,s,o)=>{rE(e,r,i,s,o)},r=>{iE(e,r)},r=>{S5(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=rU(e.repoInfo_,()=>new nB(e.stats_,e.server_)),e.infoData_=new QU,e.infoSyncTree_=new eE({startListening:(r,i,s,o)=>{let c=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(c=ep(e.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),sw(e,"connected",!1),e.serverSyncTree_=new eE({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(c,u)=>{const f=o(c,u);Lr(e.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function qT(e){const n=e.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function sp(e){return r5({timestamp:qT(e)})}function rE(e,t,n,r,i){e.dataUpdateCount++;const s=new Qe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const u=Pf(n,f=>Qt(f));o=JB(e.serverSyncTree_,s,u,i)}else{const u=Qt(n);o=QB(e.serverSyncTree_,s,u,i)}else if(r){const u=Pf(n,f=>Qt(f));o=GB(e.serverSyncTree_,s,u)}else{const u=Qt(n);o=ep(e.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=Do(e,s)),Lr(e.eventQueue_,c,o)}function iE(e,t){sw(e,"connected",t),t===!1&&k5(e)}function S5(e,t){cn(t,(n,r)=>{sw(e,n,r)})}function sw(e,t,n){const r=new Qe("/.info/"+t),i=Qt(n);e.infoData_.updateSnapshot(r,i);const s=ep(e.infoSyncTree_,r,i);Lr(e.eventQueue_,r,s)}function aw(e){return e.nextWriteId_++}function C5(e,t,n,r,i){ap(e,"set",{path:t.toString(),value:n,priority:r});const s=sp(e),o=Qt(n,r),c=G0(e.serverSyncTree_,t),u=LT(o,c,s),f=aw(e),p=AT(e.serverSyncTree_,t,u,f,!0);ip(e.eventQueue_,p),e.server_.put(t.toString(),o.val(!0),(v,y)=>{const w=v==="ok";w||En("set at "+t+" failed: "+v);const C=Es(e.serverSyncTree_,f,!w);Lr(e.eventQueue_,t,C),ux(e,i,v,y)});const m=lw(e,t);Do(e,m),Lr(e.eventQueue_,m,[])}function E5(e,t,n,r){ap(e,"update",{path:t.toString(),value:n});let i=!0;const s=sp(e),o={};if(cn(n,(c,u)=>{i=!1,o[c]=MT(vt(t,c),Qt(u),e.serverSyncTree_,s)}),i)on("update() called with empty data.  Don't do anything."),ux(e,r,"ok",void 0);else{const c=aw(e),u=KB(e.serverSyncTree_,t,o,c);ip(e.eventQueue_,u),e.server_.merge(t.toString(),n,(f,p)=>{const m=f==="ok";m||En("update at "+t+" failed: "+f);const v=Es(e.serverSyncTree_,c,!m),y=v.length>0?Do(e,t):t;Lr(e.eventQueue_,y,v),ux(e,r,f,p)}),cn(n,f=>{const p=lw(e,vt(t,f));Do(e,p)}),Lr(e.eventQueue_,t,[])}}function k5(e){ap(e,"onDisconnectEvents");const t=sp(e),n=Lf();tx(e.onDisconnect_,Ve(),(i,s)=>{const o=MT(i,s,e.serverSyncTree_,t);xT(n,i,o)});let r=[];tx(n,Ve(),(i,s)=>{r=r.concat(ep(e.serverSyncTree_,i,s));const o=lw(e,i);Do(e,o)}),e.onDisconnect_=Lf(),Lr(e.eventQueue_,Ve(),r)}function N5(e,t,n){let r;Re(t._path)===".info"?r=tE(e.infoSyncTree_,t,n):r=tE(e.serverSyncTree_,t,n),VT(e.eventQueue_,t._path,r)}function I5(e,t,n){let r;Re(t._path)===".info"?r=lx(e.infoSyncTree_,t,n):r=lx(e.serverSyncTree_,t,n),VT(e.eventQueue_,t._path,r)}function P5(e){e.persistentConnection_&&e.persistentConnection_.interrupt(x5)}function ap(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),on(n,...t)}function ux(e,t,n,r){t&&Zo(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function KT(e,t,n){return G0(e.serverSyncTree_,t,n)||Pe.EMPTY_NODE}function ow(e,t=e.transactionQueueTree_){if(t||op(e,t),tl(t)){const n=YT(e,t);re(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&j5(e,uu(t),n)}else $T(t)&&np(t,n=>{ow(e,n)})}function j5(e,t,n){const r=n.map(f=>f.currentWriteId),i=KT(e,t,r);let s=i;const o=i.hash();for(let f=0;f<n.length;f++){const p=n[f];re(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Mn(t,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;e.server_.put(u.toString(),c,f=>{ap(e,"transaction put response",{path:u.toString(),status:f});let p=[];if(f==="ok"){const m=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(Es(e.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&m.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();op(e,nw(e.transactionQueueTree_,t)),ow(e,e.transactionQueueTree_),Lr(e.eventQueue_,t,p);for(let v=0;v<m.length;v++)Zo(m[v])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{En("transaction at "+u.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}Do(e,t)}},o)}function Do(e,t){const n=GT(e,t),r=uu(n),i=YT(e,n);return T5(e,i,r),r}function T5(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],f=Mn(n,u.path);let p=!1,m;if(re(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,i=i.concat(Es(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=w5)p=!0,m="maxretry",i=i.concat(Es(e.serverSyncTree_,u.currentWriteId,!0));else{const v=KT(e,u.path,o);u.currentInputSnapshot=v;const y=t[c].update(v.val());if(y!==void 0){rp("transaction failed: Data returned ",y,u.path);let w=Qt(y);typeof y=="object"&&y!=null&&li(y,".priority")||(w=w.updatePriority(v.getPriority()));const _=u.currentWriteId,E=sp(e),k=LT(w,v,E);u.currentOutputSnapshotRaw=w,u.currentOutputSnapshotResolved=k,u.currentWriteId=aw(e),o.splice(o.indexOf(_),1),i=i.concat(AT(e.serverSyncTree_,u.path,k,u.currentWriteId,u.applyLocally)),i=i.concat(Es(e.serverSyncTree_,_,!0))}else p=!0,m="nodata",i=i.concat(Es(e.serverSyncTree_,u.currentWriteId,!0))}Lr(e.eventQueue_,n,i),i=[],p&&(t[c].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[c].unwatcher),t[c].onComplete&&(m==="nodata"?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(m),!1,null))))}op(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)Zo(r[c]);ow(e,e.transactionQueueTree_)}function GT(e,t){let n,r=e.transactionQueueTree_;for(n=Re(t);n!==null&&tl(r)===void 0;)r=nw(r,n),t=nt(t),n=Re(t);return r}function YT(e,t){const n=[];return XT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function XT(e,t,n){const r=tl(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);np(t,i=>{XT(e,i,n)})}function op(e,t){const n=tl(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,FT(t,n.length>0?n:void 0)}np(t,r=>{op(e,r)})}function lw(e,t){const n=uu(GT(e,t)),r=nw(e.transactionQueueTree_,t);return o5(r,i=>{iv(e,i)}),iv(e,r),zT(r,i=>{iv(e,i)}),n}function iv(e,t){const n=tl(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(re(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(re(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Es(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?FT(t,void 0):n.length=s+1,Lr(e.eventQueue_,uu(t),i);for(let o=0;o<r.length;o++)Zo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function O5(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):En(`Invalid query segment '${n}' in query '${e}'`)}return t}const sE=function(e,t){const n=R5(e),r=n.namespace;n.domain==="firebase.com"&&Ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Wz();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new nT(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Qe(n.pathString)}},R5=function(e){let t="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof e=="string"){let f=e.indexOf("//");f>=0&&(c=e.substring(0,f-1),e=e.substring(f+2));let p=e.indexOf("/");p===-1&&(p=e.length);let m=e.indexOf("?");m===-1&&(m=e.length),t=e.substring(0,Math.min(p,m)),p<m&&(i=A5(e.substring(p,m)));const v=O5(e.substring(Math.min(e.length,m)));f=t.indexOf(":"),f>=0?(o=c==="https"||c==="wss",u=parseInt(t.substring(f+1),10)):f=t.length;const y=t.slice(0,f);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in v&&(s=v.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",D5=(function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=aE.charAt(n%64),n=Math.floor(n/64);re(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=aE.charAt(t[i]);return re(o.length===20,"nextPushId: Length should be 20."),o}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Jt(this.snapshot.exportVal())}}class L5{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Me(this._path)?null:R0(this._path)}get ref(){return new Rs(this._repo,this._path)}get _queryIdentifier(){const t=VC(this._queryParams),n=j0(t);return n==="{}"?"default":n}get _queryObject(){return VC(this._queryParams)}isEqual(t){if(t=Lt(t),!(t instanceof cw))return!1;const n=this._repo===t._repo,r=D0(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+kU(this._path)}}class Rs extends cw{constructor(t,n){super(t,n,new $0,!1)}get parent(){const t=dT(this._path);return t===null?null:new Rs(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Hf{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Qe(t),r=Wc(this.ref,t);return new Hf(this._node.getChild(n),r,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new Hf(i,Wc(this.ref,r),yt)))}hasChild(t){const n=new Qe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bt(e,t){return e=Lt(e),e._checkNotDeleted("ref"),t!==void 0?Wc(e._root,t):e._root}function Wc(e,t){return e=Lt(e),Re(e._path)===null?m5("child","path",t):WT("child","path",t),new Rs(e._repo,vt(e._path,t))}function ac(e,t){e=Lt(e),iw("push",e._path),BT("push",t,e._path,!0);const n=qT(e._repo),r=D5(n),i=Wc(e,r),s=Wc(e,r);let o;return t!=null?o=QT(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Yd(e){return iw("remove",e._path),QT(e,null)}function QT(e,t){e=Lt(e),iw("set",e._path),BT("set",t,e._path,!1);const n=new au;return C5(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Js(e,t){p5("update",t,e._path);const n=new au;return E5(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class uw{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new M5("value",this,new Hf(t.snapshotNode,new Rs(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new L5(this,t,n):null}matches(t){return t instanceof uw?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function $5(e,t,n,r,i){const s=new F5(n,void 0),o=new uw(s);return N5(e._repo,e,o),()=>I5(e._repo,e,o)}function oc(e,t,n,r){return $5(e,"value",t)}FB(Rs);VB(Rs);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="FIREBASE_DATABASE_EMULATOR_HOST",dx={};let U5=!1;function B5(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=Qo(s);e.repoInfo_=new nT(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function W5(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),on("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=sE(s,i),c=o.repoInfo,u;typeof process<"u"&&kC&&(u=kC[z5]),u?(s=`http://${u}?ns=${c.namespace}`,o=sE(s,i),c=o.repoInfo):o.repoInfo.secure;const f=new eU(e.name,e.options,t);g5("Invalid Firebase Database URL",o),Me(o.path)||Ai("Database URL must point to the root of a Firebase Database (not including a child path).");const p=H5(c,e,f,new Zz(e,n));return new q5(p,e)}function V5(e,t){const n=dx[t];(!n||n[e.key]!==e)&&Ai(`Database ${t}(${e.repoInfo_}) has already been deleted.`),P5(e),delete n[e.key]}function H5(e,t,n,r){let i=dx[t.name];i||(i={},dx[t.name]=i);let s=i[e.toURLString()];return s&&Ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new b5(e,U5,n,r),i[e.toURLString()]=s,s}class q5{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(_5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rs(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(V5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Ai("Cannot call "+t+" on a deleted database.")}}function K5(e=_0(),t){const n=Pa(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=$F("database");r&&G5(n,...r)}return n}function G5(e,t,n,r={}){e=Lt(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&js(r,s.repoInfo_.emulatorOptions))return;Ai("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new yf(yf.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:zF(r.mockUserToken,e.app.options.projectId);o=new yf(c)}Qo(t)&&(lj(t),cj("Database",!0)),B5(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y5(e){Lz(Jo),ti(new Mr("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return W5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),hr(NC,IC,e),hr(NC,IC,"esm2020")}Ni.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ni.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Y5();function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X5=JT,ZT=new Na("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf=new Gh("@firebase/auth");function Q5(e,...t){qf.logLevel<=Xe.WARN&&qf.warn(`Auth (${Jo}): ${e}`,...t)}function xf(e,...t){qf.logLevel<=Xe.ERROR&&qf.error(`Auth (${Jo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(e,...t){throw dw(e,...t)}function Qn(e,...t){return dw(e,...t)}function eA(e,t,n){const r={...X5(),[t]:n};return new Na("auth","Firebase",r).create(t,{appName:e.name})}function Zr(e){return eA(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ZT.create(e,...t)}function de(e,t,...n){if(!e)throw dw(t,...n)}function _i(e){const t="INTERNAL ASSERTION FAILED: "+e;throw xf(t),new Error(t)}function Oi(e,t){e||_i(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function tA(){return oE()==="http:"||oE()==="https:"}function oE(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tA()||uj()||"connection"in navigator)?navigator.onLine:!0}function Z5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.shortDelay=t,this.longDelay=n,Oi(n>t,"Short delay should be less than long delay!"),this.isMobile=w0()||dj()}get(){return J5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(e,t){Oi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],n8=new du(3e4,6e4);function zn(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function yr(e,t,n,r,i={}){return rA(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const c=Ia({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const f={method:t,headers:u,...s};return WF()||(f.referrerPolicy="no-referrer"),e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(f.credentials="include"),nA.fetch()(await iA(e,e.config.apiHost,n,c),f)})}async function rA(e,t,n){e._canInitEmulator=!1;const r={...e8,...t};try{const i=new i8(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wc(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw wc(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw wc(e,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw eA(e,p,f);Fr(e,p)}}catch(i){if(i instanceof oi)throw i;Fr(e,"network-request-failed",{message:String(i)})}}async function Ds(e,t,n,r,i={}){const s=await yr(e,t,n,r,i);return"mfaPendingCredential"in s&&Fr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function iA(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?fw(e.config,i):`${e.config.apiScheme}://${i}`;return t8.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function r8(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),n8.get())})}}function wc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(e){return e!==void 0&&e.getResponse!==void 0}function cE(e){return e!==void 0&&e.enterprise!==void 0}class sA{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return r8(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8(e){return(await yr(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function aA(e,t){return yr(e,"GET","/v2/recaptchaConfig",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(e,t){return yr(e,"POST","/v1/accounts:delete",t)}async function Kf(e,t){return yr(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o8(e,t=!1){const n=Lt(e),r=await n.getIdToken(t),i=hw(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Pc(sv(i.auth_time)),issuedAtTime:Pc(sv(i.iat)),expirationTime:Pc(sv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sv(e){return Number(e)*1e3}function hw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return xf("JWT malformed, contained fewer than 3 sections"),null;try{const i=If(n);return i?JSON.parse(i):(xf("Failed to decode base64 JWT payload"),null)}catch(i){return xf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function uE(e){const t=hw(e);return de(t,"internal-error"),de(typeof t.exp<"u","internal-error"),de(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof oi&&l8(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function l8({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pc(this.lastLoginAt),this.creationTime=Pc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gf(e){var m;const t=e.auth,n=await e.getIdToken(),r=await Vc(e,Kf(t,{idToken:n}));de(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?oA(i.providerUserInfo):[],o=d8(e.providerData,s),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),f=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new hx(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(e,p)}async function u8(e){const t=Lt(e);await Gf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function d8(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function oA(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(e,t){const n=await rA(e,{},async()=>{const r=Ia({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await iA(e,i,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(u.credentials="include"),nA.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function h8(e,t){return yr(e,"POST","/v2/accounts:revokeToken",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){de(t.idToken,"internal-error"),de(typeof t.idToken<"u","internal-error"),de(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):uE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){de(t.length!==0,"internal-error");const n=uE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await f8(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new _o;return r&&(de(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(de(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return _i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(e,t){de(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ar{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new c8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,t));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return o8(this,t)}reload(){return u8(this)}_assign(t){this!==t&&(de(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ar({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Zr(this.auth));const t=await this.getIdToken();return await Vc(this,a8(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,f=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:y,providerData:w,stsTokenManager:C}=n;de(m&&C,t,"internal-error");const _=_o.fromJSON(this.name,C);de(typeof m=="string",t,"internal-error"),gs(r,t.name),gs(i,t.name),de(typeof v=="boolean",t,"internal-error"),de(typeof y=="boolean",t,"internal-error"),gs(s,t.name),gs(o,t.name),gs(c,t.name),gs(u,t.name),gs(f,t.name),gs(p,t.name);const E=new Ar({uid:m,auth:t,email:i,emailVerified:v,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:_,createdAt:f,lastLoginAt:p});return w&&Array.isArray(w)&&(E.providerData=w.map(k=>({...k}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(t,n,r=!1){const i=new _o;i.updateFromServerResponse(n);const s=new Ar({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Gf(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?oA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new _o;c.updateFromIdToken(r);const u=new Ar({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new hx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;function Si(e){Oi(e instanceof Function,"Expected a class definition");let t=dE.get(e);return t?(Oi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dE.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}lA.type="NONE";const fE=lA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(e,t,n){return`firebase:${e}:${t}:${n}`}class So{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wf(this.userKey,i.apiKey,s),this.fullPersistenceKey=wf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Kf(this.auth,{idToken:t}).catch(()=>{});return n?Ar._fromGetAccountInfoResponse(this.auth,n,t):null}return Ar._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new So(Si(fE),t,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||Si(fE);const o=wf(r,t.config.apiKey,t.name);let c=null;for(const f of n)try{const p=await f._get(o);if(p){let m;if(typeof p=="string"){const v=await Kf(t,{idToken:p}).catch(()=>{});if(!v)break;m=await Ar._fromGetAccountInfoResponse(t,v,p)}else m=Ar._fromJSON(t,p);f!==s&&(c=m),s=f;break}}catch{}const u=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new So(s,t,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new So(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pA(t))return"Blackberry";if(mA(t))return"Webos";if(uA(t))return"Safari";if((t.includes("chrome/")||dA(t))&&!t.includes("edge/"))return"Chrome";if(hA(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cA(e=kn()){return/firefox\//i.test(e)}function uA(e=kn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dA(e=kn()){return/crios\//i.test(e)}function fA(e=kn()){return/iemobile/i.test(e)}function hA(e=kn()){return/android/i.test(e)}function pA(e=kn()){return/blackberry/i.test(e)}function mA(e=kn()){return/webos/i.test(e)}function pw(e=kn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function p8(e=kn()){var t;return pw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function m8(){return VF()&&document.documentMode===10}function gA(e=kn()){return pw(e)||hA(e)||mA(e)||pA(e)||/windows phone/i.test(e)||fA(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(e,t=[]){let n;switch(e){case"Browser":n=hE(kn());break;case"Worker":n=`${hE(kn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v8(e,t={}){return yr(e,"GET","/v2/passwordPolicy",zn(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=6;class x8{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??y8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new g8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await So.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Kf(this,{idToken:t}),r=await Ar._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Gf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Z5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Gn(this.app))return Promise.reject(Zr(this));const n=t?Lt(t):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&de(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Gn(this.app)?Promise.reject(Zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await v8(this),n=new x8(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Na("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await h8(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Si(t)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=vA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Q5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ci(e){return Lt(e)}class pE{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZF(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b8(e){fu=e}function mw(e){return fu.loadJS(e)}function _8(){return fu.recaptchaV2Script}function S8(){return fu.recaptchaEnterpriseScript}function C8(){return fu.gapiScript}function yA(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=500,k8=6e4,Xd=1e12;class N8{constructor(t){this.auth=t,this.counter=Xd,this._widgets=new Map}render(t,n){const r=this.counter;return this._widgets.set(r,new j8(t,this.auth.name,n||{})),this.counter++,r}reset(t){var r;const n=t||Xd;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(t){var r;const n=t||Xd;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(t){var r;const n=t||Xd;return(r=this._widgets.get(n))==null||r.execute(),""}}class I8{constructor(){this.enterprise=new P8}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class P8{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class j8{constructor(t,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof t=="string"?document.getElementById(t):t;de(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=T8(50);const{callback:t,"expired-callback":n}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},k8)},E8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function T8(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}const A8="recaptcha-enterprise",jc="NO_RECAPTCHA";class xA{constructor(t){this.type=A8,this.auth=ci(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{aA(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new sA(u);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,o(f.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;cE(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(f=>{o(f)}).catch(()=>{o(jc)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I8().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&cE(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=S8();u.length!==0&&(u+=c),mw(u).then(()=>{i(c,s,o)}).catch(f=>{o(f)})}}).catch(c=>{o(c)})})}}async function lc(e,t,n,r=!1,i=!1){const s=new xA(e);let o;if(i)o=jc;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Co(e,t,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await lc(e,t,n,n==="getOobCode");return r(e,c)}else return r(e,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lc(e,t,n,n==="getOobCode");return r(e,u)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if((o=e._getRecaptchaConfig())!=null&&o.isProviderEnabled("PHONE_PROVIDER")){const c=await lc(e,t,n);return r(e,c).catch(async u=>{var f;if(((f=e._getRecaptchaConfig())==null?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const p=await lc(e,t,n,!1,!0);return r(e,p)}return Promise.reject(u)})}else{const c=await lc(e,t,n,!1,!0);return r(e,c)}else return Promise.reject(i+" provider is not supported.")}async function O8(e){const t=ci(e),n=await aA(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new sA(n);t.tenantId==null?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()&&new xA(t).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(e,t){const n=Pa(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(js(s,t??{}))return i;Fr(i,"already-initialized")}return n.initialize({options:t})}function D8(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function M8(e,t,n){const r=ci(e);de(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=wA(t),{host:o,port:c}=L8(t),u=c===null?"":`:${c}`,f={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(js(f,r.config.emulator)&&js(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Qo(o)?(lj(`${s}//${o}${u}`),cj("Auth",!0)):F8()}function wA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function L8(e){const t=wA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:mE(o)}}}function mE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function F8(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _i("not implemented")}_getIdTokenResponse(t){return _i("not implemented")}_linkToIdToken(t,n){return _i("not implemented")}_getReauthenticationResolver(t){return _i("not implemented")}}async function $8(e,t){return yr(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z8(e,t){return Ds(e,"POST","/v1/accounts:signInWithPassword",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(e,t){return Ds(e,"POST","/v1/accounts:signInWithEmailLink",zn(e,t))}async function B8(e,t){return Ds(e,"POST","/v1/accounts:signInWithEmailLink",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends lp{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Hc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Hc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(t,n,"signInWithPassword",z8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return U8(t,{email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Co(t,r,"signUpPassword",$8,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return B8(t,{idToken:n,email:this._email,oobCode:this._password});default:Fr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(e,t){return Ds(e,"POST","/v1/accounts:signInWithIdp",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="http://localhost";class wa extends lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new wa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Fr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new wa(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Eo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Eo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Eo(t,n)}buildRequest(){const t={requestUri:W8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ia(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gE(e,t){return yr(e,"POST","/v1/accounts:sendVerificationCode",zn(e,t))}async function V8(e,t){return Ds(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,t))}async function H8(e,t){const n=await Ds(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,t));if(n.temporaryProof)throw wc(e,"account-exists-with-different-credential",n);return n}const q8={USER_NOT_FOUND:"user-not-found"};async function K8(e,t){const n={...t,operation:"REAUTH"};return Ds(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,n),q8)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends lp{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,n){return new Tc({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new Tc({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(t){return V8(t,this._makeVerificationRequest())}_linkToIdToken(t,n){return H8(t,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(t){return K8(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=t;return!r&&!n&&!i&&!s?null:new Tc({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y8(e){const t=yc(xc(e)).link,n=t?yc(xc(t)).deep_link_id:null,r=yc(xc(e)).deep_link_id;return(r?yc(xc(r)).link:null)||r||n||t||e}class gw{constructor(t){const n=yc(xc(t)),r=n.apiKey??null,i=n.oobCode??null,s=G8(n.mode??null);de(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Y8(t);try{return new gw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(t,n){return Hc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=gw.parseLink(n);return de(r,"argument-error"),Hc._fromEmailAndCode(t,r.code,r.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends hu{constructor(){super("facebook.com")}static credential(t){return wa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return wa._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return bs.credentialFromTaggedObject(t)}static credentialFromError(t){return bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends hu{constructor(){super("github.com")}static credential(t){return wa._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _s.credentialFromTaggedObject(t)}static credentialFromError(t){return _s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _s.credential(t.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends hu{constructor(){super("twitter.com")}static credential(t,n){return wa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ss.credential(n,r)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X8(e,t){return Ds(e,"POST","/v1/accounts:signUp",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ar._fromIdTokenResponse(t,r,i),o=vE(r);return new ba({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=vE(r);return new ba({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function vE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends oi{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Yf(t,n,r,i)}}function _A(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(e,s,t,r):s})}async function Q8(e,t,n=!1){const r=await Vc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ba._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8(e,t,n=!1){const{auth:r}=e;if(Gn(r.app))return Promise.reject(Zr(r));const i="reauthenticate";try{const s=await Vc(e,_A(r,i,t,e),n);de(s.idToken,r,"internal-error");const o=hw(s.idToken);de(o,r,"internal-error");const{sub:c}=o;return de(e.uid===c,r,"user-mismatch"),ba._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Fr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(e,t,n=!1){if(Gn(e.app))return Promise.reject(Zr(e));const r="signIn",i=await _A(e,r,t),s=await ba._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function CA(e,t){return SA(ci(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(e){const t=ci(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Z8(e,t,n){if(Gn(e.app))return Promise.reject(Zr(e));const r=ci(e),o=await Co(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",X8,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&EA(e),u}),c=await ba._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function eW(e,t,n){return Gn(e.app)?Promise.reject(Zr(e)):CA(Lt(e),nl.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EA(e),r})}function tW(e,t,n,r){return Lt(e).onIdTokenChanged(t,n,r)}function nW(e,t,n){return Lt(e).beforeAuthStateChanged(t,n)}function rW(e,t,n,r){return Lt(e).onAuthStateChanged(t,n,r)}function iW(e){return Lt(e).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e,t){return yr(e,"POST","/v2/accounts/mfaEnrollment:start",zn(e,t))}const Xf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=1e3,aW=10;class NA extends kA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);m8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,aW):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},sW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}NA.type="LOCAL";const oW=NA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA extends kA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}IA.type="SESSION";const PA=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new cp(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async f=>f(n.origin,s)),u=await lW(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const f=vw("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return window}function uW(e){Nt().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(){return typeof Nt().WorkerGlobalScope<"u"&&typeof Nt().importScripts=="function"}async function dW(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fW(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function hW(){return yw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="firebaseLocalStorageDb",pW=1,Qf="firebaseLocalStorage",TA="fbase_key";class pu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function up(e,t){return e.transaction([Qf],t?"readwrite":"readonly").objectStore(Qf)}function mW(){const e=indexedDB.deleteDatabase(jA);return new pu(e).toPromise()}function px(){const e=indexedDB.open(jA,pW);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Qf,{keyPath:TA})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Qf)?t(r):(r.close(),await mW(),t(await px()))})})}async function xE(e,t,n){const r=up(e,!0).put({[TA]:t,value:n});return new pu(r).toPromise()}async function gW(e,t){const n=up(e,!1).get(t),r=await new pu(n).toPromise();return r===void 0?null:r.value}function wE(e,t){const n=up(e,!0).delete(t);return new pu(n).toPromise()}const vW=800,yW=3;class AA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await px(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>yW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(hW()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await dW(),!this.activeServiceWorker)return;this.sender=new cW(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||fW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await px();return await xE(t,Xf,"1"),await wE(t,Xf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xE(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>gW(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=up(i,!1).getAll();return new pu(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AA.type="LOCAL";const xW=AA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(e,t){return yr(e,"POST","/v2/accounts/mfaSignIn:start",zn(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=yA("rcb"),wW=new du(3e4,6e4);class bW{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((t=Nt().grecaptcha)!=null&&t.render)}load(t,n=""){return de(_W(n),t,"argument-error"),this.shouldResolveImmediately(n)&&lE(Nt().grecaptcha)?Promise.resolve(Nt().grecaptcha):new Promise((r,i)=>{const s=Nt().setTimeout(()=>{i(Qn(t,"network-request-failed"))},wW.get());Nt()[av]=()=>{Nt().clearTimeout(s),delete Nt()[av];const c=Nt().grecaptcha;if(!c||!lE(c)){i(Qn(t,"internal-error"));return}const u=c.render;c.render=(f,p)=>{const m=u(f,p);return this.counter++,m},this.hostLanguage=n,r(c)};const o=`${_8()}?${Ia({onload:av,render:"explicit",hl:n})}`;mw(o).catch(()=>{clearTimeout(s),i(Qn(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var n;return!!((n=Nt().grecaptcha)!=null&&n.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function _W(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class SW{async load(t){return new N8(t)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac="recaptcha",CW={theme:"light",type:"image"};class EW{constructor(t,n,r={...CW}){this.parameters=r,this.type=Ac,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ci(t),this.isInvisible=this.parameters.size==="invisible",de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;de(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new SW:new bW,this.validateStartingState()}async verify(){this.assertNotDestroyed();const t=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(t);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(t)})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof t=="function")t(n);else if(typeof t=="string"){const r=Nt()[t];typeof r=="function"&&r(n)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){const n=document.createElement("div");t.appendChild(n),t=n}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId}async init(){de(tA()&&!yw(),this.auth,"internal-error"),await kW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const t=await s8(this.auth);de(t,this.auth,"internal-error"),this.parameters.sitekey=t}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function kW(){let e=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}e=()=>t(),window.addEventListener("load",e)}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(t,n){this.verificationId=t,this.onConfirmation=n}confirm(t){const n=Tc._fromVerification(this.verificationId,t);return this.onConfirmation(n)}}async function IW(e,t,n){if(Gn(e.app))return Promise.reject(Zr(e));const r=ci(e),i=await PW(r,t,Lt(n));return new NW(i,s=>CA(r,s))}async function PW(e,t,n){var r;if(!e._getRecaptchaConfig())try{await O8(e)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof t=="string"?i={phoneNumber:t}:i=t,"session"in i){const s=i.session;if("phoneNumber"in i){de(s.type==="enroll",e,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Co(e,o,"mfaSmsEnrollment",async(p,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===jc){de((n==null?void 0:n.type)===Ac,p,"argument-error");const v=await ov(p,m,n);return yE(p,v)}return yE(p,m)},"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneSessionInfo.sessionInfo}else{de(s.type==="signin",e,"internal-error");const o=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;de(o,e,"missing-multi-factor-info");const c={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Co(e,c,"mfaSmsSignIn",async(m,v)=>{if(v.phoneSignInInfo.captchaResponse===jc){de((n==null?void 0:n.type)===Ac,m,"argument-error");const y=await ov(m,v,n);return bE(m,y)}return bE(m,v)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Co(e,s,"sendVerificationCode",async(f,p)=>{if(p.captchaResponse===jc){de((n==null?void 0:n.type)===Ac,f,"argument-error");const m=await ov(f,p,n);return gE(f,m)}return gE(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{n==null||n._reset()}}async function ov(e,t,n){de(n.type===Ac,e,"argument-error");const r=await n.verify();de(typeof r=="string",e,"argument-error");const i={...t};if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,u=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:c,recaptchaVersion:u}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jW(e,t){return t?Si(t):(de(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends lp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Eo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Eo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Eo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function TW(e){return SA(e.auth,new xw(e),e.bypassAuthState)}function AW(e){const{auth:t,user:n}=e;return de(n,t,"internal-error"),J8(n,new xw(e),e.bypassAuthState)}async function OW(e){const{auth:t,user:n}=e;return de(n,t,"internal-error"),Q8(n,new xw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return TW;case"linkViaPopup":case"linkViaRedirect":return OW;case"reauthViaPopup":case"reauthViaRedirect":return AW;default:Fr(this.auth,"internal-error")}}resolve(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=new du(2e3,1e4);class mo extends OA{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return de(t,this.auth,"internal-error"),t}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const t=vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RW.get())};t()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW="pendingRedirect",bf=new Map;class MW extends OA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=bf.get(this.auth._key());if(!t){try{const r=await LW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}bf.set(this.auth._key(),t)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LW(e,t){const n=zW(t),r=$W(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function FW(e,t){bf.set(e._key(),t)}function $W(e){return Si(e._redirectPersistence)}function zW(e){return wf(DW,e.config.apiKey,e.name)}async function UW(e,t,n=!1){if(Gn(e.app))return Promise.reject(Zr(e));const r=ci(e),i=jW(r,t),o=await new MW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=600*1e3;class WW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VW(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!RA(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=BW&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(t))}saveEventToCache(t){this.cachedEventUids.add(_E(t)),this.lastProcessedEventTime=Date.now()}}function _E(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function RA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VW(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(e,t={}){return yr(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KW=/^https?/;async function GW(e){if(e.config.emulator)return;const{authorizedDomains:t}=await HW(e);for(const n of t)try{if(YW(n))return}catch{}Fr(e,"unauthorized-domain")}function YW(e){const t=fx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KW.test(n))return!1;if(qW.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XW=new du(3e4,6e4);function SE(){const e=Nt().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function QW(e){return new Promise((t,n)=>{var i,s,o;function r(){SE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{SE(),n(Qn(e,"network-request-failed"))},timeout:XW.get()})}if((s=(i=Nt().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((o=Nt().gapi)!=null&&o.load)r();else{const c=yA("iframefcb");return Nt()[c]=()=>{gapi.load?r():n(Qn(e,"network-request-failed"))},mw(`${C8()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw _f=null,t})}let _f=null;function JW(e){return _f=_f||QW(e),_f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=new du(5e3,15e3),eV="__/auth/iframe",tV="emulator/auth/iframe",nV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iV(e){const t=e.config;de(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?fw(t,tV):`https://${e.config.authDomain}/${eV}`,r={apiKey:t.apiKey,appName:e.name,v:Jo},i=rV.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ia(r).slice(1)}`}async function sV(e){const t=await JW(e),n=Nt().gapi;return de(n,e,"internal-error"),t.open({where:document.body,url:iV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nV,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Qn(e,"network-request-failed"),c=Nt().setTimeout(()=>{s(o)},ZW.get());function u(){Nt().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oV=500,lV=600,cV="_blank",uV="http://localhost";class CE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dV(e,t,n,r=oV,i=lV){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...aV,width:r.toString(),height:i.toString(),top:s,left:o},f=kn().toLowerCase();n&&(c=dA(f)?cV:n),cA(f)&&(t=t||uV,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(p8(f)&&c!=="_self")return fV(t||"",c),new CE(null);const m=window.open(t||"",c,p);de(m,e,"popup-blocked");try{m.focus()}catch{}return new CE(m)}function fV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="__/auth/handler",pV="emulator/auth/handler",mV=encodeURIComponent("fac");async function EE(e,t,n,r,i,s){de(e.config.authDomain,e,"auth-domain-config-required"),de(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jo,eventId:i};if(t instanceof bA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Hy(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(t instanceof hu){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}e.tenantId&&(o.tid=e.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await e._getAppCheckToken(),f=u?`#${mV}=${encodeURIComponent(u)}`:"";return`${gV(e)}?${Ia(c).slice(1)}${f}`}function gV({config:e}){return e.emulator?fw(e,pV):`https://${e.authDomain}/${hV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="webStorageSupport";class vV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=UW,this._overrideRedirectResult=FW}async _openPopup(t,n,r,i){var o;Oi((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await EE(t,n,r,fx(),i);return dV(t,s,vw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await EE(t,n,r,fx(),i);return uW(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await sV(t),r=new WW(t);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(lv,{type:lv},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[lv];s!==void 0&&n(!!s),Fr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GW(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return gA()||uA()||pw()}}const yV=vV;var kE="@firebase/auth",NE="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bV(e){ti(new Mr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vA(e)},f=new w8(r,i,s,u);return D8(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),ti(new Mr("auth-internal",t=>{const n=ci(t.getProvider("auth").getImmediate());return(r=>new xV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(kE,NE,wV(e)),hr(kE,NE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=300,SV=oj("authIdTokenMaxAge")||_V;let IE=null;const CV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SV)return;const i=n==null?void 0:n.token;IE!==i&&(IE=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function EV(e=_0()){const t=Pa(e,"auth");if(t.isInitialized())return t.getImmediate();const n=R8(e,{popupRedirectResolver:yV,persistence:[xW,oW,PA]}),r=oj("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=CV(s.toString());nW(n,o,()=>o(n.currentUser)),tW(n,c=>o(c))}}const i=sj("auth");return i&&M8(n,`http://${i}`),n}function kV(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}b8({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bV("Browser");const NV={apiKey:"AIzaSyCYSlsCpya0lq1XTCZbg3uKRWezjgJGrDw",authDomain:"driveway-33dd7.firebaseapp.com",databaseURL:"https://driveway-33dd7-default-rtdb.firebaseio.com",projectId:"driveway-33dd7",storageBucket:"driveway-33dd7.firebasestorage.app",messagingSenderId:"774495628670",appId:"1:774495628670:web:9f060969e992697957172f",measurementId:"G-N3PXP5VM39"},ww=yj(NV);Az(ww);const _t=K5(ww),lo=EV(ww);function DA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DA(e))&&(r&&(r+=" "),r+=t);return r}const IV=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},PV=(e,t)=>({classGroupId:e,validator:t}),MA=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Jf="-",PE=[],jV="arbitrary..",TV=e=>{const t=OV(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return AV(o);const c=o.split(Jf),u=c[0]===""&&c.length>1?1:0;return LA(c,u,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=r[o],f=n[o];return u?f?IV(f,u):u:f||PE}return n[o]||PE}}},LA=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const f=LA(e,t+1,s);if(f)return f}const o=n.validators;if(o===null)return;const c=t===0?e.join(Jf):e.slice(t).join(Jf),u=o.length;for(let f=0;f<u;f++){const p=o[f];if(p.validator(c))return p.classGroupId}},AV=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?jV+r:void 0})(),OV=e=>{const{theme:t,classGroups:n}=e;return RV(n,t)},RV=(e,t)=>{const n=MA();for(const r in e){const i=e[r];bw(i,n,r,t)}return n},bw=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];DV(o,t,n,r)}},DV=(e,t,n,r)=>{if(typeof e=="string"){MV(e,t,n);return}if(typeof e=="function"){LV(e,t,n,r);return}FV(e,t,n,r)},MV=(e,t,n)=>{const r=e===""?t:FA(t,e);r.classGroupId=n},LV=(e,t,n,r)=>{if($V(e)){bw(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(PV(n,e))},FV=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[c,u]=i[o];bw(u,FA(t,c),n,r)}},FA=(e,t)=>{let n=e;const r=t.split(Jf),i=r.length;for(let s=0;s<i;s++){const o=r[s];let c=n.nextPart.get(o);c||(c=MA(),n.nextPart.set(o,c)),n=c}return n},$V=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,zV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},mx="!",jE=":",UV=[],TE=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),BV=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,c=0,u=0,f;const p=i.length;for(let C=0;C<p;C++){const _=i[C];if(o===0&&c===0){if(_===jE){s.push(i.slice(u,C)),u=C+1;continue}if(_==="/"){f=C;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const m=s.length===0?i:i.slice(u);let v=m,y=!1;m.endsWith(mx)?(v=m.slice(0,-1),y=!0):m.startsWith(mx)&&(v=m.slice(1),y=!0);const w=f&&f>u?f-u:void 0;return TE(s,y,v,w)};if(t){const i=t+jE,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):TE(UV,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},WV=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],c=o[0]==="[",u=t.has(o);c||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},VV=e=>({cache:zV(e.cacheSize),parseClassName:BV(e),sortModifiers:WV(e),...TV(e)}),HV=/\s+/,qV=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],c=e.trim().split(HV);let u="";for(let f=c.length-1;f>=0;f-=1){const p=c[f],{isExternal:m,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:C}=n(p);if(m){u=p+(u.length>0?" "+u:u);continue}let _=!!C,E=r(_?w.substring(0,C):w);if(!E){if(!_){u=p+(u.length>0?" "+u:u);continue}if(E=r(w),!E){u=p+(u.length>0?" "+u:u);continue}_=!1}const k=v.length===0?"":v.length===1?v[0]:s(v).join(":"),I=y?k+mx:k,j=I+E;if(o.indexOf(j)>-1)continue;o.push(j);const P=i(E,_);for(let A=0;A<P.length;++A){const U=P[A];o.push(I+U)}u=p+(u.length>0?" "+u:u)}return u},KV=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=$A(n))&&(i&&(i+=" "),i+=r);return i},$A=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=$A(e[r]))&&(n&&(n+=" "),n+=t);return n},GV=(e,...t)=>{let n,r,i,s;const o=u=>{const f=t.reduce((p,m)=>m(p),e());return n=VV(f),r=n.cache.get,i=n.cache.set,s=c,c(u)},c=u=>{const f=r(u);if(f)return f;const p=qV(u,n);return i(u,p),p};return s=o,(...u)=>s(KV(...u))},YV=[],Ot=e=>{const t=n=>n[e]||YV;return t.isThemeGetter=!0,t},zA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,XV=/^\d+\/\d+$/,QV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,co=e=>XV.test(e),Ae=e=>!!e&&!Number.isNaN(Number(e)),vs=e=>!!e&&Number.isInteger(Number(e)),cv=e=>e.endsWith("%")&&Ae(e.slice(0,-1)),yi=e=>QV.test(e),nH=()=>!0,rH=e=>JV.test(e)&&!ZV.test(e),BA=()=>!1,iH=e=>eH.test(e),sH=e=>tH.test(e),aH=e=>!ve(e)&&!ye(e),oH=e=>rl(e,HA,BA),ve=e=>zA.test(e),Zs=e=>rl(e,qA,rH),uv=e=>rl(e,fH,Ae),AE=e=>rl(e,WA,BA),lH=e=>rl(e,VA,sH),Qd=e=>rl(e,KA,iH),ye=e=>UA.test(e),cc=e=>il(e,qA),cH=e=>il(e,hH),OE=e=>il(e,WA),uH=e=>il(e,HA),dH=e=>il(e,VA),Jd=e=>il(e,KA,!0),rl=(e,t,n)=>{const r=zA.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},il=(e,t,n=!1)=>{const r=UA.exec(e);return r?r[1]?t(r[1]):n:!1},WA=e=>e==="position"||e==="percentage",VA=e=>e==="image"||e==="url",HA=e=>e==="length"||e==="size"||e==="bg-size",qA=e=>e==="length",fH=e=>e==="number",hH=e=>e==="family-name",KA=e=>e==="shadow",pH=()=>{const e=Ot("color"),t=Ot("font"),n=Ot("text"),r=Ot("font-weight"),i=Ot("tracking"),s=Ot("leading"),o=Ot("breakpoint"),c=Ot("container"),u=Ot("spacing"),f=Ot("radius"),p=Ot("shadow"),m=Ot("inset-shadow"),v=Ot("text-shadow"),y=Ot("drop-shadow"),w=Ot("blur"),C=Ot("perspective"),_=Ot("aspect"),E=Ot("ease"),k=Ot("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),ye,ve],A=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],z=()=>[ye,ve,u],Y=()=>[co,"full","auto",...z()],oe=()=>[vs,"none","subgrid",ye,ve],M=()=>["auto",{span:["full",vs,ye,ve]},vs,ye,ve],H=()=>[vs,"auto",ye,ve],se=()=>["auto","min","max","fr",ye,ve],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],fe=()=>["auto",...z()],le=()=>[co,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],F=()=>[e,ye,ve],te=()=>[...j(),OE,AE,{position:[ye,ve]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",uH,oH,{size:[ye,ve]}],q=()=>[cv,cc,Zs],ie=()=>["","none","full",f,ye,ve],ae=()=>["",Ae,cc,Zs],Se=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ae,cv,OE,AE],Le=()=>["","none",w,ye,ve],K=()=>["none",Ae,ye,ve],Ce=()=>["none",Ae,ye,ve],Te=()=>[Ae,ye,ve],Z=()=>[co,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yi],breakpoint:[yi],color:[nH],container:[yi],"drop-shadow":[yi],ease:["in","out","in-out"],font:[aH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yi],shadow:[yi],spacing:["px",Ae],text:[yi],"text-shadow":[yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",co,ve,ye,_]}],container:["container"],columns:[{columns:[Ae,ve,ye,c]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",ye,ve]}],basis:[{basis:[co,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ae,co,"auto","initial","none",ve]}],grow:[{grow:["",Ae,ye,ve]}],shrink:[{shrink:["",Ae,ye,ve]}],order:[{order:[vs,"first","last","none",ye,ve]}],"grid-cols":[{"grid-cols":oe()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":oe()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:fe()}],mx:[{mx:fe()}],my:[{my:fe()}],ms:[{ms:fe()}],me:[{me:fe()}],mt:[{mt:fe()}],mr:[{mr:fe()}],mb:[{mb:fe()}],ml:[{ml:fe()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[c,"screen",...le()]}],"min-w":[{"min-w":[c,"screen","none",...le()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,cc,Zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,uv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",cv,ve]}],"font-family":[{font:[cH,ve,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ye,ve]}],"line-clamp":[{"line-clamp":[Ae,"none",ye,uv]}],leading:[{leading:[s,...z()]}],"list-image":[{"list-image":["none",ye,ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ae,"from-font","auto",ye,Zs]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ae,"auto",ye,ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,ye,ve],radial:["",ye,ve],conic:[vs,ye,ve]},dH,lH]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ae,ye,ve]}],"outline-w":[{outline:["",Ae,cc,Zs]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",p,Jd,Qd]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",m,Jd,Qd]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ae,Zs]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",v,Jd,Qd]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ae,ye,ve]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ye,ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,ve]}],filter:[{filter:["","none",ye,ve]}],blur:[{blur:Le()}],brightness:[{brightness:[Ae,ye,ve]}],contrast:[{contrast:[Ae,ye,ve]}],"drop-shadow":[{"drop-shadow":["","none",y,Jd,Qd]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ae,ye,ve]}],"hue-rotate":[{"hue-rotate":[Ae,ye,ve]}],invert:[{invert:["",Ae,ye,ve]}],saturate:[{saturate:[Ae,ye,ve]}],sepia:[{sepia:["",Ae,ye,ve]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,ve]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Ae,ye,ve]}],"backdrop-contrast":[{"backdrop-contrast":[Ae,ye,ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ae,ye,ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ae,ye,ve]}],"backdrop-invert":[{"backdrop-invert":["",Ae,ye,ve]}],"backdrop-opacity":[{"backdrop-opacity":[Ae,ye,ve]}],"backdrop-saturate":[{"backdrop-saturate":[Ae,ye,ve]}],"backdrop-sepia":[{"backdrop-sepia":["",Ae,ye,ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ae,"initial",ye,ve]}],ease:[{ease:["linear","initial",E,ye,ve]}],delay:[{delay:[Ae,ye,ve]}],animate:[{animate:["none",k,ye,ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ye,ve]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[ye,ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,ve]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ae,cc,Zs,uv]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mH=GV(pH);function ft(...e){return mH(it(e))}function gx(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function RE(e="ID"){const t=Math.floor(1e3+Math.random()*9e3),n=Date.now().toString().slice(-4);return`${e}-${n}${t}`}const GA=b.createContext();function gH({children:e}){const[t,n]=b.useState([]),[r,i]=b.useState([]),[s,o]=b.useState([]),[c,u]=b.useState([]),[f,p]=b.useState([]),m=M=>{const H=M.val();return H?Object.entries(H).map(([se,xe])=>({id:se,...xe})):[]};b.useEffect(()=>{const M=bt(_t,"cars"),H=bt(_t,"customers"),se=bt(_t,"dealers"),xe=bt(_t,"transactions"),G=bt(_t,"maintenanceRecords"),fe=oc(M,O=>n(m(O))),le=oc(H,O=>i(m(O))),F=oc(se,O=>o(m(O))),te=oc(xe,O=>u(m(O))),W=oc(G,O=>p(m(O)));return()=>{fe(),le(),F(),te(),W()}},[]);const v=M=>{ac(bt(_t,"cars"),M)},y=M=>{if(r.some(se=>se.phone===M.phone))throw new Error(`Customer with phone ${M.phone} already exists!`);const H={...M,uniqueId:RE("CUST")};ac(bt(_t,"customers"),H)},w=M=>{if(s.some(se=>se.phone===M.phone))throw new Error(`Dealer with phone ${M.phone} already exists!`);const H={...M,uniqueId:RE("DLR")};ac(bt(_t,"dealers"),H)},C=M=>{ac(bt(_t,"transactions"),M)},_=(M,H)=>{Js(bt(_t,`cars/${M}`),H)},E=M=>{Yd(bt(_t,`cars/${M}`))},k=(M,H)=>{Js(bt(_t,`customers/${M}`),H)},I=M=>{Yd(bt(_t,`customers/${M}`))},j=(M,H)=>{Js(bt(_t,`dealers/${M}`),H)},P=M=>{Yd(bt(_t,`dealers/${M}`))},A=(M,H)=>{Js(bt(_t,`transactions/${M}`),H)},U=M=>{Yd(bt(_t,`transactions/${M}`))},z=M=>{ac(bt(_t,"maintenanceRecords"),M),Js(bt(_t,`cars/${M.carId}`),{status:"Maintenance"})},Y=(M,H)=>{Js(bt(_t,`maintenanceRecords/${M}`),H),H.returnDate&&Js(bt(_t,`cars/${H.carId}`),{status:"Available"})},oe=t.map(M=>{let H=M.status;const se=new Date;return se.setHours(0,0,0,0),f.some(fe=>{if(fe.carId!==M.id)return!1;const le=new Date(fe.date);if(le.setHours(0,0,0,0),fe.returnDate){const F=new Date(fe.returnDate);return F.setHours(23,59,59,999),se>=le&&se<=F}return se>=le})&&(H="On Maintenance"),c.some(fe=>{if(fe.carId!==M.id||fe.status==="Cancelled")return!1;const le=new Date(fe.startDate),F=new Date(fe.endDate);return le.setHours(0,0,0,0),F.setHours(23,59,59,999),se>=le&&se<=F})&&(H="On Rent"),{...M,status:H}});return d.jsx(GA.Provider,{value:{cars:oe,customers:r,transactions:c,dealers:s,addCar:v,updateCar:_,deleteCar:E,addCustomer:y,updateCustomer:k,deleteCustomer:I,addDealer:w,updateDealer:j,deleteDealer:P,addTransaction:C,updateTransaction:A,deleteTransaction:U,maintenanceRecords:f,addMaintenanceRecord:z,updateMaintenanceRecord:Y},children:e})}function Ft(){const e=b.useContext(GA);if(!e)throw new Error("useDriveway must be used within a DrivewayProvider");return e}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yH=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),DE=e=>{const t=yH(e);return t.charAt(0).toUpperCase()+t.slice(1)},YA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),xH=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},u)=>b.createElement("svg",{ref:u,...wH,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YA("lucide",i),...!s&&!xH(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,p])=>b.createElement(f,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(bH,{ref:s,iconNode:t,className:YA(`lucide-${vH(DE(e))}`,`lucide-${e}`,r),...i}));return n.displayName=DE(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],SH=$e("arrow-down-left",_H);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],XA=$e("arrow-left",CH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kH=$e("arrow-right",EH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],IH=$e("arrow-up-right",NH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],QA=$e("calendar",PH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],JA=$e("car",jH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ZA=$e("chevron-down",TH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eO=$e("chevron-up",AH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tO=$e("circle-alert",OH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DH=$e("circle-check",RH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ME=$e("clock",MH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],FH=$e("download",LH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zH=$e("external-link",$H);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],BH=$e("file-text",UH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],VH=$e("layout-dashboard",WH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qH=$e("log-out",HH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zf=$e("mail",KH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nO=$e("map-pin",GH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],XH=$e("menu",YH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],JH=$e("moon",QH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Mo=$e("phone",ZH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Aa=$e("plus",eq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tq=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],rO=$e("receipt",tq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nq=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rq=$e("search",nq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iq=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],sq=$e("share",iq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aq=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Rr=$e("square-pen",aq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oq=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],iO=$e("store",oq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lq=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],cq=$e("sun",lq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uq=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sO=$e("trash-2",uq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dq=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vx=$e("trash",dq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hq=$e("trending-up",fq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aO=$e("upload",pq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],eh=$e("user",mq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],th=$e("users",gq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],qc=$e("wrench",vq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nh=$e("x",yq);function pe({className:e,variant:t="primary",size:n="default",...r}){const i={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-surface text-text hover:bg-surface/80 dark:bg-surface-dark dark:text-text-dark",outline:"border border-input bg-background hover:bg-surface hover:text-text dark:bg-background-dark dark:hover:bg-surface-dark",ghost:"hover:bg-surface hover:text-text dark:hover:bg-surface-dark",link:"text-primary underline-offset-4 hover:underline"},s={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return d.jsx("button",{className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[t],s[n],e),...r})}function X({className:e,type:t,...n}){return d.jsx("input",{type:t,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",e),...n})}const Wr=b.forwardRef(({className:e,isOpen:t,onClose:n,children:r,...i},s)=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",onClick:n}),d.jsxs("div",{ref:s,className:ft("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm overflow-y-auto",t?"translate-x-0":"translate-x-full",e),...i,children:[d.jsxs("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",onClick:n,children:[d.jsx(nh,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));Wr.displayName="Sheet";const Vr=({className:e,...t})=>d.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});Vr.displayName="SheetHeader";const Hr=b.forwardRef(({className:e,...t},n)=>d.jsx("h2",{ref:n,className:ft("text-lg font-semibold text-foreground",e),...t}));Hr.displayName="SheetTitle";function xq({isOpen:e,onClose:t}){const{cars:n,customers:r,dealers:i,addTransaction:s,transactions:o}=Ft(),[c,u]=b.useState({carId:"",customerId:"",dealerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),[f,p]=b.useState({total:0,breakdown:[]}),m=n.find(y=>y.id===c.carId);b.useEffect(()=>{m&&!c.dailyRate&&u(y=>({...y,dailyRate:m.price}))},[m]),b.useEffect(()=>{if(c.startDate&&c.endDate&&m){const y=new Date(c.startDate),w=new Date(c.endDate),C=Math.abs(w-y),_=Math.ceil(C/(1e3*60*60*24));let E=0,k=[];const I=c.dailyRate?parseFloat(c.dailyRate):m.price;if(_>0)if(_>=30&&m.monthlyPrice){const j=m.monthlyPrice/30;E=Math.round(j*_),k.push({label:`Monthly Rate Applied (${_} days @ ${Math.round(j)}/day)`,amount:E})}else if(_>=10&&m.tenDayPrice){const j=m.tenDayPrice/10;E=Math.round(j*_),k.push({label:`10-Day Rate Applied (${_} days @ ${Math.round(j)}/day)`,amount:E})}else E=Math.round(I*_),k.push({label:`Standard Daily Rate (${_} days @ ${I}/day)`,amount:E});p({total:E,breakdown:k})}else p({total:0,breakdown:[]})},[c.startDate,c.endDate,m,c.dailyRate]);const v=y=>{if(y.preventDefault(),!m)return;const w=new Date(c.startDate),C=new Date(c.endDate);if(o.some(E=>{if(E.carId!==m.id||E.status==="Cancelled")return!1;const k=new Date(E.startDate),I=new Date(E.endDate);return w>=k&&w<=I||C>=k&&C<=I||w<=k&&C>=I})){alert("This car is already rented for the selected dates!");return}s({carId:m.id,customerId:c.customerId,dealerId:c.dealerId?c.dealerId:null,startDate:c.startDate,endDate:c.endDate,total:f.total,status:"Active",paymentStatus:c.paymentStatus,notes:c.notes,breakdown:f.breakdown,dailyRate:c.dailyRate}),t(),u({carId:"",customerId:"",dealerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""})};return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"New Rental"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Car"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.carId,onChange:y=>u({...c,carId:y.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Car"}),n.map(y=>d.jsxs("option",{value:y.id,disabled:y.status==="Maintenance"||y.status==="Rented",children:[y.make," ",y.model," (",y.status,")"]},y.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Customer"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.customerId,onChange:y=>u({...c,customerId:y.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Customer"}),r.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Dealer (Optional)"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.dealerId,onChange:y=>u({...c,dealerId:y.target.value}),children:[d.jsx("option",{value:"",children:"Select Dealer"}),i.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:c.startDate,onChange:y=>u({...c,startDate:y.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:c.endDate,onChange:y=>u({...c,endDate:y.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Per Day Amount"}),d.jsx(X,{type:"number",value:c.dailyRate,onChange:y=>u({...c,dailyRate:y.target.value}),placeholder:"Enter daily rate"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.paymentStatus,onChange:y=>u({...c,paymentStatus:y.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Additional notes...",value:c.notes,onChange:y=>u({...c,notes:y.target.value})})]}),d.jsxs("div",{className:"bg-surface dark:bg-surface-dark p-4 rounded-lg space-y-2",children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("span",{className:"text-sm font-medium",children:"Price Breakdown"})}),f.breakdown.length>0?d.jsxs("div",{className:"space-y-1",children:[f.breakdown.map((y,w)=>d.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[d.jsx("span",{children:y.label}),d.jsxs("span",{children:["",y.amount]})]},w)),d.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between text-sm font-bold",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",f.total]})]})]}):d.jsx("p",{className:"text-xs text-muted-foreground",children:"Select car and dates to see price breakdown."})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Create Rental"})]})})]})}const oO=b.createContext();function dp(){return b.useContext(oO)}function wq({children:e}){const[t,n]=b.useState(),[r,i]=b.useState(!0);function s(p,m){return Z8(lo,p,m)}function o(p,m){return eW(lo,p,m)}function c(){return iW(lo)}function u(p){const m=new EW(lo,"recaptcha-container",{});return m.render(),IW(lo,p,m)}b.useEffect(()=>rW(lo,m=>{n(m),i(!1)}),[]);const f={currentUser:t,signup:s,login:o,logout:c,setUpRecaptcha:u};return d.jsx(oO.Provider,{value:f,children:r?d.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):e})}function bq({children:e}){const[t,n]=b.useState(!1),[r,i]=b.useState(!1),[s,o]=b.useState(!1),c=Wi(),u=ai(),{logout:f}=dp();async function p(){try{await f(),u("/login")}catch(y){console.error("Failed to log out",y)}}b.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),b.useEffect(()=>{o(!1)},[c.pathname]);const m=[{icon:VH,label:"Dashboard",path:"/"},{icon:JA,label:"Cars",path:"/cars"},{icon:th,label:"Customers",path:"/customers"},{icon:th,label:"Dealers",path:"/dealers"},{icon:BH,label:"Rentals",path:"/transactions"},{icon:rO,label:"Financials",path:"/financials"},{icon:qc,label:"Maintenance",path:"/maintenance"}],v=()=>d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-6 flex justify-between items-center",children:[t?d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Driveway"}):d.jsx("img",{src:"/logo-day.png",alt:"Driveway",className:"h-10 object-contain"}),d.jsx(pe,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>o(!1),children:d.jsx(nh,{size:20})})]}),d.jsx("div",{className:"px-4 mb-4",children:d.jsxs(pe,{className:"w-full justify-start gap-2",onClick:()=>i(!0),children:[d.jsx(Aa,{size:20}),"New Rental"]})}),d.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto",children:m.map(y=>{const w=y.icon,C=c.pathname===y.path;return d.jsxs(Yo,{to:y.path,className:ft("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",C?"bg-primary/10 text-primary":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[d.jsx(w,{size:20}),d.jsx("span",{className:"font-medium",children:y.label})]},y.path)})}),d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[d.jsxs(pe,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>n(!t),children:[t?d.jsx(cq,{size:20}):d.jsx(JH,{size:20}),d.jsx("span",{children:t?"Light Mode":"Dark Mode"})]}),d.jsxs(pe,{variant:"ghost",className:"w-full justify-start gap-3 mt-2 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:p,children:[d.jsx(qH,{size:20}),d.jsx("span",{children:"Log Out"})]})]})]});return d.jsxs("div",{className:"min-h-screen bg-surface dark:bg-background-dark flex flex-col md:flex-row",children:[d.jsxs("div",{className:"md:hidden bg-background dark:bg-surface-dark border-b border-gray-200 dark:border-gray-800 p-4 flex justify-between items-center sticky top-0 z-20",children:[t?d.jsx("h1",{className:"text-xl font-bold text-primary",children:"Driveway"}):d.jsx("img",{src:"/logo-day.png",alt:"Driveway",className:"h-8 object-contain"}),d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>o(!0),children:d.jsx(XH,{size:24})})]}),d.jsx("aside",{className:"hidden md:flex w-64 bg-background dark:bg-surface-dark border-r border-gray-200 dark:border-gray-800 flex-col sticky top-0 h-screen",children:d.jsx(v,{})}),s&&d.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>o(!1)}),d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-background dark:bg-surface-dark shadow-xl animate-in slide-in-from-left",children:d.jsx(v,{})})]}),d.jsx("main",{className:"flex-1 overflow-auto w-full",children:d.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:e})}),d.jsx(xq,{isOpen:r,onClose:()=>i(!1)})]})}function Fe({className:e,...t}){return d.jsx("div",{className:ft("rounded-lg border bg-card text-card-foreground shadow-sm dark:bg-surface-dark dark:border-surface",e),...t})}function Dt({className:e,...t}){return d.jsx("div",{className:ft("flex flex-col space-y-1.5 p-6",e),...t})}function Mt({className:e,...t}){return d.jsx("h3",{className:ft("text-2xl font-semibold leading-none tracking-tight",e),...t})}function ze({className:e,...t}){return d.jsx("div",{className:ft("p-6 pt-0",e),...t})}function lO({className:e,...t}){return d.jsx("div",{className:ft("flex items-center p-6 pt-0",e),...t})}function cO({className:e,...t}){return d.jsx("p",{className:ft("text-sm text-muted-foreground",e),...t})}var _q=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function _w(e){if(typeof e!="string")return!1;var t=_q;return t.includes(e)}var Sq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cq=new Set(Sq);function uO(e){return typeof e!="string"?!1:Cq.has(e)}function dO(e){return typeof e=="string"&&e.startsWith("data-")}function Ri(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(uO(n)||dO(n))&&(t[n]=e[n]);return t}function Sw(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ri(t)}return typeof e=="object"&&!Array.isArray(e)?Ri(e):null}function mr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(uO(n)||dO(n)||_w(n))&&(t[n]=e[n]);return t}var Eq=["children","width","height","viewBox","className","style","title","desc"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yx.apply(null,arguments)}function kq(e,t){if(e==null)return{};var n,r,i=Nq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fO=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:c,title:u,desc:f}=e,p=kq(e,Eq),m=s||{width:r,height:i,x:0,y:0},v=it("recharts-surface",o);return b.createElement("svg",yx({},mr(p),{className:v,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),b.createElement("title",null,u),b.createElement("desc",null,f),n)}),Iq=["children","className"];function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xx.apply(null,arguments)}function Pq(e,t){if(e==null)return{};var n,r,i=jq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Di=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Pq(e,Iq),s=it("recharts-layer",r);return b.createElement("g",xx({className:s},mr(i),{ref:t}),n)}),Tq=b.createContext(null);function tt(e){return function(){return e}}const hO=Math.cos,rh=Math.sin,qr=Math.sqrt,ih=Math.PI,fp=2*ih,wx=Math.PI,bx=2*wx,na=1e-6,Aq=bx-na;function pO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Oq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pO;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Rq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pO:Oq(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=r-t,f=i-n,p=o-t,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>na)if(!(Math.abs(m*u-f*p)>na)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,w=i-c,C=u*u+f*f,_=y*y+w*w,E=Math.sqrt(C),k=Math.sqrt(v),I=s*Math.tan((wx-Math.acos((C+v-_)/(2*E*k)))/2),j=I/k,P=I/E;Math.abs(j-1)>na&&this._append`L${t+j*p},${n+j*m}`,this._append`A${s},${s},0,0,${+(m*y>p*w)},${this._x1=t+P*u},${this._y1=n+P*f}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),f=t+c,p=n+u,m=1^o,v=o?i-s:s-i;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>na||Math.abs(this._y1-p)>na)&&this._append`L${f},${p}`,r&&(v<0&&(v=v%bx+bx),v>Aq?this._append`A${r},${r},0,1,${m},${t-c},${n-u}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:v>na&&this._append`A${r},${r},0,${+(v>=wx)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Cw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Rq(t)}function Ew(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mO(e){this._context=e}mO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hp(e){return new mO(e)}function gO(e){return e[0]}function vO(e){return e[1]}function yO(e,t){var n=tt(!0),r=null,i=hp,s=null,o=Cw(c);e=typeof e=="function"?e:e===void 0?gO:tt(e),t=typeof t=="function"?t:t===void 0?vO:tt(t);function c(u){var f,p=(u=Ew(u)).length,m,v=!1,y;for(r==null&&(s=i(y=o())),f=0;f<=p;++f)!(f<p&&n(m=u[f],f,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(m,f,u),+t(m,f,u));if(y)return s=null,y+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:tt(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:tt(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:tt(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),c):r},c}function Zd(e,t,n){var r=null,i=tt(!0),s=null,o=hp,c=null,u=Cw(f);e=typeof e=="function"?e:e===void 0?gO:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?vO:tt(+n);function f(m){var v,y,w,C=(m=Ew(m)).length,_,E=!1,k,I=new Array(C),j=new Array(C);for(s==null&&(c=o(k=u())),v=0;v<=C;++v){if(!(v<C&&i(_=m[v],v,m))===E)if(E=!E)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=y;--w)c.point(I[w],j[w]);c.lineEnd(),c.areaEnd()}E&&(I[v]=+e(_,v,m),j[v]=+t(_,v,m),c.point(r?+r(_,v,m):I[v],n?+n(_,v,m):j[v]))}if(k)return c=null,k+""||null}function p(){return yO().defined(i).curve(o).context(s)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tt(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tt(!!m),f):i},f.curve=function(m){return arguments.length?(o=m,s!=null&&(c=o(s)),f):o},f.context=function(m){return arguments.length?(m==null?s=c=null:c=o(s=m),f):s},f}class xO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Dq(e){return new xO(e,!0)}function Mq(e){return new xO(e,!1)}const kw={draw(e,t){const n=qr(t/ih);e.moveTo(n,0),e.arc(0,0,n,0,fp)}},Lq={draw(e,t){const n=qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},wO=qr(1/3),Fq=wO*2,$q={draw(e,t){const n=qr(t/Fq),r=n*wO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zq={draw(e,t){const n=qr(t),r=-n/2;e.rect(r,r,n,n)}},Uq=.8908130915292852,bO=rh(ih/10)/rh(7*ih/10),Bq=rh(fp/10)*bO,Wq=-hO(fp/10)*bO,Vq={draw(e,t){const n=qr(t*Uq),r=Bq*n,i=Wq*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=fp*s/5,c=hO(o),u=rh(o);e.lineTo(u*n,-c*n),e.lineTo(c*r-u*i,u*r+c*i)}e.closePath()}},dv=qr(3),Hq={draw(e,t){const n=-qr(t/(dv*3));e.moveTo(0,n*2),e.lineTo(-dv*n,-n),e.lineTo(dv*n,-n),e.closePath()}},lr=-.5,cr=qr(3)/2,_x=1/qr(12),qq=(_x/2+1)*3,Kq={draw(e,t){const n=qr(t/qq),r=n/2,i=n*_x,s=r,o=n*_x+n,c=-s,u=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(c,u),e.lineTo(lr*r-cr*i,cr*r+lr*i),e.lineTo(lr*s-cr*o,cr*s+lr*o),e.lineTo(lr*c-cr*u,cr*c+lr*u),e.lineTo(lr*r+cr*i,lr*i-cr*r),e.lineTo(lr*s+cr*o,lr*o-cr*s),e.lineTo(lr*c+cr*u,lr*u-cr*c),e.closePath()}};function Gq(e,t){let n=null,r=Cw(i);e=typeof e=="function"?e:tt(e||kw),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:tt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function sh(){}function ah(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function _O(e){this._context=e}_O.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ah(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yq(e){return new _O(e)}function SO(e){this._context=e}SO.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xq(e){return new SO(e)}function CO(e){this._context=e}CO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ah(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qq(e){return new CO(e)}function EO(e){this._context=e}EO.prototype={areaStart:sh,areaEnd:sh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Jq(e){return new EO(e)}function LE(e){return e<0?-1:1}function FE(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(s*i+o*r)/(r+i);return(LE(s)+LE(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function $E(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fv(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,c=(s-r)/3;e._context.bezierCurveTo(r+c,i+c*t,s-c,o-c*n,s,o)}function oh(e){this._context=e}oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fv(this,this._t0,$E(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fv(this,$E(this,n=FE(this,e,t)),n);break;default:fv(this,this._t0,n=FE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function kO(e){this._context=new NO(e)}(kO.prototype=Object.create(oh.prototype)).point=function(e,t){oh.prototype.point.call(this,t,e)};function NO(e){this._context=e}NO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Zq(e){return new oh(e)}function e9(e){return new kO(e)}function IO(e){this._context=e}IO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zE(e),i=zE(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zE(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function t9(e){return new IO(e)}function pp(e,t){this._context=e,this._t=t}pp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function n9(e){return new pp(e,.5)}function r9(e){return new pp(e,0)}function i9(e){return new pp(e,1)}function Lo(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,c=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function s9(e,t){return e[t]}function a9(e){const t=[];return t.key=e,t}function o9(){var e=tt([]),t=Sx,n=Lo,r=s9;function i(s){var o=Array.from(e.apply(this,arguments),a9),c,u=o.length,f=-1,p;for(const m of s)for(c=0,++f;c<u;++c)(o[c][f]=[0,+r(m,o[c].key,f,s)]).data=m;for(c=0,p=Ew(t(o));c<u;++c)o[p[c]].index=c;return n(o,p),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?Sx:typeof s=="function"?s:tt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Lo,i):n},i}function l9(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Lo(e,t)}}function c9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Lo(e,t)}}function u9(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var c=0,u=0,f=0;c<o;++c){for(var p=e[t[c]],m=p[r][1]||0,v=p[r-1][1]||0,y=(m-v)/2,w=0;w<c;++w){var C=e[t[w]],_=C[r][1]||0,E=C[r-1][1]||0;y+=_-E}u+=m,f+=y*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Lo(e,t)}}var hv={},pv={},UE;function d9(){return UE||(UE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(pv)),pv}var mv={},BE;function PO(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(mv)),mv}var gv={},WE;function Nw(){return WE||(WE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(gv)),gv}var vv={},yv={},VE;function f9(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(yv)),yv}var HE;function Iw(){return HE||(HE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),n=Nw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let c=0,u="",f="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<o;){const m=i[c];f?m==="\\"&&c+1<o?(c++,u+=i[c]):m===f?f="":u+=m:p?m==='"'||m==="'"?f=m:m==="]"?(p=!1,s.push(u),u=""):u+=m:m==="["?(p=!0,u&&(s.push(u),u="")):m==="."?u&&(s.push(u),u=""):u+=m,c++}return u&&s.push(u),s}e.toPath=r})(vv)),vv}var qE;function Pw(){return qE||(qE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d9(),n=PO(),r=Nw(),i=Iw();function s(c,u,f){if(c==null)return f;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return f;const p=c[u];return p===void 0?n.isDeepKey(u)?s(c,i.toPath(u),f):f:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=c[u];return p===void 0?f:p}default:{if(Array.isArray(u))return o(c,u,f);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return f;const p=c[u];return p===void 0?f:p}}}function o(c,u,f){if(u.length===0)return f;let p=c;for(let m=0;m<u.length;m++){if(p==null||t.isUnsafeProperty(u[m]))return f;p=p[u[m]]}return p===void 0?f:p}e.get=s})(hv)),hv}var xv,KE;function h9(){return KE||(KE=1,xv=Pw().get),xv}var p9=h9();const Fo=si(p9);var Fn=e=>e===0?0:e>0?1:-1,$r=e=>typeof e=="number"&&e!=+e,Mi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!$r(e),ni=e=>_e(e)||typeof e=="string",m9=0,Kc=e=>{var t=++m9;return"".concat(e||"").concat(t)},zr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return r;var s;if(Mi(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return $r(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},jO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function an(e,t,n){return _e(e)&&_e(t)?e+n*(t-e):t}function g9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Fo(r,t))===n)}var Zt=e=>e===null||typeof e>"u",mu=e=>Zt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function v9(e){return e!=null}function gu(){}var y9=["type","size","sizeType"];function Cx(){return Cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cx.apply(null,arguments)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){x9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x9(e,t,n){return(t=w9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _9(e,t){if(e==null)return{};var n,r,i=S9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TO={symbolCircle:kw,symbolCross:Lq,symbolDiamond:$q,symbolSquare:zq,symbolStar:Vq,symbolTriangle:Hq,symbolWye:Kq},C9=Math.PI/180,E9=e=>{var t="symbol".concat(mu(e));return TO[t]||kw},k9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*C9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},N9=(e,t)=>{TO["symbol".concat(mu(e))]=t},AO=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=_9(e,y9),s=YE(YE({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var v=E9(o),y=Gq().type(v).size(k9(n,r,o)),w=y();if(w!==null)return w},{className:u,cx:f,cy:p}=s,m=mr(s);return _e(f)&&_e(p)&&_e(n)?b.createElement("path",Cx({},m,{className:it("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(p,")"),d:c()})):null};AO.registerSymbol=N9;var OO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,I9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{_w(i)&&(r[i]=(s=>n[i](n,s)))}),r},P9=(e,t,n)=>r=>(e(t,n,r),null),jw=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];_w(i)&&typeof s=="function"&&(r||(r={}),r[i]=P9(s,t,n))}),r};function XE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XE(Object(n),!0).forEach(function(r){T9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T9(e,t,n){return(t=A9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tr(e,t){var n=j9({},e),r=t,i=Object.keys(t),s=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return s}var wv={},bv={},QE;function R9(){return QE||(QE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(bv)),bv}var _v={},JE;function RO(){return JE||(JE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(_v)),_v}var Sv={},Cv={},Ev={},ZE;function D9(){return ZE||(ZE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Ev)),Ev}var ek;function Tw(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D9();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Cv)),Cv}var kv={},tk;function M9(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kv)),kv}var nk;function L9(){return nk||(nk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tw(),n=M9();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Sv)),Sv}var Nv={},Iv={},rk;function F9(){return rk||(rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pw();function n(r){return function(i){return t.get(i,r)}}e.property=n})(Iv)),Iv}var Pv={},jv={},Tv={},Av={},ik;function DO(){return ik||(ik=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Av)),Av}var Ov={},sk;function MO(){return sk||(sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Ov)),Ov}var Rv={},ak;function LO(){return ak||(ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(Rv)),Rv}var ok;function $9(){return ok||(ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DO(),n=MO(),r=LO();function i(p,m,v){return typeof v!="function"?i(p,m,()=>{}):s(p,m,function y(w,C,_,E,k,I){const j=v(w,C,_,E,k,I);return j!==void 0?!!j:s(w,C,y,I)},new Map)}function s(p,m,v,y){if(m===p)return!0;switch(typeof m){case"object":return o(p,m,v,y);case"function":return Object.keys(m).length>0?s(p,{...m},v,y):r.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function o(p,m,v,y){if(m==null)return!0;if(Array.isArray(m))return u(p,m,v,y);if(m instanceof Map)return c(p,m,v,y);if(m instanceof Set)return f(p,m,v,y);const w=Object.keys(m);if(p==null)return w.length===0;if(w.length===0)return!0;if(y!=null&&y.has(m))return y.get(m)===p;y==null||y.set(m,p);try{for(let C=0;C<w.length;C++){const _=w[C];if(!n.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!v(p[_],m[_],_,p,m,y))return!1}return!0}finally{y==null||y.delete(m)}}function c(p,m,v,y){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,C]of m.entries()){const _=p.get(w);if(v(_,C,w,p,m,y)===!1)return!1}return!0}function u(p,m,v,y){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let C=0;C<m.length;C++){const _=m[C];let E=!1;for(let k=0;k<p.length;k++){if(w.has(k))continue;const I=p[k];let j=!1;if(v(I,_,C,p,m,y)&&(j=!0),j){w.add(k),E=!0;break}}if(!E)return!1}return!0}function f(p,m,v,y){return m.size===0?!0:p instanceof Set?u([...p],[...m],v,y):!1}e.isMatchWith=i,e.isSetMatch=f})(Tv)),Tv}var lk;function FO(){return lk||(lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$9();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(jv)),jv}var Dv={},Mv={},Lv={},ck;function z9(){return ck||(ck=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Lv)),Lv}var Fv={},uk;function $O(){return uk||(uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Fv)),Fv}var $v={},dk;function zO(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",f="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",C="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",I="[object Uint32Array]",j="[object BigUint64Array]",P="[object Int8Array]",A="[object Int16Array]",U="[object Int32Array]",z="[object BigInt64Array]",Y="[object Float32Array]",oe="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=C,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=Y,e.float64ArrayTag=oe,e.functionTag=m,e.int16ArrayTag=A,e.int32ArrayTag=U,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=k,e.uint32ArrayTag=I,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=E})($v)),$v}var zv={},fk;function U9(){return fk||(fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(zv)),zv}var hk;function UO(){return hk||(hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z9(),n=$O(),r=zO(),i=MO(),s=U9();function o(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,v,y=new Map,w=void 0){const C=w==null?void 0:w(p,m,v,y);if(C!==void 0)return C;if(i.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const _=new Array(p.length);y.set(p,_);for(let E=0;E<p.length;E++)_[E]=c(p[E],E,v,y,w);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;y.set(p,_);for(const[E,k]of p)_.set(E,c(k,E,v,y,w));return _}if(p instanceof Set){const _=new Set;y.set(p,_);for(const E of p)_.add(c(E,void 0,v,y,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,_);for(let E=0;E<p.length;E++)_[E]=c(p[E],E,v,y,w);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,_),u(_,p,v,y,w),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return y.set(p,_),u(_,p,v,y,w),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof Error){const _=new p.constructor;return y.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,u(_,p,v,y,w),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof Number){const _=new Number(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof String){const _=new String(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(typeof p=="object"&&f(p)){const _=Object.create(Object.getPrototypeOf(p));return y.set(p,_),u(_,p,v,y,w),_}return p}function u(p,m,v=p,y,w){const C=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<C.length;_++){const E=C[_],k=Object.getOwnPropertyDescriptor(p,E);(k==null||k.writable)&&(p[E]=c(m[E],E,v,y,w))}}function f(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(Mv)),Mv}var pk;function B9(){return pk||(pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Dv)),Dv}var mk;function W9(){return mk||(mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),n=B9();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(Pv)),Pv}var Uv={},Bv={},Wv={},gk;function V9(){return gk||(gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UO(),n=zO();function r(i,s){return t.cloneDeepWith(i,(o,c,u,f)=>{const p=s==null?void 0:s(o,c,u,f);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Wv)),Wv}var vk;function H9(){return vk||(vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V9();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Bv)),Bv}var Vv={},Hv={},yk;function BO(){return yk||(yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Hv)),Hv}var qv={},xk;function q9(){return xk||(xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$O();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(qv)),qv}var wk;function K9(){return wk||(wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO(),n=BO(),r=q9(),i=Iw();function s(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&(o==null?void 0:o[c])==null?u=i.toPath(c):u=[c],u.length===0)return!1;let f=o;for(let p=0;p<u.length;p++){const m=u[p];if((f==null||!Object.hasOwn(f,m))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(m)&&m<f.length))return!1;f=f[m]}return!0}e.has=s})(Vv)),Vv}var bk;function G9(){return bk||(bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),n=Nw(),r=H9(),i=Pw(),s=K9();function o(c,u){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(f){const p=i.get(f,c);return p===void 0?s.has(f,c):u===void 0?p===void 0:t.isMatch(p,u)}}e.matchesProperty=o})(Uv)),Uv}var _k;function Y9(){return _k||(_k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO(),n=F9(),r=W9(),i=G9();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(Nv)),Nv}var Sk;function X9(){return Sk||(Sk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R9(),n=RO(),r=L9(),i=Y9();function s(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=s})(wv)),wv}var Kv,Ck;function Q9(){return Ck||(Ck=1,Kv=X9().uniqBy),Kv}var J9=Q9();const Ek=si(J9);function Z9(e,t,n){return t===!0?Ek(e,n):typeof t=="function"?Ek(e,t):e}var Gv={exports:{}},Yv={},Xv={exports:{}},Qv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kk;function e7(){if(kk)return Qv;kk=1;var e=Ho();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function c(m,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),C=w[0].inst,_=w[1];return s(function(){C.value=y,C.getSnapshot=v,u(C)&&_({inst:C})},[m,y,v]),i(function(){return u(C)&&_({inst:C}),m(function(){u(C)&&_({inst:C})})},[m]),o(y),y}function u(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function f(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Qv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Qv}var Nk;function t7(){return Nk||(Nk=1,Xv.exports=e7()),Xv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ik;function n7(){if(Ik)return Yv;Ik=1;var e=Ho(),t=t7();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Yv.useSyncExternalStoreWithSelector=function(f,p,m,v,y){var w=s(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=c(function(){function E(A){if(!k){if(k=!0,I=A,A=v(A),y!==void 0&&C.hasValue){var U=C.value;if(y(U,A))return j=U}return j=A}if(U=j,r(I,A))return U;var z=v(A);return y!==void 0&&y(U,z)?(I=A,U):(I=A,j=z)}var k=!1,I,j,P=m===void 0?null:m;return[function(){return E(p())},P===null?void 0:function(){return E(P())}]},[p,m,v,y]);var _=i(f,w[0],w[1]);return o(function(){C.hasValue=!0,C.value=_},[_]),u(_),_},Yv}var Pk;function r7(){return Pk||(Pk=1,Gv.exports=n7()),Gv.exports}var i7=r7(),Aw=b.createContext(null),s7=e=>e,Et=()=>{var e=b.useContext(Aw);return e?e.store.dispatch:s7},Sf=()=>{},a7=()=>Sf,o7=(e,t)=>e===t;function Ee(e){var t=b.useContext(Aw);return i7.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:a7,t?t.store.getState:Sf,t?t.store.getState:Sf,t?e:Sf,o7)}function l7(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function c7(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function u7(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var jk=e=>Array.isArray(e)?e:[e];function d7(e){const t=Array.isArray(e[0])?e[0]:e;return u7(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function f7(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var h7=class{constructor(e){this.value=e}deref(){return this.value}},p7=typeof WeakRef<"u"?WeakRef:h7,m7=0,Tk=1;function ef(){return{s:m7,v:void 0,o:null,p:null}}function WO(e,t={}){let n=ef();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var m;let c=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let C=c.o;C===null&&(c.o=C=new WeakMap);const _=C.get(w);_===void 0?(c=ef(),C.set(w,c)):c=_}else{let C=c.p;C===null&&(c.p=C=new Map);const _=C.get(w);_===void 0?(c=ef(),C.set(w,c)):c=_}}const f=c;let p;if(c.s===Tk)p=c.v;else if(p=e.apply(null,arguments),s++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new p7(p):p}return f.s=Tk,f.v=p,p}return o.clearCache=()=>{n=ef(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function g7(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,c,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),l7(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const p={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:y=WO,argsMemoizeOptions:w=[]}=p,C=jk(v),_=jk(w),E=d7(i),k=m(function(){return s++,f.apply(null,arguments)},...C),I=y(function(){o++;const P=f7(E,arguments);return c=k.apply(null,P),c},..._);return Object.assign(I,{resultFunc:f,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var V=g7(WO),v7=Object.assign((e,t=V)=>{c7(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>v7}),Jv={},Zv={},ey={},Ak;function y7(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-o:o-c}return 0};e.compareValues=n})(ey)),ey}var ty={},ny={},Ok;function VO(){return Ok||(Ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(ny)),ny}var Rk;function x7(){return Rk||(Rk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(ty)),ty}var Dk;function w7(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y7(),n=x7(),r=Iw();function i(s,o,c,u){if(s==null)return[];c=u?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,w)=>{let C=y;for(let _=0;_<w.length&&C!=null;++_)C=C[w[_]];return C},p=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:f(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?f(w,y):typeof w=="object"?w[y]:w,m=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(w=>p(w,y))})).slice().sort((y,w)=>{for(let C=0;C<m.length;C++){const _=t.compareValues(y.criteria[C],w.criteria[C],c[C]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=i})(Zv)),Zv}var ry={},Mk;function b7(){return Mk||(Mk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(c,u)=>{for(let f=0;f<c.length;f++){const p=c[f];Array.isArray(p)&&u<s?o(p,u+1):i.push(p)}};return o(n,0),i}e.flatten=t})(ry)),ry}var iy={},Lk;function HO(){return Lk||(Lk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BO(),n=Tw(),r=DO(),i=LO();function s(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=s})(iy)),iy}var Fk;function _7(){return Fk||(Fk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),n=b7(),r=HO();function i(s,...o){const c=o.length;return c>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(Jv)),Jv}var sy,$k;function S7(){return $k||($k=1,sy=_7().sortBy),sy}var C7=S7();const mp=si(C7);var qO=e=>e.legend.settings,E7=e=>e.legend.size,k7=e=>e.legend.payload;V([k7,qO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?mp(r,n):r});var tf=1;function N7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>tf||Math.abs(o.left-t.left)>tf||Math.abs(o.top-t.top)>tf||Math.abs(o.width-t.width)>tf)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function sn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I7=typeof Symbol=="function"&&Symbol.observable||"@@observable",zk=I7,ay=()=>Math.random().toString(36).substring(7).split("").join("."),P7={INIT:`@@redux/INIT${ay()}`,REPLACE:`@@redux/REPLACE${ay()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ay()}`},lh=P7;function Ow(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function KO(e,t,n){if(typeof e!="function")throw new Error(sn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(sn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(sn(1));return n(KO)(e,t)}let r=e,i=t,s=new Map,o=s,c=0,u=!1;function f(){o===s&&(o=new Map,s.forEach((_,E)=>{o.set(E,_)}))}function p(){if(u)throw new Error(sn(3));return i}function m(_){if(typeof _!="function")throw new Error(sn(4));if(u)throw new Error(sn(5));let E=!0;f();const k=c++;return o.set(k,_),function(){if(E){if(u)throw new Error(sn(6));E=!1,f(),o.delete(k),s=null}}}function v(_){if(!Ow(_))throw new Error(sn(7));if(typeof _.type>"u")throw new Error(sn(8));if(typeof _.type!="string")throw new Error(sn(17));if(u)throw new Error(sn(9));try{u=!0,i=r(i,_)}finally{u=!1}return(s=o).forEach(k=>{k()}),_}function y(_){if(typeof _!="function")throw new Error(sn(10));r=_,v({type:lh.REPLACE})}function w(){const _=m;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(sn(11));function k(){const j=E;j.next&&j.next(p())}return k(),{unsubscribe:_(k)}},[zk](){return this}}}return v({type:lh.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:y,[zk]:w}}function j7(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:lh.INIT})>"u")throw new Error(sn(12));if(typeof n(void 0,{type:lh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(sn(13))})}function GO(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{j7(n)}catch(s){i=s}return function(o={},c){if(i)throw i;let u=!1;const f={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],y=o[m],w=v(y,c);if(typeof w>"u")throw c&&c.type,new Error(sn(14));f[m]=w,u=u||w!==y}return u=u||r.length!==Object.keys(o).length,u?f:o}}function ch(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function T7(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(sn(15))};const o={getState:i.getState,dispatch:(u,...f)=>s(u,...f)},c=e.map(u=>u(o));return s=ch(...c)(i.dispatch),{...i,dispatch:s}}}function YO(e){return Ow(e)&&"type"in e&&typeof e.type=="string"}var XO=Symbol.for("immer-nothing"),Uk=Symbol.for("immer-draftable"),er=Symbol.for("immer-state");function Pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Gc=Object.getPrototypeOf;function _a(e){return!!e&&!!e[er]}function Li(e){var t;return e?QO(e)||Array.isArray(e)||!!e[Uk]||!!((t=e.constructor)!=null&&t[Uk])||vu(e)||vp(e):!1}var A7=Object.prototype.constructor.toString(),Bk=new WeakMap;function QO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=Bk.get(n);return r===void 0&&(r=Function.toString.call(n),Bk.set(n,r)),r===A7}function uh(e,t,n=!0){gp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function gp(e){const t=e[er];return t?t.type_:Array.isArray(e)?1:vu(e)?2:vp(e)?3:0}function Ex(e,t){return gp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function JO(e,t,n){const r=gp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function O7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vu(e){return e instanceof Map}function vp(e){return e instanceof Set}function ra(e){return e.copy_||e.base_}function kx(e,t){if(vu(e))return new Map(e);if(vp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=QO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[er];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Gc(e),r)}else{const r=Gc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Rw(e,t=!1){return yp(e)||_a(e)||!Li(e)||(gp(e)>1&&Object.defineProperties(e,{set:nf,add:nf,clear:nf,delete:nf}),Object.freeze(e),t&&Object.values(e).forEach(n=>Rw(n,!0))),e}function R7(){Pr(2)}var nf={value:R7};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var D7={};function Sa(e){const t=D7[e];return t||Pr(0,e),t}var Yc;function ZO(){return Yc}function M7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wk(e,t){t&&(Sa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Nx(e){Ix(e),e.drafts_.forEach(L7),e.drafts_=null}function Ix(e){e===Yc&&(Yc=e.parent_)}function Vk(e){return Yc=M7(Yc,e)}function L7(e){const t=e[er];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[er].modified_&&(Nx(t),Pr(4)),Li(e)&&(e=dh(t,e),t.parent_||fh(t,e)),t.patches_&&Sa("Patches").generateReplacementPatches_(n[er].base_,e,t.patches_,t.inversePatches_)):e=dh(t,n,[]),Nx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==XO?e:void 0}function dh(e,t,n){if(yp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[er];if(!i)return uh(t,(s,o)=>qk(e,i,t,s,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return fh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,c=!1;i.type_===3&&(o=new Set(s),s.clear(),c=!0),uh(o,(u,f)=>qk(e,i,s,u,f,n,c),r),fh(e,s,!1),n&&e.patches_&&Sa("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function qk(e,t,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const c=yp(i);if(!(c&&!o)){if(_a(i)){const u=s&&t&&t.type_!==3&&!Ex(t.assigned_,r)?s.concat(r):void 0,f=dh(e,i,u);if(JO(n,r,f),_a(f))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Li(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;dh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(vu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&fh(e,i)}}}function fh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Rw(t,n)}function F7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ZO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Dw;n&&(i=[r],s=Xc);const{revoke:o,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=o,c}var Dw={get(e,t){if(t===er)return e;const n=ra(e);if(!Ex(n,t))return $7(e,n,t);const r=n[t];return e.finalized_||!Li(r)?r:r===oy(e.base_,t)?(ly(e),e.copy_[t]=jx(r,e)):r},has(e,t){return t in ra(e)},ownKeys(e){return Reflect.ownKeys(ra(e))},set(e,t,n){const r=eR(ra(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=oy(ra(e),t),s=i==null?void 0:i[er];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(O7(n,i)&&(n!==void 0||Ex(e.base_,t)))return!0;ly(e),Px(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return oy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ly(e),Px(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ra(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Pr(11)},getPrototypeOf(e){return Gc(e.base_)},setPrototypeOf(){Pr(12)}},Xc={};uh(Dw,(e,t)=>{Xc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Xc.deleteProperty=function(e,t){return Xc.set.call(this,e,t,void 0)};Xc.set=function(e,t,n){return Dw.set.call(this,e[0],t,n,e[0])};function oy(e,t){const n=e[er];return(n?ra(n):e)[t]}function $7(e,t,n){var i;const r=eR(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function eR(e,t){if(!(t in e))return;let n=Gc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Gc(n)}}function Px(e){e.modified_||(e.modified_=!0,e.parent_&&Px(e.parent_))}function ly(e){e.copy_||(e.copy_=kx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var z7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...f){return o.produce(u,p=>n.call(this,p,...f))}}typeof n!="function"&&Pr(6),r!==void 0&&typeof r!="function"&&Pr(7);let i;if(Li(t)){const s=Vk(this),o=jx(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?Nx(s):Ix(s)}return Wk(s,r),Hk(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===XO&&(i=void 0),this.autoFreeze_&&Rw(i,!0),r){const s=[],o=[];Sa("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else Pr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Li(e)||Pr(8),_a(e)&&(e=Dr(e));const t=Vk(this),n=jx(e,void 0);return n[er].isManual_=!0,Ix(t),n}finishDraft(e,t){const n=e&&e[er];(!n||!n.isManual_)&&Pr(9);const{scope_:r}=n;return Wk(r,t),Hk(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Sa("Patches").applyPatches_;return _a(e)?r(e,t):this.produce(e,i=>r(i,t))}};function jx(e,t){const n=vu(e)?Sa("MapSet").proxyMap_(e,t):vp(e)?Sa("MapSet").proxySet_(e,t):F7(e,t);return(t?t.scope_:ZO()).drafts_.push(n),n}function Dr(e){return _a(e)||Pr(10,e),tR(e)}function tR(e){if(!Li(e)||yp(e))return e;const t=e[er];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kx(e,!0);return uh(n,(i,s)=>{JO(n,i,tR(s))},r),t&&(t.finalized_=!1),n}var Tx=new z7,nR=Tx.produce,U7=Tx.setUseStrictIteration.bind(Tx);function rR(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var B7=rR(),W7=rR,V7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ch:ch.apply(null,arguments)};function gr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Jn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>YO(r)&&r.type===e,n}var iR=class bc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bc.prototype)}static get[Symbol.species](){return bc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bc(...t[0].concat(this)):new bc(...t.concat(this))}};function Kk(e){return Li(e)?nR(e,()=>{}):e}function rf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function H7(e){return typeof e=="boolean"}var q7=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new iR;return n&&(H7(n)?o.push(B7):o.push(W7(n.extraArgument))),o},sR="RTK_autoBatch",ct=()=>e=>({payload:e,meta:{[sR]:!0}}),Gk=e=>t=>{setTimeout(t,e)},aR=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gk(10):e.type==="callback"?e.queueNotification:Gk(e.timeout),f=()=>{o=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[sR]),s=!i,s&&(o||(o=!0,u(f))),r.dispatch(p)}finally{i=!0}}})},K7=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new iR(e);return r&&i.push(aR(typeof r=="object"?r:void 0)),i};function G7(e){const t=q7(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Ow(n))c=GO(n);else throw new Error(Jn(1));let u;typeof r=="function"?u=r(t):u=t();let f=ch;i&&(f=V7({trace:!1,...typeof i=="object"&&i}));const p=T7(...u),m=K7(p);let v=typeof o=="function"?o(m):m();const y=f(...v);return KO(c,s,y)}function oR(e){const t={},n=[];let r;const i={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Jn(28));if(c in t)throw new Error(Jn(29));return t[c]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}U7(!1);function Y7(e){return typeof e=="function"}function X7(e,t){let[n,r,i]=oR(t),s;if(Y7(e))s=()=>Kk(e());else{const c=Kk(e);s=()=>c}function o(c=s(),u){let f=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[i]),f.reduce((p,m)=>{if(m)if(_a(p)){const y=m(p,u);return y===void 0?p:y}else{if(Li(p))return nR(p,v=>m(v,u));{const v=m(p,u);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return o.getInitialState=s,o}var Q7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",J7=(e=21)=>{let t="",n=e;for(;n--;)t+=Q7[Math.random()*64|0];return t},Z7=Symbol.for("rtk-slice-createasyncthunk");function eK(e,t){return`${e}/${t}`}function tK({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[Z7];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Jn(11));const c=(typeof i.reducers=="function"?i.reducers(rK()):i.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(j,P){const A=typeof j=="string"?j:j.type;if(!A)throw new Error(Jn(12));if(A in f.sliceCaseReducersByType)throw new Error(Jn(13));return f.sliceCaseReducersByType[A]=P,p},addMatcher(j,P){return f.sliceMatchers.push({matcher:j,reducer:P}),p},exposeAction(j,P){return f.actionCreators[j]=P,p},exposeCaseReducer(j,P){return f.sliceCaseReducersByName[j]=P,p}};u.forEach(j=>{const P=c[j],A={reducerName:j,type:eK(s,j),createNotation:typeof i.reducers=="function"};sK(P)?oK(A,P,p,t):iK(A,P,p)});function m(){const[j={},P=[],A=void 0]=typeof i.extraReducers=="function"?oR(i.extraReducers):[i.extraReducers],U={...j,...f.sliceCaseReducersByType};return X7(i.initialState,z=>{for(let Y in U)z.addCase(Y,U[Y]);for(let Y of f.sliceMatchers)z.addMatcher(Y.matcher,Y.reducer);for(let Y of P)z.addMatcher(Y.matcher,Y.reducer);A&&z.addDefaultCase(A)})}const v=j=>j,y=new Map,w=new WeakMap;let C;function _(j,P){return C||(C=m()),C(j,P)}function E(){return C||(C=m()),C.getInitialState()}function k(j,P=!1){function A(z){let Y=z[j];return typeof Y>"u"&&P&&(Y=rf(w,A,E)),Y}function U(z=v){const Y=rf(y,P,()=>new WeakMap);return rf(Y,z,()=>{const oe={};for(const[M,H]of Object.entries(i.selectors??{}))oe[M]=nK(H,z,()=>rf(w,z,E),P);return oe})}return{reducerPath:j,getSelectors:U,get selectors(){return U(A)},selectSlice:A}}const I={name:s,reducer:_,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...k(o),injectInto(j,{reducerPath:P,...A}={}){const U=P??o;return j.inject({reducerPath:U,reducer:_},A),{...I,...k(U,!0)}}};return I}}function nK(e,t,n,r){function i(s,...o){let c=t(s);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var Un=tK();function rK(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function iK({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!aK(r))throw new Error(Jn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?gr(e,o):gr(e))}function sK(e){return e._reducerDefinitionType==="asyncThunk"}function aK(e){return e._reducerDefinitionType==="reducerWithPrepare"}function oK({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Jn(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:u,settled:f,options:p}=n,m=i(e,s,p);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),f&&r.addMatcher(m.settled,f),r.exposeCaseReducer(t,{fulfilled:o||sf,pending:c||sf,rejected:u||sf,settled:f||sf})}function sf(){}var lK="task",lR="listener",cR="completed",Mw="cancelled",cK=`task-${Mw}`,uK=`task-${cR}`,Ax=`${lR}-${Mw}`,dK=`${lR}-${cR}`,xp=class{constructor(e){Mg(this,"name","TaskAbortError");Mg(this,"message");this.code=e,this.message=`${lK} ${Mw} (reason: ${e})`}},Lw=(e,t)=>{if(typeof e!="function")throw new TypeError(Jn(32))},hh=()=>{},uR=(e,t=hh)=>(e.catch(t),e),dR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ua=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},da=e=>{if(e.aborted){const{reason:t}=e;throw new xp(t)}};function fR(e,t){let n=hh;return new Promise((r,i)=>{const s=()=>i(new xp(e.reason));if(e.aborted){s();return}n=dR(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=hh})}var fK=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof xp?"cancelled":"rejected",error:n}}finally{t==null||t()}},ph=e=>t=>uR(fR(e,t).then(n=>(da(e),n))),hR=e=>{const t=ph(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:ko}=Object,Yk={},wp="listenerMiddleware",hK=(e,t)=>{const n=r=>dR(e,()=>ua(r,e.reason));return(r,i)=>{Lw(r);const s=new AbortController;n(s);const o=fK(async()=>{da(e),da(s.signal);const c=await r({pause:ph(s.signal),delay:hR(s.signal),signal:s.signal});return da(s.signal),c},()=>ua(s,uK));return i!=null&&i.autoJoin&&t.push(o.catch(hh)),{result:ph(e)(o),cancel(){ua(s,cK)}}}},pK=(e,t)=>{const n=async(r,i)=>{da(t);let s=()=>{};const c=[new Promise((u,f)=>{let p=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),u([m,v.getState(),v.getOriginalState()])}});s=()=>{p(),f()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await fR(t,Promise.race(c));return da(t),u}finally{s()}};return(r,i)=>uR(n(r,i))},pR=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=gr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Jn(21));return Lw(s),{predicate:i,type:t,effect:s}},mR=ko(e=>{const{type:t,predicate:n,effect:r}=pR(e);return{id:J7(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Jn(22))}}},{withTypes:()=>mR}),Xk=(e,t)=>{const{type:n,effect:r,predicate:i}=pR(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},Ox=e=>{e.pending.forEach(t=>{ua(t,Ax)})},mK=(e,t)=>()=>{for(const n of t.keys())Ox(n);e.clear()},Qk=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},gR=ko(gr(`${wp}/add`),{withTypes:()=>gR}),gK=gr(`${wp}/removeAll`),vR=ko(gr(`${wp}/remove`),{withTypes:()=>vR}),vK=(...e)=>{console.error(`${wp}/error`,...e)},yu=(e={})=>{const t=new Map,n=new Map,r=y=>{const w=n.get(y)??0;n.set(y,w+1)},i=y=>{const w=n.get(y)??1;w===1?n.delete(y):n.set(y,w-1)},{extra:s,onError:o=vK}=e;Lw(o);const c=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),w=>{y.unsubscribe(),w!=null&&w.cancelActive&&Ox(y)}),u=y=>{const w=Xk(t,y)??mR(y);return c(w)};ko(u,{withTypes:()=>u});const f=y=>{const w=Xk(t,y);return w&&(w.unsubscribe(),y.cancelActive&&Ox(w)),!!w};ko(f,{withTypes:()=>f});const p=async(y,w,C,_)=>{const E=new AbortController,k=pK(u,E.signal),I=[];try{y.pending.add(E),r(y),await Promise.resolve(y.effect(w,ko({},C,{getOriginalState:_,condition:(j,P)=>k(j,P).then(Boolean),take:k,delay:hR(E.signal),pause:ph(E.signal),extra:s,signal:E.signal,fork:hK(E.signal,I),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((j,P,A)=>{j!==E&&(ua(j,Ax),A.delete(j))})},cancel:()=>{ua(E,Ax),y.pending.delete(E)},throwIfCancelled:()=>{da(E.signal)}})))}catch(j){j instanceof xp||Qk(o,j,{raisedBy:"effect"})}finally{await Promise.all(I),ua(E,dK),i(y),y.pending.delete(E)}},m=mK(t,n);return{middleware:y=>w=>C=>{if(!YO(C))return w(C);if(gR.match(C))return u(C.payload);if(gK.match(C)){m();return}if(vR.match(C))return f(C.payload);let _=y.getState();const E=()=>{if(_===Yk)throw new Error(Jn(23));return _};let k;try{if(k=w(C),t.size>0){const I=y.getState(),j=Array.from(t.values());for(const P of j){let A=!1;try{A=P.predicate(C,I,_)}catch(U){A=!1,Qk(o,U,{raisedBy:"predicate"})}A&&p(P,C,y,E)}}}finally{_=Yk}return k},startListening:u,stopListening:f,clearListeners:m}};function Jn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yK={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},yR=Un({name:"chartLayout",initialState:yK,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:xK,setLayout:wK,setChartSize:bK,setScale:_K}=yR.actions,SK=yR.reducer;function xR(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Jk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(n),!0).forEach(function(r){CK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CK(e,t,n){return(t=EK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yn(e,t,n){return Zt(e)||Zt(t)?n:ni(t)?Fo(e,t,n):typeof t=="function"?t(e):n}var NK=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&s!=="center"&&_e(e[s]))return go(go({},e),{},{[s]:e[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&o!=="middle"&&_e(e[o]))return go(go({},e),{},{[o]:e[o]+(i||0)})}return e},Oa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",wR=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,s,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||o.push(t),s||o.push(n),o},bR=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:f,tickCount:p,ticks:m,niceTicks:v,axisType:y}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,C=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(C=y==="angleAxis"&&s&&s.length>=2?Fn(s[0]-s[1])*2*C:C,m||v){var _=(m||v||[]).map((E,k)=>{var I=r?r.indexOf(E):E;return{coordinate:o(I)+C,value:E,offset:C,index:k}});return _.filter(E=>!$r(E.coordinate))}return u&&f?f.map((E,k)=>({coordinate:o(E)+C,value:E,index:k,offset:C})):o.ticks&&p!=null?o.ticks(p).map((E,k)=>({coordinate:o(E)+C,value:E,offset:C,index:k})):o.domain().map((E,k)=>({coordinate:o(E)+C,value:r?r[E]:E,index:k,offset:C}))},Zk=1e-4,IK=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Zk,s=Math.max(r[0],r[1])+Zk,o=e(t[0]),c=e(t[n-1]);(o<i||o>s||c<i||c>s)&&e.domain([t[0],t[n-1]])}},PK=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!_e(e[0])||e[0]<n)&&(i[0]=n),(!_e(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},jK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,o=0;o<t;++o){var c=$r(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},TK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var o=$r(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},AK={sign:jK,expand:l9,none:Lo,silhouette:c9,wiggle:u9,positive:TK},OK=(e,t,n)=>{var r=AK[n],i=o9().keys(t).value((s,o)=>Number(yn(s,o,0))).order(Sx).offset(r);return i(e)};function RK(e){return e==null?void 0:String(e)}var eN=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var c=yn(s,t.dataKey,t.scale.domain()[o]);return Zt(c)?null:t.scale(c)-i/2+r},DK=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},MK=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},LK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],FK=(e,t,n)=>{if(e!=null)return LK(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:o}=s,c=o.reduce((u,f)=>{var p=xR(f,t,n),m=MK(p);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},tN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=mp(t,p=>p.coordinate),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],f=i[o-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function rN(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return go(go({},t),{},{dataKey:n,payload:r,value:i,name:s})}function _R(e,t){if(e)return String(e);if(typeof t=="string")return t}var $K=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},zK=(e,t)=>t==="centric"?e.angle:e.radius,Vi=e=>e.layout.width,Hi=e=>e.layout.height,UK=e=>e.layout.scale,SR=e=>e.layout.margin,bp=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_p=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),BK="data-recharts-item-index",WK="data-recharts-item-data-key",xu=60;function iN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(n),!0).forEach(function(r){VK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VK(e,t,n){return(t=HK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){var t=qK(e,"string");return typeof t=="symbol"?t:t+""}function qK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KK=e=>e.brush.height;function GK(e){var t=_p(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xu;return n+i}return n},0)}function YK(e){var t=_p(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xu;return n+i}return n},0)}function XK(e){var t=bp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function QK(e){var t=bp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var en=V([Vi,Hi,SR,KK,GK,YK,XK,QK,qO,E7],(e,t,n,r,i,s,o,c,u,f)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+o,bottom:(n.bottom||0)+c},v=af(af({},m),p),y=v.bottom;v.bottom+=r,v=NK(v,u,f);var w=e-v.left-v.right,C=t-v.top-v.bottom;return af(af({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(C,0)})}),JK=V(en,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Fw=V(Vi,Hi,(e,t)=>({x:0,y:0,width:e,height:t})),ZK=b.createContext(null),Bn=()=>b.useContext(ZK)!=null,Sp=e=>e.brush,Cp=V([Sp,en,SR],(e,t,n)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:_e(e.width)?e.width:t.width})),cy={},uy={},dy={},sN;function eG(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,c=null;const u=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},m=()=>{f&&p(),C()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},C=()=>{w(),o=void 0,c=null},_=()=>{p()},E=function(...k){if(i!=null&&i.aborted)return;o=this,c=k;const I=v==null;y(),u&&I&&p()};return E.schedule=y,E.cancel=C,E.flush=_,i==null||i.addEventListener("abort",C,{once:!0}),E}e.debounce=t})(dy)),dy}var aN;function tG(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eG();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:c=!0,maxWait:u}=s,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let p,m=null;const v=t.debounce(function(...C){p=r.apply(this,C),m=null},i,{edges:f}),y=function(...C){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(p=r.apply(this,C),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,C),p)},w=()=>(v.flush(),p);return y.cancel=v.cancel,y.flush=w,y}e.debounce=n})(uy)),uy}var oN;function nG(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tG();function n(r,i=0,s={}){const{leading:o=!0,trailing:c=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(cy)),cy}var fy,lN;function rG(){return lN||(lN=1,fy=nG().throttle),fy}var iG=rG();const sG=si(iG);var gh=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},CR=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,c=Mi(r)?e:Number(r),u=Mi(i)?t:Number(i);return s&&s>0&&(c?u=c/s:u&&(c=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},aG={width:0,height:0,overflow:"visible"},oG={width:0,overflowX:"visible"},lG={height:0,overflowY:"visible"},cG={},uG=e=>{var{width:t,height:n}=e,r=Mi(t),i=Mi(n);return r&&i?aG:r?oG:i?lG:cG};function dG(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Ct(e){return Number.isFinite(e)}function ri(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Rx(){return Rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rx.apply(null,arguments)}function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){fG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fG(e,t,n){return(t=hG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ER=b.createContext({width:-1,height:-1});function mG(e){return ri(e.width)&&ri(e.height)}function kR(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return mG(i)?b.createElement(ER.Provider,{value:i},t):null}var $w=()=>b.useContext(ER),gG=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:c,maxHeight:u,children:f,debounce:p=0,id:m,className:v,onResize:y,style:w={}}=e,C=b.useRef(null),_=b.useRef();_.current=y,b.useImperativeHandle(t,()=>C.current);var[E,k]=b.useState({containerWidth:r.width,containerHeight:r.height}),I=b.useCallback((z,Y)=>{k(oe=>{var M=Math.round(z),H=Math.round(Y);return oe.containerWidth===M&&oe.containerHeight===H?oe:{containerWidth:M,containerHeight:H}})},[]);b.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return gu;var z=H=>{var se,{width:xe,height:G}=H[0].contentRect;I(xe,G),(se=_.current)===null||se===void 0||se.call(_,xe,G)};p>0&&(z=sG(z,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(z),{width:oe,height:M}=C.current.getBoundingClientRect();return I(oe,M),Y.observe(C.current),()=>{Y.disconnect()}},[I,p]);var{containerWidth:j,containerHeight:P}=E;gh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:A,calculatedHeight:U}=CR(j,P,{width:i,height:s,aspect:n,maxHeight:u});return gh(A!=null&&A>0||U!=null&&U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,U,i,s,o,c,n),b.createElement("div",{id:m?"".concat(m):void 0,className:it("recharts-responsive-container",v),style:uN(uN({},w),{},{width:i,height:s,minWidth:o,minHeight:c,maxHeight:u}),ref:C},b.createElement("div",{style:uG({width:i,height:s})},b.createElement(kR,{width:A,height:U},f)))}),vG=b.forwardRef((e,t)=>{var n=$w();if(ri(n.width)&&ri(n.height))return e.children;var{width:r,height:i}=dG({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=CR(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _e(s)&&_e(o)?b.createElement(kR,{width:s,height:o},e.children):b.createElement(gG,Rx({},e,{width:r,height:i,ref:t}))});function NR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ep=()=>{var e,t=Bn(),n=Ee(JK),r=Ee(Cp),i=(e=Ee(Sp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},yG={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},IR=()=>{var e;return(e=Ee(en))!==null&&e!==void 0?e:yG},PR=()=>Ee(Vi),jR=()=>Ee(Hi),Ye=e=>e.layout.layoutType,kp=()=>Ee(Ye),xG=()=>{var e=kp();return e!==void 0},Np=e=>{var t=Et(),n=Bn(),{width:r,height:i}=e,s=$w(),o=r,c=i;return s&&(o=s.width>0?s.width:r,c=s.height>0?s.height:i),b.useEffect(()=>{!n&&ri(o)&&ri(c)&&t(bK({width:o,height:c}))},[t,n,o,c]),null},wG={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},TR=Un({name:"legend",initialState:wG,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ct()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Dr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ct()},removeLegendPayload:{reducer(e,t){var n=Dr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ct()}}}),{setLegendSize:tle,setLegendSettings:nle,addLegendPayload:bG,replaceLegendPayload:_G,removeLegendPayload:SG}=TR.actions,CG=TR.reducer;function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dx.apply(null,arguments)}function dN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(n),!0).forEach(function(r){EG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EG(e,t,n){return(t=kG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IG(e){return Array.isArray(e)&&ni(e[0])&&ni(e[1])?e.join(" ~ "):e}var PG=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:f,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var P={padding:0,margin:0},A=(c?mp(s,c):s).map((U,z)=>{if(U.type==="none")return null;var Y=U.formatter||o||IG,{value:oe,name:M}=U,H=oe,se=M;if(Y){var xe=Y(oe,M,U,z,s);if(Array.isArray(xe))[H,se]=xe;else if(xe!=null)H=xe;else return null}var G=hy({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:G},ni(se)?b.createElement("span",{className:"recharts-tooltip-item-name"},se):null,ni(se)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},H),b.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},A)}return null},w=hy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=hy({margin:0},i),_=!Zt(p),E=_?p:"",k=it("recharts-default-tooltip",u),I=it("recharts-tooltip-label",f);_&&m&&s!==void 0&&s!==null&&(E=m(p,s));var j=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Dx({className:k,style:w},j),b.createElement("p",{className:I,style:C},b.isValidElement(E)?E:"".concat(E)),y())},uc="recharts-tooltip-wrapper",jG={visibility:"hidden"};function TG(e){var{coordinate:t,translateX:n,translateY:r}=e;return it(uc,{["".concat(uc,"-right")]:_e(n)&&t&&_e(t.x)&&n>=t.x,["".concat(uc,"-left")]:_e(n)&&t&&_e(t.x)&&n<t.x,["".concat(uc,"-bottom")]:_e(r)&&t&&_e(t.y)&&r>=t.y,["".concat(uc,"-top")]:_e(r)&&t&&_e(t.y)&&r<t.y})}function fN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:f}=e;if(s&&_e(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(t[r])return o[r]?p:m;var v=u[r];if(v==null)return 0;if(o[r]){var y=p,w=v;return y<w?Math.max(m,v):Math.max(p,v)}if(f==null)return 0;var C=m+c,_=v+f;return C>_?Math.max(p,v):Math.max(m,v)}function AG(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function OG(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,f,p,m;return o.height>0&&o.width>0&&n?(p=fN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=fN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),f=AG({translateX:p,translateY:m,useTranslate3d:c})):f=jG,{cssProperties:f,cssClasses:TG({translateX:p,translateY:m,coordinate:n})}}function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){Mx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mx(e,t,n){return(t=RG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MG extends b.PureComponent{constructor(){super(...arguments),Mx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:c,isAnimationActive:u,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:C,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:k,cssProperties:I}=OG({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:p,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:v,viewBox:y}),j=E?{}:of(of({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=of(of({},j),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:_},s)}}var LG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sl={devToolsEnabled:!1,isSsr:LG()},AR=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lx.apply(null,arguments)}function pN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(n),!0).forEach(function(r){FG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FG(e,t,n){return(t=$G(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $G(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gN={curveBasisClosed:Xq,curveBasisOpen:Qq,curveBasis:Yq,curveBumpX:Dq,curveBumpY:Mq,curveLinearClosed:Jq,curveLinear:hp,curveMonotoneX:Zq,curveMonotoneY:e9,curveNatural:t9,curveStep:n9,curveStepAfter:i9,curveStepBefore:r9},vh=e=>Ct(e.x)&&Ct(e.y),vN=e=>e.base!=null&&vh(e.base)&&vh(e),dc=e=>e.x,fc=e=>e.y,UG=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(mu(e));return(n==="curveMonotone"||n==="curveBump")&&t?gN["".concat(n).concat(t==="vertical"?"Y":"X")]:gN[n]||hp},BG=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,o=UG(t,i),c=s?n.filter(vh):n,u;if(Array.isArray(r)){var f=n.map((y,w)=>mN(mN({},y),{},{base:r[w]}));i==="vertical"?u=Zd().y(fc).x1(dc).x0(y=>y.base.x):u=Zd().x(dc).y1(fc).y0(y=>y.base.y);var p=u.defined(vN).curve(o),m=s?f.filter(vN):f;return p(m)}i==="vertical"&&_e(r)?u=Zd().y(fc).x1(dc).x0(r):_e(r)?u=Zd().x(dc).y1(fc).y0(r):u=yO().x(dc).y(fc);var v=u.defined(vh).curve(o);return v(c)},OR=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?BG(e):r;return b.createElement("path",Lx({},Ri(e),I9(e),{className:it("recharts-curve",t),d:s===null?void 0:s,ref:i}))},WG=["x","y","top","left","width","height","className"];function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fx.apply(null,arguments)}function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){HG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HG(e,t,n){return(t=qG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GG(e,t){if(e==null)return{};var n,r,i=YG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var XG=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),QG=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:c}=e,u=GG(e,WG),f=VG({x:t,y:n,top:r,left:i,width:s,height:o},u);return!_e(t)||!_e(n)||!_e(s)||!_e(o)||!_e(r)||!_e(i)?null:b.createElement("path",Fx({},mr(f),{className:it("recharts-cross",c),d:XG(t,n,s,o,r,i)}))};function JG(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function xN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(n),!0).forEach(function(r){ZG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZG(e,t,n){return(t=eY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nY=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),RR=(e,t,n)=>e.map(r=>"".concat(nY(r)," ").concat(t,"ms ").concat(n)).join(","),rY=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Qc=(e,t)=>Object.keys(t).reduce((n,r)=>wN(wN({},n),{},{[r]:e(r,t[r])}),{});function bN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(n),!0).forEach(function(r){iY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iY(e,t,n){return(t=sY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sY(e){var t=aY(e,"string");return typeof t=="symbol"?t:t+""}function aY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yh=(e,t,n)=>e+(t-e)*n,$x=e=>{var{from:t,to:n}=e;return t!==n},DR=(e,t,n)=>{var r=Qc((i,s)=>{if($x(s)){var[o,c]=e(s.from,s.to,s.velocity);return Rt(Rt({},s),{},{from:o,velocity:c})}return s},t);return n<1?Qc((i,s)=>$x(s)?Rt(Rt({},s),{},{velocity:yh(s.velocity,r[i].velocity,n),from:yh(s.from,r[i].from,n)}):s,t):DR(e,r,n-1)};function oY(e,t,n,r,i,s){var o,c=r.reduce((v,y)=>Rt(Rt({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>Qc((v,y)=>y.from,c),f=()=>!Object.values(c).filter($x).length,p=null,m=v=>{o||(o=v);var y=v-o,w=y/n.dt;c=DR(n,c,w),i(Rt(Rt(Rt({},e),t),u())),o=v,f()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var v;(v=p)===null||v===void 0||v()})}function lY(e,t,n,r,i,s,o){var c=null,u=i.reduce((m,v)=>Rt(Rt({},m),{},{[v]:[e[v],t[v]]}),{}),f,p=m=>{f||(f=m);var v=(m-f)/r,y=Qc((C,_)=>yh(..._,n(v)),u);if(s(Rt(Rt(Rt({},e),t),y)),v<1)c=o.setTimeout(p);else{var w=Qc((C,_)=>yh(..._,n(1)),u);s(Rt(Rt(Rt({},e),t),w))}};return()=>(c=o.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const cY=(e,t,n,r,i,s)=>{var o=rY(e,t);return n==null?()=>(i(Rt(Rt({},e),t)),()=>{}):n.isStepper===!0?oY(e,t,n,o,i,s):lY(e,t,n,r,o,i,s)};var xh=1e-4,MR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],LR=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),_N=(e,t)=>n=>{var r=MR(e,t);return LR(r,n)},uY=(e,t)=>n=>{var r=MR(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return LR(i,n)},dY=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},fY=(e,t,n,r)=>{var i=_N(e,n),s=_N(t,r),o=uY(e,n),c=f=>f>1?1:f<0?0:f,u=f=>{for(var p=f>1?1:f,m=p,v=0;v<8;++v){var y=i(m)-p,w=o(m);if(Math.abs(y-p)<xh||w<xh)return s(m);m=c(m-y/w)}return s(m)};return u.isStepper=!1,u},SN=function(){return fY(...dY(...arguments))},hY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,c,u)=>{var f=-(o-c)*n,p=u*r,m=u+(f-p)*i/1e3,v=u*i/1e3+o;return Math.abs(v-c)<xh&&Math.abs(m)<xh?[c,0]:[v,m]};return s.isStepper=!0,s.dt=i,s},pY=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SN(e);case"spring":return hY();default:if(e.split("(")[0]==="cubic-bezier")return SN(e)}return typeof e=="function"?e:null};function mY(e){var t,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...f]=c;if(typeof u=="number"){i=e.setTimeout(s.bind(null,f),u);return}s(u),i=e.setTimeout(s.bind(null,f));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class gY{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function vY(){return mY(new gY)}var yY=b.createContext(vY);function xY(e,t){var n=b.useContext(yY);return b.useMemo(()=>t??n(e),[e,t,n])}var wY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CN={t:0},py={t:1};function zw(e){var t=tr(e,wY),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:c,onAnimationStart:u,children:f}=t,p=n==="auto"?!sl.isSsr:n,m=xY(t.animationId,t.animationManager),[v,y]=b.useState(p?CN:py),w=b.useRef(null);return b.useEffect(()=>{p||y(py)},[p]),b.useEffect(()=>{if(!p||!r)return gu;var C=cY(CN,py,pY(s),i,y,m.getTimeoutController()),_=()=>{w.current=C()};return m.start([u,o,_,i,c]),()=>{m.stop(),w.current&&w.current(),c()}},[p,r,i,s,o,u,c,m]),f(v.t)}function Uw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Kc(t)),r=b.useRef(e);return r.current!==e&&(n.current=Kc(t),r.current=e),n.current}var bY=["radius"],_Y=["radius"];function EN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(n),!0).forEach(function(r){SY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SY(e,t,n){return(t=CY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wh(){return wh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wh.apply(null,arguments)}function NN(e,t){if(e==null)return{};var n,r,i=kY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IN=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=i[m]>s?s:i[m];f="M".concat(e,",").concat(t+o*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(t)),f+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*p[1])),f+="L ".concat(e+n,",").concat(t+r-o*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),f+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*p[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);f="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+n-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(t+r,`
            L `).concat(e+c*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},PN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FR=e=>{var t=tr(e,PN),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:o,width:c,height:u,radius:f,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:C}=t,_=b.useRef(c),E=b.useRef(u),k=b.useRef(s),I=b.useRef(o),j=b.useMemo(()=>({x:s,y:o,width:c,height:u,radius:f}),[s,o,c,u,f]),P=Uw(j,"rectangle-");if(s!==+s||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var A=it("recharts-rectangle",p);if(!C){var U=mr(t),{radius:z}=U,Y=NN(U,bY);return b.createElement("path",wh({},Y,{radius:typeof f=="number"?f:void 0,className:A,d:IN(s,o,c,u,f)}))}var oe=_.current,M=E.current,H=k.current,se=I.current,xe="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),fe=RR(["strokeDasharray"],v,typeof m=="string"?m:PN.animationEasing);return b.createElement(zw,{animationId:P,key:P,canBegin:r>0,duration:v,easing:m,isActive:C,begin:y},le=>{var F=an(oe,c,le),te=an(M,u,le),W=an(H,s,le),O=an(se,o,le);n.current&&(_.current=F,E.current=te,k.current=W,I.current=O);var q;w?le>0?q={transition:fe,strokeDasharray:G}:q={strokeDasharray:xe}:q={strokeDasharray:G};var ie=mr(t),{radius:ae}=ie,Se=NN(ie,_Y);return b.createElement("path",wh({},Se,{radius:typeof f=="number"?f:void 0,className:A,d:IN(W,O,F,te,f),ref:n,style:kN(kN({},q),t.style)}))})};function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){NY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bh=Math.PI/180,jY=e=>e*180/Math.PI,ln=(e,t,n,r)=>({x:e+Math.cos(-bh*r)*n,y:t+Math.sin(-bh*r)*n}),TY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},AY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},OY=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=AY({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>s&&(u=2*Math.PI-u),{radius:o,angle:jY(u),angleInRadian:u}},RY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},DY=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},MY=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=OY({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:f}=RY(t),p=s,m;if(u<=f){for(;p>f;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=f}else{for(;p>u;)p-=360;for(;p<f;)p+=360;m=p>=f&&p<=u}return m?TN(TN({},t),{},{radius:i,angle:DY(p,t)}):null};function $R(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,o=ln(t,n,r,i),c=ln(t,n,r,s);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zx.apply(null,arguments)}var LY=(e,t)=>{var n=Fn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},lf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,f=c*(o?1:-1)+r,p=Math.asin(c/f)/bh,m=u?i:i+s*p,v=ln(t,n,f,m),y=ln(t,n,r,m),w=u?i-s*p:i,C=ln(t,n,f*Math.cos(p*bh),w);return{center:v,circleTangency:y,lineTangency:C,theta:p}},zR=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=e,c=LY(s,o),u=s+c,f=ln(t,n,i,s),p=ln(t,n,i,u),m="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=ln(t,n,r,s),y=ln(t,n,r,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},FY=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}=e,p=Fn(f-u),{circleTangency:m,lineTangency:v,theta:y}=lf({cx:t,cy:n,radius:i,angle:u,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:C,theta:_}=lf({cx:t,cy:n,radius:i,angle:f,sign:-p,cornerRadius:s,cornerIsExternal:c}),E=c?Math.abs(u-f):Math.abs(u-f)-y-_;if(E<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):zR({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var k="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(E>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:I,lineTangency:j,theta:P}=lf({cx:t,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:A,lineTangency:U,theta:z}=lf({cx:t,cy:n,radius:r,angle:f,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),Y=c?Math.abs(u-f):Math.abs(u-f)-P-z;if(Y<0&&s===0)return"".concat(k,"L").concat(t,",").concat(n,"Z");k+="L".concat(U.x,",").concat(U.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,"Z")}else k+="L".concat(t,",").concat(n,"Z");return k},$Y={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UR=e=>{var t=tr(e,$Y),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p,className:m}=t;if(s<i||f===p)return null;var v=it("recharts-sector",m),y=s-i,w=zr(o,y,0,!0),C;return w>0&&Math.abs(f-p)<360?C=FY({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):C=zR({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:p}),b.createElement("path",zx({},mr(t),{className:v,d:C}))};function zY(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(OO(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:c}=t,u=ln(r,i,s,c),f=ln(r,i,o,c);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return $R(t)}}var my={},gy={},vy={},AN;function UY(){return AN||(AN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(vy)),vy}var ON;function BY(){return ON||(ON=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UY();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(gy)),gy}var RN;function WY(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HO(),n=BY();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((s-i)/(o||1)),0),u=new Array(c);for(let f=0;f<c;f++)u[f]=i,i+=o;return u}e.range=r})(my)),my}var yy,DN;function VY(){return DN||(DN=1,yy=WY().range),yy}var HY=VY();const BR=si(HY);function Ps(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bw(e){let t,n,r;e.length!==2?(t=Ps,n=(c,u)=>Ps(e(c),u),r=(c,u)=>e(c)-u):(t=e===Ps||e===qY?e:KY,n=e,r=e);function i(c,u,f=0,p=c.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;n(c[m],u)<0?f=m+1:p=m}while(f<p)}return f}function s(c,u,f=0,p=c.length){if(f<p){if(t(u,u)!==0)return p;do{const m=f+p>>>1;n(c[m],u)<=0?f=m+1:p=m}while(f<p)}return f}function o(c,u,f=0,p=c.length){const m=i(c,u,f,p-1);return m>f&&r(c[m-1],u)>-r(c[m],u)?m-1:m}return{left:i,center:o,right:s}}function KY(){return 0}function WR(e){return e===null?NaN:+e}function*GY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const YY=Bw(Ps),wu=YY.right;Bw(WR).center;class MN extends Map{constructor(t,n=JY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(LN(this,t))}has(t){return super.has(LN(this,t))}set(t,n){return super.set(XY(this,t),n)}delete(t){return super.delete(QY(this,t))}}function LN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function XY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function QY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function JY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ZY(e=Ps){if(e===Ps)return VR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function VR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const eX=Math.sqrt(50),tX=Math.sqrt(10),nX=Math.sqrt(2);function _h(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=eX?10:s>=tX?5:s>=nX?2:1;let c,u,f;return i<0?(f=Math.pow(10,-i)/o,c=Math.round(e*f),u=Math.round(t*f),c/f<e&&++c,u/f>t&&--u,f=-f):(f=Math.pow(10,i)*o,c=Math.round(e/f),u=Math.round(t/f),c*f<e&&++c,u*f>t&&--u),u<c&&.5<=n&&n<2?_h(e,t,n*2):[c,u,f]}function Ux(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?_h(t,e,n):_h(e,t,n);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(r)if(o<0)for(let f=0;f<c;++f)u[f]=(s-f)/-o;else for(let f=0;f<c;++f)u[f]=(s-f)*o;else if(o<0)for(let f=0;f<c;++f)u[f]=(i+f)/-o;else for(let f=0;f<c;++f)u[f]=(i+f)*o;return u}function Bx(e,t,n){return t=+t,e=+e,n=+n,_h(e,t,n)[2]}function Wx(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bx(t,e,n):Bx(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function FN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function $N(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HR(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?VR:ZY(i);r>n;){if(r-n>600){const u=r-n+1,f=t-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(u-m)/u)*(f-u/2<0?-1:1),y=Math.max(n,Math.floor(t-f*m/u+v)),w=Math.min(r,Math.floor(t+(u-f)*m/u+v));HR(e,t,y,w,i)}const s=e[t];let o=n,c=r;for(hc(e,n,t),i(e[r],s)>0&&hc(e,n,r);o<c;){for(hc(e,o,c),++o,--c;i(e[o],s)<0;)++o;for(;i(e[c],s)>0;)--c}i(e[n],s)===0?hc(e,n,c):(++c,hc(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function hc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rX(e,t,n){if(e=Float64Array.from(GY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return $N(e);if(t>=1)return FN(e);var r,i=(r-1)*t,s=Math.floor(i),o=FN(HR(e,s).subarray(0,s+1)),c=$N(e.subarray(s+1));return o+(c-o)*(i-s)}}function iX(e,t,n=WR){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),c=+n(e[s+1],s+1,e);return o+(c-o)*(i-s)}}function sX(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vx=Symbol("implicit");function Ww(){var e=new MN,t=[],n=[],r=Vx;function i(s){let o=e.get(s);if(o===void 0){if(r!==Vx)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new MN;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Ww(t,n).unknown(r)},xr.apply(i,arguments),i}function Vw(){var e=Ww().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,c=!1,u=0,f=0,p=.5;delete e.unknown;function m(){var v=t().length,y=i<r,w=y?i:r,C=y?r:i;s=(C-w)/Math.max(1,v-u+f*2),c&&(s=Math.floor(s)),w+=(C-w-s*(v-u))*p,o=s*(1-u),c&&(w=Math.round(w),o=Math.round(o));var _=sX(v).map(function(E){return w+s*E});return n(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(c=!!v,m()):c},e.padding=function(v){return arguments.length?(u=Math.min(1,f=+v),m()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),m()):u},e.paddingOuter=function(v){return arguments.length?(f=+v,m()):f},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Vw(t(),[r,i]).round(c).paddingInner(u).paddingOuter(f).align(p)},xr.apply(m(),arguments)}function qR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qR(t())},e}function aX(){return qR(Vw.apply(null,arguments).paddingInner(1))}function Hw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function KR(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function bu(){}var Jc=.7,Sh=1/Jc,No="\\s*([+-]?\\d+)\\s*",Zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oX=/^#([0-9a-f]{3,8})$/,lX=new RegExp(`^rgb\\(${No},${No},${No}\\)$`),cX=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),uX=new RegExp(`^rgba\\(${No},${No},${No},${Zc}\\)$`),dX=new RegExp(`^rgba\\(${ei},${ei},${ei},${Zc}\\)$`),fX=new RegExp(`^hsl\\(${Zc},${ei},${ei}\\)$`),hX=new RegExp(`^hsla\\(${Zc},${ei},${ei},${Zc}\\)$`),zN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hw(bu,eu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:UN,formatHex:UN,formatHex8:pX,formatHsl:mX,formatRgb:BN,toString:BN});function UN(){return this.rgb().formatHex()}function pX(){return this.rgb().formatHex8()}function mX(){return GR(this).formatHsl()}function BN(){return this.rgb().formatRgb()}function eu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=oX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?WN(t):n===3?new $n(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?cf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?cf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lX.exec(e))?new $n(t[1],t[2],t[3],1):(t=cX.exec(e))?new $n(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uX.exec(e))?cf(t[1],t[2],t[3],t[4]):(t=dX.exec(e))?cf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fX.exec(e))?qN(t[1],t[2]/100,t[3]/100,1):(t=hX.exec(e))?qN(t[1],t[2]/100,t[3]/100,t[4]):zN.hasOwnProperty(e)?WN(zN[e]):e==="transparent"?new $n(NaN,NaN,NaN,0):null}function WN(e){return new $n(e>>16&255,e>>8&255,e&255,1)}function cf(e,t,n,r){return r<=0&&(e=t=n=NaN),new $n(e,t,n,r)}function gX(e){return e instanceof bu||(e=eu(e)),e?(e=e.rgb(),new $n(e.r,e.g,e.b,e.opacity)):new $n}function Hx(e,t,n,r){return arguments.length===1?gX(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hw($n,Hx,KR(bu,{brighter(e){return e=e==null?Sh:Math.pow(Sh,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jc:Math.pow(Jc,e),new $n(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $n(fa(this.r),fa(this.g),fa(this.b),Ch(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VN,formatHex:VN,formatHex8:vX,formatRgb:HN,toString:HN}));function VN(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}`}function vX(){return`#${oa(this.r)}${oa(this.g)}${oa(this.b)}${oa((isNaN(this.opacity)?1:this.opacity)*255)}`}function HN(){const e=Ch(this.opacity);return`${e===1?"rgb(":"rgba("}${fa(this.r)}, ${fa(this.g)}, ${fa(this.b)}${e===1?")":`, ${e})`}`}function Ch(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fa(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function oa(e){return e=fa(e),(e<16?"0":"")+e.toString(16)}function qN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new jr(e,t,n,r)}function GR(e){if(e instanceof jr)return new jr(e.h,e.s,e.l,e.opacity);if(e instanceof bu||(e=eu(e)),!e)return new jr;if(e instanceof jr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,c=s-i,u=(s+i)/2;return c?(t===s?o=(n-r)/c+(n<r)*6:n===s?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?s+i:2-s-i,o*=60):c=u>0&&u<1?0:o,new jr(o,c,u,e.opacity)}function yX(e,t,n,r){return arguments.length===1?GR(e):new jr(e,t,n,r??1)}function jr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hw(jr,yX,KR(bu,{brighter(e){return e=e==null?Sh:Math.pow(Sh,e),new jr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jc:Math.pow(Jc,e),new jr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new $n(xy(e>=240?e-240:e+120,i,r),xy(e,i,r),xy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new jr(KN(this.h),uf(this.s),uf(this.l),Ch(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ch(this.opacity);return`${e===1?"hsl(":"hsla("}${KN(this.h)}, ${uf(this.s)*100}%, ${uf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KN(e){return e=(e||0)%360,e<0?e+360:e}function uf(e){return Math.max(0,Math.min(1,e||0))}function xy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qw=e=>()=>e;function xX(e,t){return function(n){return e+n*t}}function wX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bX(e){return(e=+e)==1?YR:function(t,n){return n-t?wX(t,n,e):qw(isNaN(t)?n:t)}}function YR(e,t){var n=t-e;return n?xX(e,n):qw(isNaN(e)?t:e)}const GN=(function e(t){var n=bX(t);function r(i,s){var o=n((i=Hx(i)).r,(s=Hx(s)).r),c=n(i.g,s.g),u=n(i.b,s.b),f=YR(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=u(p),i.opacity=f(p),i+""}}return r.gamma=e,r})(1);function _X(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function SX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function CX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=al(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(c){for(o=0;o<r;++o)s[o]=i[o](c);return s}}function EX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Eh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kX(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=al(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var qx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wy=new RegExp(qx.source,"g");function NX(e){return function(){return e}}function IX(e){return function(t){return e(t)+""}}function PX(e,t){var n=qx.lastIndex=wy.lastIndex=0,r,i,s,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=qx.exec(e))&&(i=wy.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:Eh(r,i)})),n=wy.lastIndex;return n<t.length&&(s=t.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?IX(u[0].x):NX(t):(t=u.length,function(f){for(var p=0,m;p<t;++p)c[(m=u[p]).i]=m.x(f);return c.join("")})}function al(e,t){var n=typeof t,r;return t==null||n==="boolean"?qw(t):(n==="number"?Eh:n==="string"?(r=eu(t))?(t=r,GN):PX:t instanceof eu?GN:t instanceof Date?EX:SX(t)?_X:Array.isArray(t)?CX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kX:Eh)(e,t)}function Kw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jX(e,t){t===void 0&&(t=e,e=al);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[c](o-c)}}function TX(e){return function(){return e}}function kh(e){return+e}var YN=[0,1];function _n(e){return e}function Kx(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:TX(isNaN(t)?NaN:.5)}function AX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function OX(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Kx(i,r),s=n(o,s)):(r=Kx(r,i),s=n(s,o)),function(c){return s(r(c))}}function RX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Kx(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(c){var u=wu(e,c,1,r)-1;return s[u](i[u](c))}}function _u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ip(){var e=YN,t=YN,n=al,r,i,s,o=_n,c,u,f;function p(){var v=Math.min(e.length,t.length);return o!==_n&&(o=AX(e[0],e[v-1])),c=v>2?RX:OX,u=f=null,m}function m(v){return v==null||isNaN(v=+v)?s:(u||(u=c(e.map(r),t,n)))(r(o(v)))}return m.invert=function(v){return o(i((f||(f=c(t,e.map(r),Eh)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,kh),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=Kw,p()},m.clamp=function(v){return arguments.length?(o=v?!0:_n,p()):o!==_n},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,y){return r=v,i=y,p()}}function Gw(){return Ip()(_n,_n)}function DX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $o(e){return e=Nh(Math.abs(e)),e?e[1]:NaN}function MX(e,t){return function(n,r){for(var i=n.length,s=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),s.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function LX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var FX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tu(e){if(!(t=FX.exec(e)))throw new Error("invalid format: "+e);var t;return new Yw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tu.prototype=Yw.prototype;function Yw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Yw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $X(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var XR;function zX(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(XR=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Nh(e,Math.max(0,t+s-1))[0]}function XN(e,t){var n=Nh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:DX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XN(e*100,t),r:XN,s:zX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JN(e){return e}var ZN=Array.prototype.map,eI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UX(e){var t=e.grouping===void 0||e.thousands===void 0?JN:MX(ZN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?JN:LX(ZN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function f(m){m=tu(m);var v=m.fill,y=m.align,w=m.sign,C=m.symbol,_=m.zero,E=m.width,k=m.comma,I=m.precision,j=m.trim,P=m.type;P==="n"?(k=!0,P="g"):QN[P]||(I===void 0&&(I=12),j=!0,P="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var A=C==="$"?n:C==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",U=C==="$"?r:/[%p]/.test(P)?o:"",z=QN[P],Y=/[defgprs%]/.test(P);I=I===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function oe(M){var H=A,se=U,xe,G,fe;if(P==="c")se=z(M)+se,M="";else{M=+M;var le=M<0||1/M<0;if(M=isNaN(M)?u:z(Math.abs(M),I),j&&(M=$X(M)),le&&+M==0&&w!=="+"&&(le=!1),H=(le?w==="("?w:c:w==="-"||w==="("?"":w)+H,se=(P==="s"?eI[8+XR/3]:"")+se+(le&&w==="("?")":""),Y){for(xe=-1,G=M.length;++xe<G;)if(fe=M.charCodeAt(xe),48>fe||fe>57){se=(fe===46?i+M.slice(xe+1):M.slice(xe))+se,M=M.slice(0,xe);break}}}k&&!_&&(M=t(M,1/0));var F=H.length+M.length+se.length,te=F<E?new Array(E-F+1).join(v):"";switch(k&&_&&(M=t(te+M,te.length?E-se.length:1/0),te=""),y){case"<":M=H+M+se+te;break;case"=":M=H+te+M+se;break;case"^":M=te.slice(0,F=te.length>>1)+H+M+se+te.slice(F);break;default:M=te+H+M+se;break}return s(M)}return oe.toString=function(){return m+""},oe}function p(m,v){var y=f((m=tu(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor($o(v)/3)))*3,C=Math.pow(10,-w),_=eI[8+w/3];return function(E){return y(C*E)+_}}return{format:f,formatPrefix:p}}var df,Xw,QR;BX({thousands:",",grouping:[3],currency:["$",""]});function BX(e){return df=UX(e),Xw=df.format,QR=df.formatPrefix,df}function WX(e){return Math.max(0,-$o(Math.abs(e)))}function VX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($o(t)/3)))*3-$o(Math.abs(e)))}function HX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$o(t)-$o(e))+1}function JR(e,t,n,r){var i=Wx(e,t,n),s;switch(r=tu(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=VX(i,o))&&(r.precision=s),QR(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=HX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=WX(i))&&(r.precision=s-(r.type==="%")*2);break}}return Xw(r)}function Ms(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ux(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return JR(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],c=r[s],u,f,p=10;for(c<o&&(f=o,o=c,c=f,f=i,i=s,s=f);p-- >0;){if(f=Bx(o,c,n),f===u)return r[i]=o,r[s]=c,t(r);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;u=f}return e},e}function ZR(){var e=Gw();return e.copy=function(){return _u(e,ZR())},xr.apply(e,arguments),Ms(e)}function eD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,kh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return eD(e).unknown(t)},e=arguments.length?Array.from(e,kh):[0,1],Ms(n)}function tD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function tI(e){return Math.log(e)}function nI(e){return Math.exp(e)}function qX(e){return-Math.log(-e)}function KX(e){return-Math.exp(-e)}function GX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function YX(e){return e===10?GX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rI(e){return(t,n)=>-e(-t,n)}function Qw(e){const t=e(tI,nI),n=t.domain;let r=10,i,s;function o(){return i=XX(r),s=YX(r),n()[0]<0?(i=rI(i),s=rI(s),e(qX,KX)):e(tI,nI),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let f=u[0],p=u[u.length-1];const m=p<f;m&&([f,p]=[p,f]);let v=i(f),y=i(p),w,C;const _=c==null?10:+c;let E=[];if(!(r%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),f>0){for(;v<=y;++v)for(w=1;w<r;++w)if(C=v<0?w/s(-v):w*s(v),!(C<f)){if(C>p)break;E.push(C)}}else for(;v<=y;++v)for(w=r-1;w>=1;--w)if(C=v>0?w/s(-v):w*s(v),!(C<f)){if(C>p)break;E.push(C)}E.length*2<_&&(E=Ux(f,p,_))}else E=Ux(v,y,Math.min(y-v,_)).map(s);return m?E.reverse():E},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=tu(u)).precision==null&&(u.trim=!0),u=Xw(u)),c===1/0)return u;const f=Math.max(1,r*c/t.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=f?u(p):""}},t.nice=()=>n(tD(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function nD(){const e=Qw(Ip()).domain([1,10]);return e.copy=()=>_u(e,nD()).base(e.base()),xr.apply(e,arguments),e}function iI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jw(e){var t=1,n=e(iI(t),sI(t));return n.constant=function(r){return arguments.length?e(iI(t=+r),sI(t)):t},Ms(n)}function rD(){var e=Jw(Ip());return e.copy=function(){return _u(e,rD()).constant(e.constant())},xr.apply(e,arguments)}function aI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function QX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JX(e){return e<0?-e*e:e*e}function Zw(e){var t=e(_n,_n),n=1;function r(){return n===1?e(_n,_n):n===.5?e(QX,JX):e(aI(n),aI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ms(t)}function eb(){var e=Zw(Ip());return e.copy=function(){return _u(e,eb()).exponent(e.exponent())},xr.apply(e,arguments),e}function ZX(){return eb.apply(null,arguments).exponent(.5)}function oI(e){return Math.sign(e)*e*e}function eQ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iD(){var e=Gw(),t=[0,1],n=!1,r;function i(s){var o=eQ(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(oI(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,kh)).map(oI)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return iD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},xr.apply(i,arguments),Ms(i)}function sD(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=iX(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?r:t[wu(n,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Ps),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return sD().domain(e).range(t).unknown(r)},xr.apply(s,arguments)}function aD(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[wu(r,u,0,n)]:s}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return aD().domain([e,t]).range(i).unknown(s)},xr.apply(Ms(o),arguments)}function oD(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[wu(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return oD().domain(e).range(t).unknown(n)},xr.apply(i,arguments)}const by=new Date,_y=new Date;function $t(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return u;let f;do u.push(f=new Date(+s)),t(s,c),e(s);while(f<s&&s<o);return u},i.filter=s=>$t(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(by.setTime(+s),_y.setTime(+o),e(by),e(_y),Math.floor(n(by,_y))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Ih=$t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ih.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$t(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ih);Ih.range;const Ci=1e3,fr=Ci*60,Ei=fr*60,Fi=Ei*24,tb=Fi*7,lI=Fi*30,Sy=Fi*365,la=$t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCSeconds());la.range;const nb=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getMinutes());nb.range;const rb=$t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fr)},(e,t)=>(t-e)/fr,e=>e.getUTCMinutes());rb.range;const ib=$t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci-e.getMinutes()*fr)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());ib.range;const sb=$t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());sb.range;const Su=$t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fr)/Fi,e=>e.getDate()-1);Su.range;const Pp=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>e.getUTCDate()-1);Pp.range;const lD=$t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>Math.floor(e/Fi));lD.range;function Ra(e){return $t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fr)/tb)}const jp=Ra(0),Ph=Ra(1),tQ=Ra(2),nQ=Ra(3),zo=Ra(4),rQ=Ra(5),iQ=Ra(6);jp.range;Ph.range;tQ.range;nQ.range;zo.range;rQ.range;iQ.range;function Da(e){return $t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/tb)}const Tp=Da(0),jh=Da(1),sQ=Da(2),aQ=Da(3),Uo=Da(4),oQ=Da(5),lQ=Da(6);Tp.range;jh.range;sQ.range;aQ.range;Uo.range;oQ.range;lQ.range;const ab=$t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ab.range;const ob=$t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ob.range;const $i=$t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});$i.range;const zi=$t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:$t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});zi.range;function cD(e,t,n,r,i,s){const o=[[la,1,Ci],[la,5,5*Ci],[la,15,15*Ci],[la,30,30*Ci],[s,1,fr],[s,5,5*fr],[s,15,15*fr],[s,30,30*fr],[i,1,Ei],[i,3,3*Ei],[i,6,6*Ei],[i,12,12*Ei],[r,1,Fi],[r,2,2*Fi],[n,1,tb],[t,1,lI],[t,3,3*lI],[e,1,Sy]];function c(f,p,m){const v=p<f;v&&([f,p]=[p,f]);const y=m&&typeof m.range=="function"?m:u(f,p,m),w=y?y.range(f,+p+1):[];return v?w.reverse():w}function u(f,p,m){const v=Math.abs(p-f)/m,y=Bw(([,,_])=>_).right(o,v);if(y===o.length)return e.every(Wx(f/Sy,p/Sy,m));if(y===0)return Ih.every(Math.max(Wx(f,p,m),1));const[w,C]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return w.every(C)}return[c,u]}const[cQ,uQ]=cD(zi,ob,Tp,lD,sb,rb),[dQ,fQ]=cD($i,ab,jp,Su,ib,nb);function Cy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ey(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function hQ(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,f=mc(i),p=gc(i),m=mc(s),v=gc(s),y=mc(o),w=gc(o),C=mc(c),_=gc(c),E=mc(u),k=gc(u),I={a:le,A:F,b:te,B:W,c:null,d:pI,e:pI,f:MQ,g:qQ,G:GQ,H:OQ,I:RQ,j:DQ,L:uD,m:LQ,M:FQ,p:O,q,Q:vI,s:yI,S:$Q,u:zQ,U:UQ,V:BQ,w:WQ,W:VQ,x:null,X:null,y:HQ,Y:KQ,Z:YQ,"%":gI},j={a:ie,A:ae,b:Se,B:Ie,c:null,d:mI,e:mI,f:ZQ,g:cJ,G:dJ,H:XQ,I:QQ,j:JQ,L:fD,m:eJ,M:tJ,p:ce,q:Le,Q:vI,s:yI,S:nJ,u:rJ,U:iJ,V:sJ,w:aJ,W:oJ,x:null,X:null,y:lJ,Y:uJ,Z:fJ,"%":gI},P={a:oe,A:M,b:H,B:se,c:xe,d:fI,e:fI,f:PQ,g:dI,G:uI,H:hI,I:hI,j:EQ,L:IQ,m:CQ,M:kQ,p:Y,q:SQ,Q:TQ,s:AQ,S:NQ,u:yQ,U:xQ,V:wQ,w:vQ,W:bQ,x:G,X:fe,y:dI,Y:uI,Z:_Q,"%":jQ};I.x=A(n,I),I.X=A(r,I),I.c=A(t,I),j.x=A(n,j),j.X=A(r,j),j.c=A(t,j);function A(K,Ce){return function(Te){var Z=[],jt=-1,He=0,un=K.length,dn,wr,pl;for(Te instanceof Date||(Te=new Date(+Te));++jt<un;)K.charCodeAt(jt)===37&&(Z.push(K.slice(He,jt)),(wr=cI[dn=K.charAt(++jt)])!=null?dn=K.charAt(++jt):wr=dn==="e"?" ":"0",(pl=Ce[dn])&&(dn=pl(Te,wr)),Z.push(dn),He=jt+1);return Z.push(K.slice(He,jt)),Z.join("")}}function U(K,Ce){return function(Te){var Z=pc(1900,void 0,1),jt=z(Z,K,Te+="",0),He,un;if(jt!=Te.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Ce&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(He=Ey(pc(Z.y,0,1)),un=He.getUTCDay(),He=un>4||un===0?jh.ceil(He):jh(He),He=Pp.offset(He,(Z.V-1)*7),Z.y=He.getUTCFullYear(),Z.m=He.getUTCMonth(),Z.d=He.getUTCDate()+(Z.w+6)%7):(He=Cy(pc(Z.y,0,1)),un=He.getDay(),He=un>4||un===0?Ph.ceil(He):Ph(He),He=Su.offset(He,(Z.V-1)*7),Z.y=He.getFullYear(),Z.m=He.getMonth(),Z.d=He.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),un="Z"in Z?Ey(pc(Z.y,0,1)).getUTCDay():Cy(pc(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(un+5)%7:Z.w+Z.U*7-(un+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Ey(Z)):Cy(Z)}}function z(K,Ce,Te,Z){for(var jt=0,He=Ce.length,un=Te.length,dn,wr;jt<He;){if(Z>=un)return-1;if(dn=Ce.charCodeAt(jt++),dn===37){if(dn=Ce.charAt(jt++),wr=P[dn in cI?Ce.charAt(jt++):dn],!wr||(Z=wr(K,Te,Z))<0)return-1}else if(dn!=Te.charCodeAt(Z++))return-1}return Z}function Y(K,Ce,Te){var Z=f.exec(Ce.slice(Te));return Z?(K.p=p.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function oe(K,Ce,Te){var Z=y.exec(Ce.slice(Te));return Z?(K.w=w.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function M(K,Ce,Te){var Z=m.exec(Ce.slice(Te));return Z?(K.w=v.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function H(K,Ce,Te){var Z=E.exec(Ce.slice(Te));return Z?(K.m=k.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function se(K,Ce,Te){var Z=C.exec(Ce.slice(Te));return Z?(K.m=_.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function xe(K,Ce,Te){return z(K,t,Ce,Te)}function G(K,Ce,Te){return z(K,n,Ce,Te)}function fe(K,Ce,Te){return z(K,r,Ce,Te)}function le(K){return o[K.getDay()]}function F(K){return s[K.getDay()]}function te(K){return u[K.getMonth()]}function W(K){return c[K.getMonth()]}function O(K){return i[+(K.getHours()>=12)]}function q(K){return 1+~~(K.getMonth()/3)}function ie(K){return o[K.getUTCDay()]}function ae(K){return s[K.getUTCDay()]}function Se(K){return u[K.getUTCMonth()]}function Ie(K){return c[K.getUTCMonth()]}function ce(K){return i[+(K.getUTCHours()>=12)]}function Le(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Ce=A(K+="",I);return Ce.toString=function(){return K},Ce},parse:function(K){var Ce=U(K+="",!1);return Ce.toString=function(){return K},Ce},utcFormat:function(K){var Ce=A(K+="",j);return Ce.toString=function(){return K},Ce},utcParse:function(K){var Ce=U(K+="",!0);return Ce.toString=function(){return K},Ce}}}var cI={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,pQ=/^%/,mQ=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function gQ(e){return e.replace(mQ,"\\$&")}function mc(e){return new RegExp("^(?:"+e.map(gQ).join("|")+")","i")}function gc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function vQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function yQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function wQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uI(e,t,n){var r=tn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function dI(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _Q(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function SQ(e,t,n){var r=tn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function CQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function fI(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function EQ(e,t,n){var r=tn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function hI(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function NQ(e,t,n){var r=tn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function IQ(e,t,n){var r=tn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function PQ(e,t,n){var r=tn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jQ(e,t,n){var r=pQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function TQ(e,t,n){var r=tn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function AQ(e,t,n){var r=tn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pI(e,t){return We(e.getDate(),t,2)}function OQ(e,t){return We(e.getHours(),t,2)}function RQ(e,t){return We(e.getHours()%12||12,t,2)}function DQ(e,t){return We(1+Su.count($i(e),e),t,3)}function uD(e,t){return We(e.getMilliseconds(),t,3)}function MQ(e,t){return uD(e,t)+"000"}function LQ(e,t){return We(e.getMonth()+1,t,2)}function FQ(e,t){return We(e.getMinutes(),t,2)}function $Q(e,t){return We(e.getSeconds(),t,2)}function zQ(e){var t=e.getDay();return t===0?7:t}function UQ(e,t){return We(jp.count($i(e)-1,e),t,2)}function dD(e){var t=e.getDay();return t>=4||t===0?zo(e):zo.ceil(e)}function BQ(e,t){return e=dD(e),We(zo.count($i(e),e)+($i(e).getDay()===4),t,2)}function WQ(e){return e.getDay()}function VQ(e,t){return We(Ph.count($i(e)-1,e),t,2)}function HQ(e,t){return We(e.getFullYear()%100,t,2)}function qQ(e,t){return e=dD(e),We(e.getFullYear()%100,t,2)}function KQ(e,t){return We(e.getFullYear()%1e4,t,4)}function GQ(e,t){var n=e.getDay();return e=n>=4||n===0?zo(e):zo.ceil(e),We(e.getFullYear()%1e4,t,4)}function YQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function mI(e,t){return We(e.getUTCDate(),t,2)}function XQ(e,t){return We(e.getUTCHours(),t,2)}function QQ(e,t){return We(e.getUTCHours()%12||12,t,2)}function JQ(e,t){return We(1+Pp.count(zi(e),e),t,3)}function fD(e,t){return We(e.getUTCMilliseconds(),t,3)}function ZQ(e,t){return fD(e,t)+"000"}function eJ(e,t){return We(e.getUTCMonth()+1,t,2)}function tJ(e,t){return We(e.getUTCMinutes(),t,2)}function nJ(e,t){return We(e.getUTCSeconds(),t,2)}function rJ(e){var t=e.getUTCDay();return t===0?7:t}function iJ(e,t){return We(Tp.count(zi(e)-1,e),t,2)}function hD(e){var t=e.getUTCDay();return t>=4||t===0?Uo(e):Uo.ceil(e)}function sJ(e,t){return e=hD(e),We(Uo.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function aJ(e){return e.getUTCDay()}function oJ(e,t){return We(jh.count(zi(e)-1,e),t,2)}function lJ(e,t){return We(e.getUTCFullYear()%100,t,2)}function cJ(e,t){return e=hD(e),We(e.getUTCFullYear()%100,t,2)}function uJ(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function dJ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Uo(e):Uo.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function fJ(){return"+0000"}function gI(){return"%"}function vI(e){return+e}function yI(e){return Math.floor(+e/1e3)}var uo,pD,mD;hJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hJ(e){return uo=hQ(e),pD=uo.format,uo.parse,mD=uo.utcFormat,uo.utcParse,uo}function pJ(e){return new Date(e)}function mJ(e){return e instanceof Date?+e:+new Date(+e)}function lb(e,t,n,r,i,s,o,c,u,f){var p=Gw(),m=p.invert,v=p.domain,y=f(".%L"),w=f(":%S"),C=f("%I:%M"),_=f("%I %p"),E=f("%a %d"),k=f("%b %d"),I=f("%B"),j=f("%Y");function P(A){return(u(A)<A?y:c(A)<A?w:o(A)<A?C:s(A)<A?_:r(A)<A?i(A)<A?E:k:n(A)<A?I:j)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?v(Array.from(A,mJ)):v().map(pJ)},p.ticks=function(A){var U=v();return e(U[0],U[U.length-1],A??10)},p.tickFormat=function(A,U){return U==null?P:f(U)},p.nice=function(A){var U=v();return(!A||typeof A.range!="function")&&(A=t(U[0],U[U.length-1],A??10)),A?v(tD(U,A)):p},p.copy=function(){return _u(p,lb(e,t,n,r,i,s,o,c,u,f))},p}function gJ(){return xr.apply(lb(dQ,fQ,$i,ab,jp,Su,ib,nb,la,pD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function vJ(){return xr.apply(lb(cQ,uQ,zi,ob,Tp,Pp,sb,rb,la,mD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ap(){var e=0,t=1,n,r,i,s,o=_n,c=!1,u;function f(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(o=m,f):o};function p(m){return function(v){var y,w;return arguments.length?([y,w]=v,o=m(y,w),f):[o(0),o(1)]}}return f.range=p(al),f.rangeRound=p(Kw),f.unknown=function(m){return arguments.length?(u=m,f):u},function(m){return s=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),f}}function Ls(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gD(){var e=Ms(Ap()(_n));return e.copy=function(){return Ls(e,gD())},qi.apply(e,arguments)}function vD(){var e=Qw(Ap()).domain([1,10]);return e.copy=function(){return Ls(e,vD()).base(e.base())},qi.apply(e,arguments)}function yD(){var e=Jw(Ap());return e.copy=function(){return Ls(e,yD()).constant(e.constant())},qi.apply(e,arguments)}function cb(){var e=Zw(Ap());return e.copy=function(){return Ls(e,cb()).exponent(e.exponent())},qi.apply(e,arguments)}function yJ(){return cb.apply(null,arguments).exponent(.5)}function xD(){var e=[],t=_n;function n(r){if(r!=null&&!isNaN(r=+r))return t((wu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ps),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>rX(e,s/r))},n.copy=function(){return xD(t).domain(e)},qi.apply(n,arguments)}function Op(){var e=0,t=.5,n=1,r=1,i,s,o,c,u,f=_n,p,m=!1,v;function y(C){return isNaN(C=+C)?v:(C=.5+((C=+p(C))-s)*(r*C<r*s?c:u),f(m?Math.max(0,Math.min(1,C)):C))}y.domain=function(C){return arguments.length?([e,t,n]=C,i=p(e=+e),s=p(t=+t),o=p(n=+n),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y):[e,t,n]},y.clamp=function(C){return arguments.length?(m=!!C,y):m},y.interpolator=function(C){return arguments.length?(f=C,y):f};function w(C){return function(_){var E,k,I;return arguments.length?([E,k,I]=_,f=jX(C,[E,k,I]),y):[f(0),f(.5),f(1)]}}return y.range=w(al),y.rangeRound=w(Kw),y.unknown=function(C){return arguments.length?(v=C,y):v},function(C){return p=C,i=C(e),s=C(t),o=C(n),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y}}function wD(){var e=Ms(Op()(_n));return e.copy=function(){return Ls(e,wD())},qi.apply(e,arguments)}function bD(){var e=Qw(Op()).domain([.1,1,10]);return e.copy=function(){return Ls(e,bD()).base(e.base())},qi.apply(e,arguments)}function _D(){var e=Jw(Op());return e.copy=function(){return Ls(e,_D()).constant(e.constant())},qi.apply(e,arguments)}function ub(){var e=Zw(Op());return e.copy=function(){return Ls(e,ub()).exponent(e.exponent())},qi.apply(e,arguments)}function xJ(){return ub.apply(null,arguments).exponent(.5)}const _c=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vw,scaleDiverging:wD,scaleDivergingLog:bD,scaleDivergingPow:ub,scaleDivergingSqrt:xJ,scaleDivergingSymlog:_D,scaleIdentity:eD,scaleImplicit:Vx,scaleLinear:ZR,scaleLog:nD,scaleOrdinal:Ww,scalePoint:aX,scalePow:eb,scaleQuantile:sD,scaleQuantize:aD,scaleRadial:iD,scaleSequential:gD,scaleSequentialLog:vD,scaleSequentialPow:cb,scaleSequentialQuantile:xD,scaleSequentialSqrt:yJ,scaleSequentialSymlog:yD,scaleSqrt:ZX,scaleSymlog:rD,scaleThreshold:oD,scaleTime:gJ,scaleUtc:vJ,tickFormat:JR},Symbol.toStringTag,{value:"Module"}));var Fs=e=>e.chartData,wJ=V([Fs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),db=(e,t,n,r)=>r?wJ(e):Fs(e);function Os(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ct(t)&&Ct(n))return!0}return!1}function xI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function SD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Ct(n))i=n;else if(typeof n=="function")return;if(Ct(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Os(o))return o}}function bJ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Os(r))return xI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(_e(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&tN.test(i)){var u=tN.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(c=Math.max(...t));else if(_e(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&nN.test(s)){var p=nN.exec(s);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t==null?void 0:t[1];var v=[o,c];if(Os(v))return t==null?v:xI(v,t,n)}}}var ol=1e9,_J={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hb,ut=!0,vr="[DecimalError] ",ha=vr+"Invalid argument: ",fb=vr+"Exponent out of range: ",ll=Math.floor,ia=Math.pow,SJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Yt=1e7,ot=7,CD=9007199254740991,Th=ll(CD/ot),me={};me.absoluteValue=me.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};me.comparedTo=me.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};me.decimalPlaces=me.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};me.dividedBy=me.div=function(e){return Ii(this,new this.constructor(e))};me.dividedToIntegerBy=me.idiv=function(e){var t=this,n=t.constructor;return Je(Ii(t,new n(e),0,1),n.precision)};me.equals=me.eq=function(e){return!this.cmp(e)};me.exponent=function(){return Pt(this)};me.greaterThan=me.gt=function(e){return this.cmp(e)>0};me.greaterThanOrEqualTo=me.gte=function(e){return this.cmp(e)>=0};me.isInteger=me.isint=function(){return this.e>this.d.length-2};me.isNegative=me.isneg=function(){return this.s<0};me.isPositive=me.ispos=function(){return this.s>0};me.isZero=function(){return this.s===0};me.lessThan=me.lt=function(e){return this.cmp(e)<0};me.lessThanOrEqualTo=me.lte=function(e){return this.cmp(e)<1};me.logarithm=me.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Yn))throw Error(vr+"NaN");if(n.s<1)throw Error(vr+(n.s?"NaN":"-Infinity"));return n.eq(Yn)?new r(0):(ut=!1,t=Ii(nu(n,s),nu(e,s),s),ut=!0,Je(t,i))};me.minus=me.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ND(t,e):ED(t,(e.s=-e.s,e))};me.modulo=me.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(vr+"NaN");return n.s?(ut=!1,t=Ii(n,e,0,1).times(e),ut=!0,n.minus(t)):Je(new r(n),i)};me.naturalExponential=me.exp=function(){return kD(this)};me.naturalLogarithm=me.ln=function(){return nu(this)};me.negated=me.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};me.plus=me.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ED(t,e):ND(t,(e.s=-e.s,e))};me.precision=me.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ha+e);if(t=Pt(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};me.squareRoot=me.sqrt=function(){var e,t,n,r,i,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(vr+"NaN")}for(e=Pt(c),ut=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Jr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ll((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(Ii(c,s,o+2)).times(.5),Jr(s.d).slice(0,o)===(t=Jr(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Je(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(t!="9999")break;o+=4}return ut=!0,Je(r,n)};me.times=me.mul=function(e){var t,n,r,i,s,o,c,u,f,p=this,m=p.constructor,v=p.d,y=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,u=v.length,f=y.length,u<f&&(s=v,v=y,y=s,o=u,u=f,f=o),s=[],o=u+f,r=o;r--;)s.push(0);for(r=f;--r>=0;){for(t=0,i=u+r;i>r;)c=s[i]+y[r]*v[i-r-1]+t,s[i--]=c%Yt|0,t=c/Yt|0;s[i]=(s[i]+t)%Yt|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ut?Je(e,m.precision):e};me.toDecimalPlaces=me.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ii(e,0,ol),t===void 0?t=r.rounding:ii(t,0,8),Je(n,e+Pt(n)+1,t))};me.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ca(r,!0):(ii(e,0,ol),t===void 0?t=i.rounding:ii(t,0,8),r=Je(new i(r),e+1,t),n=Ca(r,!0,e+1)),n};me.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Ca(i):(ii(e,0,ol),t===void 0?t=s.rounding:ii(t,0,8),r=Je(new s(i),e+Pt(i)+1,t),n=Ca(r.abs(),!1,e+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};me.toInteger=me.toint=function(){var e=this,t=e.constructor;return Je(new t(e),Pt(e)+1,t.rounding)};me.toNumber=function(){return+this};me.toPower=me.pow=function(e){var t,n,r,i,s,o,c=this,u=c.constructor,f=12,p=+(e=new u(e));if(!e.s)return new u(Yn);if(c=new u(c),!c.s){if(e.s<1)throw Error(vr+"Infinity");return c}if(c.eq(Yn))return c;if(r=u.precision,e.eq(Yn))return Je(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=c.s,o){if((n=p<0?-p:p)<=CD){for(i=new u(Yn),t=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(c),bI(i.d,t)),n=ll(n/2),n!==0;)c=c.times(c),bI(c.d,t);return ut=!0,e.s<0?new u(Yn).div(i):Je(i,r)}}else if(s<0)throw Error(vr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,ut=!1,i=e.times(nu(c,r+f)),ut=!0,i=kD(i),i.s=s,i};me.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Pt(i),r=Ca(i,n<=s.toExpNeg||n>=s.toExpPos)):(ii(e,1,ol),t===void 0?t=s.rounding:ii(t,0,8),i=Je(new s(i),e,t),n=Pt(i),r=Ca(i,e<=n||n<=s.toExpNeg,e)),r};me.toSignificantDigits=me.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ii(e,1,ol),t===void 0?t=r.rounding:ii(t,0,8)),Je(new r(n),e,t)};me.toString=me.valueOf=me.val=me.toJSON=me[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pt(e),n=e.constructor;return Ca(e,t<=n.toExpNeg||t>=n.toExpPos)};function ED(e,t){var n,r,i,s,o,c,u,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ut?Je(t,m):t;if(u=e.d,f=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,c=f.length):(r=f,i=o,c=u.length),o=Math.ceil(m/ot),c=o>c?o+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=u.length,s=f.length,c-s<0&&(s=c,r=f,f=u,u=r),n=0;s;)n=(u[--s]=u[s]+f[s]+n)/Yt|0,u[s]%=Yt;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,ut?Je(t,m):t}function ii(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ha+e)}function Jr(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=ot-r.length,n&&(s+=ys(n)),s+=r;o=e[t],r=o+"",n=ot-r.length,n&&(s+=ys(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ii=(function(){function e(r,i){var s,o=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+o,r[c]=s%Yt|0,o=s/Yt|0;return o&&r.unshift(o),r}function t(r,i,s,o){var c,u;if(s!=o)u=s>o?1:-1;else for(c=u=0;c<s;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Yt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var c,u,f,p,m,v,y,w,C,_,E,k,I,j,P,A,U,z,Y=r.constructor,oe=r.s==i.s?1:-1,M=r.d,H=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(vr+"Division by zero");for(u=r.e-i.e,U=H.length,P=M.length,y=new Y(oe),w=y.d=[],f=0;H[f]==(M[f]||0);)++f;if(H[f]>(M[f]||0)&&--u,s==null?k=s=Y.precision:o?k=s+(Pt(r)-Pt(i))+1:k=s,k<0)return new Y(0);if(k=k/ot+2|0,f=0,U==1)for(p=0,H=H[0],k++;(f<P||p)&&k--;f++)I=p*Yt+(M[f]||0),w[f]=I/H|0,p=I%H|0;else{for(p=Yt/(H[0]+1)|0,p>1&&(H=e(H,p),M=e(M,p),U=H.length,P=M.length),j=U,C=M.slice(0,U),_=C.length;_<U;)C[_++]=0;z=H.slice(),z.unshift(0),A=H[0],H[1]>=Yt/2&&++A;do p=0,c=t(H,C,U,_),c<0?(E=C[0],U!=_&&(E=E*Yt+(C[1]||0)),p=E/A|0,p>1?(p>=Yt&&(p=Yt-1),m=e(H,p),v=m.length,_=C.length,c=t(m,C,v,_),c==1&&(p--,n(m,U<v?z:H,v))):(p==0&&(c=p=1),m=H.slice()),v=m.length,v<_&&m.unshift(0),n(C,m,_),c==-1&&(_=C.length,c=t(H,C,U,_),c<1&&(p++,n(C,U<_?z:H,_))),_=C.length):c===0&&(p++,C=[0]),w[f++]=p,c&&C[0]?C[_++]=M[j]||0:(C=[M[j]],_=1);while((j++<P||C[0]!==void 0)&&k--)}return w[0]||w.shift(),y.e=u,Je(y,o?s+Pt(y)+1:s)}})();function kD(e,t){var n,r,i,s,o,c,u=0,f=0,p=e.constructor,m=p.precision;if(Pt(e)>16)throw Error(fb+Pt(e));if(!e.s)return new p(Yn);for(ut=!1,c=m,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(ia(2,f))/Math.LN10*2+5|0,c+=r,n=i=s=new p(Yn),p.precision=c;;){if(i=Je(i.times(e),c),n=n.times(++u),o=s.plus(Ii(i,n,c)),Jr(o.d).slice(0,c)===Jr(s.d).slice(0,c)){for(;f--;)s=Je(s.times(s),c);return p.precision=m,t==null?(ut=!0,Je(s,m)):s}s=o}}function Pt(e){for(var t=e.e*ot,n=e.d[0];n>=10;n/=10)t++;return t}function ky(e,t,n){if(t>e.LN10.sd())throw ut=!0,n&&(e.precision=n),Error(vr+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function ys(e){for(var t="";e--;)t+="0";return t}function nu(e,t){var n,r,i,s,o,c,u,f,p,m=1,v=10,y=e,w=y.d,C=y.constructor,_=C.precision;if(y.s<1)throw Error(vr+(y.s?"NaN":"-Infinity"));if(y.eq(Yn))return new C(0);if(t==null?(ut=!1,f=_):f=t,y.eq(10))return t==null&&(ut=!0),ky(C,f);if(f+=v,C.precision=f,n=Jr(w),r=n.charAt(0),s=Pt(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Jr(y.d),r=n.charAt(0),m++;s=Pt(y),r>1?(y=new C("0."+n),s++):y=new C(r+"."+n.slice(1))}else return u=ky(C,f+2,_).times(s+""),y=nu(new C(r+"."+n.slice(1)),f-v).plus(u),C.precision=_,t==null?(ut=!0,Je(y,_)):y;for(c=o=y=Ii(y.minus(Yn),y.plus(Yn),f),p=Je(y.times(y),f),i=3;;){if(o=Je(o.times(p),f),u=c.plus(Ii(o,new C(i),f)),Jr(u.d).slice(0,f)===Jr(c.d).slice(0,f))return c=c.times(2),s!==0&&(c=c.plus(ky(C,f+2,_).times(s+""))),c=Ii(c,new C(m),f),C.precision=_,t==null?(ut=!0,Je(c,_)):c;c=u,i+=2}}function wI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=ll(n/ot),e.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ot;r<i;)e.d.push(+t.slice(r,r+=ot));t=t.slice(r),r=ot-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ut&&(e.e>Th||e.e<-Th))throw Error(fb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,n){var r,i,s,o,c,u,f,p,m=e.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=ot,i=t,f=m[p=0];else{if(p=Math.ceil((r+1)/ot),s=m.length,p>=s)return e;for(f=s=m[p],o=1;s>=10;s/=10)o++;r%=ot,i=r-ot+o}if(n!==void 0&&(s=ia(10,o-i-1),c=f/s%10|0,u=t<0||m[p+1]!==void 0||f%s,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?f/ia(10,o-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(s=Pt(e),m.length=1,t=t-s-1,m[0]=ia(10,(ot-t%ot)%ot),e.e=ll(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=ia(10,ot-r),m[p]=i>0?(f/ia(10,o-i)%ia(10,i)|0)*s:0),u)for(;;)if(p==0){(m[0]+=s)==Yt&&(m[0]=1,++e.e);break}else{if(m[p]+=s,m[p]!=Yt)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(ut&&(e.e>Th||e.e<-Th))throw Error(fb+Pt(e));return e}function ND(e,t){var n,r,i,s,o,c,u,f,p,m,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),ut?Je(t,y):t;if(u=e.d,m=t.d,r=t.e,f=e.e,u=u.slice(),o=f-r,o){for(p=o<0,p?(n=u,o=-o,c=m.length):(n=m,r=f,c=u.length),i=Math.max(Math.ceil(y/ot),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){p=u[i]<m[i];break}o=0}for(p&&(n=u,u=m,m=n,t.s=-t.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=Yt-1;--u[s],u[i]+=Yt}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,ut?Je(t,y):t):new v(0)}function Ca(e,t,n){var r,i=Pt(e),s=Jr(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ys(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ys(-i-1)+s,n&&(r=n-o)>0&&(s+=ys(r))):i>=o?(s+=ys(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ys(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ys(r))),e.s<0?"-"+s:s}function bI(e,t){if(e.length>t)return e.length=t,!0}function ID(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ha+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return wI(o,s.toString())}else if(typeof s!="string")throw Error(ha+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,SJ.test(s))wI(o,s);else throw Error(ha+s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ID,i.config=i.set=CJ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function CJ(e){if(!e||typeof e!="object")throw Error(vr+"Object expected");var t,n,r,i=["precision",1,ol,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(ll(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ha+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ha+n+": "+r);return this}var hb=ID(_J);Yn=new hb(1);const Ge=hb;var EJ=e=>e,PD={},jD=e=>e===PD,_I=e=>function t(){return arguments.length===0||arguments.length===1&&jD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},TD=(e,t)=>e===1?t:_I(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==PD).length;return s>=e?t(...r):TD(e-s,_I(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var f=r.map(p=>jD(p)?c.shift():p);return t(...f,...c)}))}),kJ=e=>TD(e.length,e),Gx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},NJ=kJ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),IJ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return EJ;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),s(...arguments))}},Yx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function AD(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function OD(e,t,n){for(var r=new Ge(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var RD=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},DD=(e,t,n)=>{if(e.lte(0))return new Ge(0);var r=AD(e.toNumber()),i=new Ge(10).pow(r),s=e.div(i),o=r!==1?.05:.1,c=new Ge(Math.ceil(s.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Ge(u.toNumber()):new Ge(Math.ceil(u.toNumber()))},PJ=(e,t,n)=>{var r=new Ge(1),i=new Ge(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ge(10).pow(AD(e)-1),i=new Ge(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ge(Math.floor(e)))}else e===0?i=new Ge(Math.floor((t-1)/2)):n||(i=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),c=IJ(NJ(u=>i.add(new Ge(u-o).mul(r)).toNumber()),Gx);return c(0,t)},MD=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=DD(new Ge(n).sub(t).div(r-1),i,s),c;t<=0&&n>=0?c=new Ge(0):(c=new Ge(t).add(n).div(2),c=c.sub(new Ge(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Ge(n).sub(c).div(o).toNumber()),p=u+f+1;return p>r?MD(t,n,r,i,s+1):(p<r&&(f=n>0?f+(r-p):f,u=n>0?u:u+(r-p)),{step:o,tickMin:c.sub(new Ge(u).mul(o)),tickMax:c.add(new Ge(f).mul(o))})},jJ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=RD([n,r]);if(c===-1/0||u===1/0){var f=u===1/0?[c,...Gx(0,i-1).map(()=>1/0)]:[...Gx(0,i-1).map(()=>-1/0),u];return n>r?Yx(f):f}if(c===u)return PJ(c,i,s);var{step:p,tickMin:m,tickMax:v}=MD(c,u,o,s,0),y=OD(m,v.add(new Ge(.1).mul(p)),p);return n>r?Yx(y):y},TJ=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=RD([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),f=DD(new Ge(c).sub(o).div(u-1),s,0),p=[...OD(new Ge(o),new Ge(c),f),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?Yx(p):p},LD=e=>e.rootProps.maxBarSize,AJ=e=>e.rootProps.barGap,FD=e=>e.rootProps.barCategoryGap,OJ=e=>e.rootProps.barSize,Rp=e=>e.rootProps.stackOffset,$D=e=>e.rootProps.reverseStackOrder,pb=e=>e.options.chartName,mb=e=>e.rootProps.syncId,zD=e=>e.rootProps.syncMethod,gb=e=>e.options.eventEmitter,Sn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Kn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},RJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xi.angleAxisId,includeHidden:!1,name:void 0,reversed:xi.reversed,scale:xi.scale,tick:xi.tick,tickCount:void 0,ticks:void 0,type:xi.type,unit:void 0},DJ={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,ticks:void 0,type:Kn.type,unit:void 0},MJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},LJ={allowDataOverflow:Kn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Kn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Kn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Kn.scale,tick:Kn.tick,tickCount:Kn.tickCount,ticks:void 0,type:"category",unit:void 0},vb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?MJ:RJ,yb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?LJ:DJ,Mp=e=>e.polarOptions,xb=V([Vi,Hi,en],TY),UD=V([Mp,xb],(e,t)=>{if(e!=null)return zr(e.innerRadius,t,0)}),BD=V([Mp,xb],(e,t)=>{if(e!=null)return zr(e.outerRadius,t,t*.8)}),FJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},WD=V([Mp],FJ);V([vb,WD],Dp);var VD=V([xb,UD,BD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});V([yb,VD],Dp);var HD=V([Ye,Mp,UD,BD,Vi,Hi],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:f}=t;return{cx:zr(o,i,i/2),cy:zr(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),zt=(e,t)=>t,Lp=(e,t,n)=>n;function wb(e){return e==null?void 0:e.id}function qD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(c=>{var u,f=(u=c.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var p=wb(c);f.forEach((m,v)=>{var y=s==null||i?v:String(yn(m,s,null)),w=yn(m,c.dataKey,0),C;o.has(y)?C=o.get(y):C={},Object.assign(C,{[p]:w}),o.set(y,C)})}}),Array.from(o.values())}function Fp(e){return e.stackId!=null&&e.dataKey!=null}var $p=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function zp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $J(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ut=e=>{var t=Ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cl=e=>e.tooltip.settings.axisId;function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ah(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xx=[0,"auto"],qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KD=(e,t)=>e.cartesianAxis.xAxis[t],Ki=(e,t)=>{var n=KD(e,t);return n??qt},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Xx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xu},GD=(e,t)=>e.cartesianAxis.yAxis[t],Gi=(e,t)=>{var n=GD(e,t);return n??Kt},WJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},bb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??WJ},Nn=(e,t,n)=>{switch(t){case"xAxis":return Ki(e,n);case"yAxis":return Gi(e,n);case"zAxis":return bb(e,n);case"angleAxis":return vb(e,n);case"radiusAxis":return yb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},VJ=(e,t,n)=>{switch(t){case"xAxis":return Ki(e,n);case"yAxis":return Gi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Cu=(e,t,n)=>{switch(t){case"xAxis":return Ki(e,n);case"yAxis":return Gi(e,n);case"angleAxis":return vb(e,n);case"radiusAxis":return yb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},YD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function XD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var _b=e=>e.graphicalItems.cartesianItems,HJ=V([zt,Lp],XD),QD=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Eu=V([_b,Nn,HJ],QD,{memoizeOptions:{resultEqualityCheck:zp}}),JD=V([Eu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fp)),ZD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qJ=V([Eu],ZD),e2=e=>e.map(t=>t.data).filter(Boolean).flat(1),KJ=V([Eu],e2,{memoizeOptions:{resultEqualityCheck:zp}}),t2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Sb=V([KJ,db],t2),n2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:yn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:yn(i,r)}))):e.map(r=>({value:r})),Up=V([Sb,Nn,Eu],n2);function r2(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cf(e){if(ni(e)||e instanceof Date){var t=Number(e);if(Ct(t))return t}}function CI(e){if(Array.isArray(e)){var t=[Cf(e[0]),Cf(e[1])];return Os(t)?t:void 0}var n=Cf(e);if(n!=null)return[n,n]}function Ui(e){return e.map(Cf).filter(v9)}function GJ(e,t,n){return!n||typeof t!="number"||$r(t)?[]:n.length?Ui(n.flatMap(r=>{var i=yn(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Ct(s)||!Ct(o)))return[t-s,t+o]})):[]}var Bt=e=>{var t=Ut(e),n=cl(e);return Cu(e,t,n)},ku=V([Bt],e=>e==null?void 0:e.dataKey),YJ=V([JD,db,Bt],qD),i2=(e,t,n,r)=>{var i={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(s).map(o=>{var[c,u]=o,f=r?[...u].reverse():u,p=f.map(wb);return[c,{stackedData:OK(e,p,n),graphicalItems:f}]}))},Qx=V([YJ,JD,Rp,$D],i2),s2=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=FK(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},XJ=V([Nn],e=>e.allowDataOverflow),Cb=e=>{var t;if(e==null||!("domain"in e))return Xx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Ui(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Xx},a2=V([Nn],Cb),o2=V([a2,XJ],SD),QJ=V([Qx,Fs,zt,o2],s2,{memoizeOptions:{resultEqualityCheck:$p}}),Eb=e=>e.errorBars,JJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>r2(n,r)),Oh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),c=Math.max(...s);return[o,c]}},l2=(e,t,n,r,i)=>{var s,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var f,p,m=(f=r[u.id])===null||f===void 0?void 0:f.filter(E=>r2(i,E)),v=yn(c,(p=t.dataKey)!==null&&p!==void 0?p:u.dataKey),y=GJ(c,v,m);if(y.length>=2){var w=Math.min(...y),C=Math.max(...y);(s==null||w<s)&&(s=w),(o==null||C>o)&&(o=C)}var _=CI(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var u=CI(yn(c,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ct(s)&&Ct(o))return[s,o]},ZJ=V([Sb,Nn,qJ,Eb,zt],l2,{memoizeOptions:{resultEqualityCheck:$p}});function eZ(e){var{value:t}=e;if(ni(t)||t instanceof Date)return t}var tZ=(e,t,n)=>{var r=e.map(eZ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&jO(r))?BR(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},c2=e=>e.referenceElements.dots,ul=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),nZ=V([c2,zt,Lp],ul),u2=e=>e.referenceElements.areas,rZ=V([u2,zt,Lp],ul),d2=e=>e.referenceElements.lines,iZ=V([d2,zt,Lp],ul),f2=(e,t)=>{var n=Ui(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},sZ=V(nZ,zt,f2),h2=(e,t)=>{var n=Ui(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aZ=V([rZ,zt],h2);function oZ(e){var t;if(e.x!=null)return Ui([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ui(n)}function lZ(e){var t;if(e.y!=null)return Ui([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ui(n)}var p2=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?oZ(r):lZ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},cZ=V([iZ,zt],p2),uZ=V(sZ,cZ,aZ,(e,t,n)=>Oh(e,n,t)),m2=(e,t,n,r,i,s,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=u?Oh(r,s,i):Oh(s,i);return bJ(t,f,e.allowDataOverflow)},dZ=V([Nn,a2,o2,QJ,ZJ,uZ,Ye,zt],m2,{memoizeOptions:{resultEqualityCheck:$p}}),fZ=[0,1],g2=(e,t,n,r,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,f=Oa(t,s);if(f&&c==null){var p;return BR(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return u==="category"?tZ(r,e,f):i==="expand"?fZ:o}},kb=V([Nn,Ye,Sb,Up,Rp,zt,dZ],g2),v2=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(mu(s));return c in _c?c:"point"}}},Nu=V([Nn,Ye,YD,pb,zt],v2);function hZ(e){if(e!=null){if(e in _c)return _c[e]();var t="scale".concat(mu(e));if(t in _c)return _c[t]()}}function Nb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=hZ(t);if(i!=null){var s=i.domain(n).range(r);return IK(s),s}}}var y2=(e,t,n)=>{var r=Cb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Os(e))return jJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Os(e))return TJ(e,t.tickCount,t.allowDecimals)}},Ib=V([kb,Cu,Nu],y2),x2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Os(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,s),Math.max(o,c)]}return t},pZ=V([Nn,kb,Ib,zt],x2),mZ=V(Up,Nn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ui(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),w2=V(mZ,Ye,FD,en,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Ct(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=zr(n,e*s),c=e*s/2;return c-o-(c-o)/s*o}return 0}),gZ=(e,t)=>{var n=Ki(e,t);return n==null||typeof n.padding!="string"?0:w2(e,"xAxis",t,n.padding)},vZ=(e,t)=>{var n=Gi(e,t);return n==null||typeof n.padding!="string"?0:w2(e,"yAxis",t,n.padding)},yZ=V(Ki,gZ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),xZ=V(Gi,vZ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),wZ=V([en,yZ,Cp,Sp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),bZ=V([en,Ye,xZ,Cp,Sp,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Iu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return wZ(e,n,r);case"yAxis":return bZ(e,n,r);case"zAxis":return(i=bb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return WD(e);case"radiusAxis":return VD(e,n);default:return}},b2=V([Nn,Iu],Dp),dl=V([Nn,Nu,pZ,b2],Nb);V([Eu,Eb,zt],JJ);function _2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bp=(e,t)=>t,Wp=(e,t,n)=>n,_Z=V(bp,Bp,Wp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_2)),SZ=V(_p,Bp,Wp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(_2)),S2=(e,t)=>({width:e.width,height:t.height}),CZ=(e,t)=>{var n=typeof t.width=="number"?t.width:xu;return{width:n,height:e.height}},C2=V(en,Ki,S2),EZ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},kZ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},NZ=V(Hi,en,_Z,Bp,Wp,(e,t,n,r,i)=>{var s={},o;return n.forEach(c=>{var u=S2(t,c);o==null&&(o=EZ(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;s[c.id]=o-Number(f)*u.height,o+=(f?-1:1)*u.height}),s}),IZ=V(Vi,en,SZ,Bp,Wp,(e,t,n,r,i)=>{var s={},o;return n.forEach(c=>{var u=CZ(t,c);o==null&&(o=kZ(t,r,e));var f=r==="left"&&!i||r==="right"&&i;s[c.id]=o-Number(f)*u.width,o+=(f?-1:1)*u.width}),s}),PZ=(e,t)=>{var n=Ki(e,t);if(n!=null)return NZ(e,n.orientation,n.mirror)},jZ=V([en,Ki,PZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),TZ=(e,t)=>{var n=Gi(e,t);if(n!=null)return IZ(e,n.orientation,n.mirror)},AZ=V([en,Gi,TZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),E2=V(en,Gi,(e,t)=>{var n=typeof t.width=="number"?t.width:xu;return{width:n,height:e.height}}),EI=(e,t,n)=>{switch(t){case"xAxis":return C2(e,n).width;case"yAxis":return E2(e,n).height;default:return}},k2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,c=Oa(e,r),u=t.map(f=>f.value);if(o&&c&&s==="category"&&i&&jO(u))return u}},Pb=V([Ye,Up,Nn,zt],k2),N2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Oa(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(c=>c.value)}},jb=V([Ye,Up,Cu,zt],N2),kI=V([Ye,VJ,Nu,dl,Pb,jb,Iu,Ib,zt],(e,t,n,r,i,s,o,c,u)=>{if(t!=null){var f=Oa(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:c,range:o,realScaleType:n,scale:r}}}),OZ=(e,t,n,r,i,s,o,c,u)=>{if(!(t==null||r==null)){var f=Oa(e,u),{type:p,ticks:m,tickCount:v}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/y:0;w=u==="angleAxis"&&s!=null&&s.length>=2?Fn(s[0]-s[1])*2*w:w;var C=m||i;if(C){var _=C.map((E,k)=>{var I=o?o.indexOf(E):E;return{index:k,coordinate:r(I)+w,value:E,offset:w}});return _.filter(E=>Ct(E.coordinate))}return f&&c?c.map((E,k)=>({coordinate:r(E)+w,value:E,index:k,offset:w})).filter(E=>Ct(E.coordinate)):r.ticks?r.ticks(v).map(E=>({coordinate:r(E)+w,value:E,offset:w})):r.domain().map((E,k)=>({coordinate:r(E)+w,value:o?o[E]:E,index:k,offset:w}))}},I2=V([Ye,Cu,Nu,dl,Ib,Iu,Pb,jb,zt],OZ),RZ=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Oa(e,o),{tickCount:u}=t,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Fn(r[0]-r[1])*2*f:f,c&&s?s.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+f,value:p,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:i?i[p]:p,index:m,offset:f}))}},Bo=V([Ye,Cu,dl,Iu,Pb,jb,zt],RZ),Wo=V(Nn,dl,(e,t)=>{if(!(e==null||t==null))return Ah(Ah({},e),{},{scale:t})}),DZ=V([Nn,Nu,kb,b2],Nb);V((e,t,n)=>bb(e,n),DZ,(e,t)=>{if(!(e==null||t==null))return Ah(Ah({},e),{},{scale:t})});var MZ=V([Ye,bp,_p],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),P2=e=>e.options.defaultTooltipEventType,j2=e=>e.options.validateTooltipEventTypes;function T2(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function Tb(e,t){var n=P2(e),r=j2(e);return T2(t,n,r)}function LZ(e){return Ee(t=>Tb(t,e))}var A2=(e,t)=>{var n,r=Number(t);if(!($r(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},FZ=e=>e.tooltip.settings,Cs={active:!1,index:null,dataKey:void 0,coordinate:void 0},$Z={itemInteraction:{click:Cs,hover:Cs},axisInteraction:{click:Cs,hover:Cs},keyboardInteraction:Cs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O2=Un({name:"tooltip",initialState:$Z,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ct()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Dr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ct()},removeTooltipEntrySettings:{reducer(e,t){var n=Dr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ct()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:zZ,replaceTooltipEntrySettings:UZ,removeTooltipEntrySettings:BZ,setTooltipSettingsState:WZ,setActiveMouseOverItemIndex:R2,mouseLeaveItem:VZ,mouseLeaveChart:D2,setActiveClickItemIndex:HZ,setMouseOverAxisIndex:M2,setMouseClickAxisIndex:qZ,setSyncInteraction:Jx,setKeyboardInteraction:Zx}=O2.actions,KZ=O2.reducer;function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){GZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GZ(e,t,n){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function JZ(e){return e.index!=null}var L2=(e,t,n,r)=>{if(t==null)return Cs;var i=QZ(e,t,n);if(i==null)return Cs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(JZ(i)){if(s)return ff(ff({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ff(ff({},Cs),{},{coordinate:i.coordinate})};function ZZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function eee(e,t){var n=ZZ(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function tee(e,t,n){if(n==null||t==null)return!0;var r=yn(e,t);return r==null||!Os(n)?!0:eee(r,n)}var Ab=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ct(s))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(s,c)),f=t[u];return f==null||tee(f,n,r)?String(u):null},F2=(e,t,n,r,i,s,o,c)=>{if(!(s==null||c==null)){var u=o[0],f=u==null?void 0:c(u.positions,s);if(f!=null)return f;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},$2=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},Pu=e=>e.options.tooltipPayloadSearcher,fl=e=>e.tooltip;function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){nee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function see(e,t){return e??t}var z2=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:c,computedData:u,dataStartIndex:f,dataEndIndex:p}=n,m=[];return e.reduce((v,y)=>{var w,{dataDefinedOnItem:C,settings:_}=y,E=see(C,c),k=Array.isArray(E)?xR(E,f,p):E,I=(w=_==null?void 0:_.dataKey)!==null&&w!==void 0?w:r,j=_==null?void 0:_.nameKey,P;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&o==="axis"?P=g9(k,r,i):P=s(k,t,u,j),Array.isArray(P))P.forEach(U=>{var z=PI(PI({},_),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});v.push(rN({tooltipEntrySettings:z,dataKey:U.dataKey,payload:U.payload,value:yn(U.payload,U.dataKey),name:U.name}))});else{var A;v.push(rN({tooltipEntrySettings:_,dataKey:I,payload:P,value:yn(P,I),name:(A=yn(P,j))!==null&&A!==void 0?A:_==null?void 0:_.name}))}return v},m)}},Ob=V([Bt,Ye,YD,pb,Ut],v2),aee=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oee=V([Ut,cl],XD),ju=V([aee,Bt,oee],QD,{memoizeOptions:{resultEqualityCheck:zp}}),lee=V([ju],e=>e.filter(Fp)),cee=V([ju],e2,{memoizeOptions:{resultEqualityCheck:zp}}),hl=V([cee,Fs],t2),uee=V([lee,Fs,Bt],qD),Rb=V([hl,Bt,ju],n2),U2=V([Bt],Cb),dee=V([Bt],e=>e.allowDataOverflow),B2=V([U2,dee],SD),fee=V([ju],e=>e.filter(Fp)),hee=V([uee,fee,Rp,$D],i2),pee=V([hee,Fs,Ut,B2],s2),mee=V([ju],ZD),gee=V([hl,Bt,mee,Eb,Ut],l2,{memoizeOptions:{resultEqualityCheck:$p}}),vee=V([c2,Ut,cl],ul),yee=V([vee,Ut],f2),xee=V([u2,Ut,cl],ul),wee=V([xee,Ut],h2),bee=V([d2,Ut,cl],ul),_ee=V([bee,Ut],p2),See=V([yee,_ee,wee],Oh),Cee=V([Bt,U2,B2,pee,gee,See,Ye,Ut],m2),Tu=V([Bt,Ye,hl,Rb,Rp,Ut,Cee],g2),Eee=V([Tu,Bt,Ob],y2),kee=V([Bt,Tu,Eee,Ut],x2),W2=e=>{var t=Ut(e),n=cl(e),r=!1;return Iu(e,t,n,r)},V2=V([Bt,W2],Dp),H2=V([Bt,Ob,kee,V2],Nb),Nee=V([Ye,Rb,Bt,Ut],k2),Iee=V([Ye,Rb,Bt,Ut],N2),Pee=(e,t,n,r,i,s,o,c)=>{if(t){var{type:u}=t,f=Oa(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Fn(i[0]-i[1])*2*m:m,f&&o?o.map((v,y)=>({coordinate:r(v)+m,value:v,index:y,offset:m})):r.domain().map((v,y)=>({coordinate:r(v)+m,value:s?s[v]:v,index:y,offset:m}))}}},Yi=V([Ye,Bt,Ob,H2,W2,Nee,Iee,Ut],Pee),Db=V([P2,j2,FZ],(e,t,n)=>T2(n.shared,e,t)),q2=e=>e.tooltip.settings.trigger,Mb=e=>e.tooltip.settings.defaultIndex,Vp=V([fl,Db,q2,Mb],L2),Vo=V([Vp,hl,ku,Tu],Ab),K2=V([Yi,Vo],A2),G2=V([Vp],e=>{if(e)return e.dataKey}),Y2=V([fl,Db,q2,Mb],$2),jee=V([Vi,Hi,Ye,en,Yi,Mb,Y2,Pu],F2),Tee=V([Vp,jee],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Aee=V([Vp],e=>e.active),Oee=V([Y2,Vo,Fs,ku,K2,Pu,Db],z2);V([Oee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){Ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ree(e,t,n){return(t=Dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lee=()=>Ee(Bt),Fee=()=>{var e=Lee(),t=Ee(Yi),n=Ee(H2);return mh(!e||!n?void 0:TI(TI({},e),{},{scale:n}),t)};function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){$ee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ee(e,t,n){return(t=zee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zee(e){var t=Uee(e,"string");return typeof t=="symbol"?t:t+""}function Uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bee=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Wee=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=r;return fo(fo(fo({},r),ln(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,{angle:u}=r;return fo(fo(fo({},r),ln(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Vee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var X2=(e,t,n,r,i)=>{var s,o=-1,c=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var f=u>0?n[u-1].coordinate:n[c-1].coordinate,p=n[u].coordinate,m=u>=c-1?n[0].coordinate:n[u+1].coordinate,v=void 0;if(Fn(p-f)!==Fn(m-p)){var y=[];if(Fn(m-p)===Fn(i[1]-i[0])){v=m;var w=p+i[1]-i[0];y[0]=Math.min(w,(w+f)/2),y[1]=Math.max(w,(w+f)/2)}else{v=f;var C=m+i[1]-i[0];y[0]=Math.min(p,(C+p)/2),y[1]=Math.max(p,(C+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var E=Math.min(f,m),k=Math.max(f,m);if(e>(E+p)/2&&e<=(k+p)/2){({index:o}=n[u]);break}}}else if(t){for(var I=0;I<c;I++)if(I===0&&e<=(t[I].coordinate+t[I+1].coordinate)/2||I>0&&I<c-1&&e>(t[I].coordinate+t[I-1].coordinate)/2&&e<=(t[I].coordinate+t[I+1].coordinate)/2||I===c-1&&e>(t[I].coordinate+t[I-1].coordinate)/2){({index:o}=t[I]);break}}return o},Hee=()=>Ee(pb),Lb=(e,t)=>t,Q2=(e,t,n)=>n,Fb=(e,t,n,r)=>r,qee=V(Yi,e=>mp(e,t=>t.coordinate)),$b=V([fl,Lb,Q2,Fb],L2),zb=V([$b,hl,ku,Tu],Ab),Kee=(e,t,n)=>{if(t!=null){var r=fl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},J2=V([fl,Lb,Q2,Fb],$2),Rh=V([Vi,Hi,Ye,en,Yi,Fb,J2,Pu],F2),Gee=V([$b,Rh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),Z2=V([Yi,zb],A2),Yee=V([J2,zb,Fs,ku,Z2,Pu,Lb],z2),Xee=V([$b,zb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Qee=(e,t,n,r,i,s,o)=>{if(!(!e||!n||!r||!i)&&Vee(e,o)){var c=$K(e,t),u=X2(c,s,i,n,r),f=Bee(t,i,u,e);return{activeIndex:String(u),activeCoordinate:f}}},Jee=(e,t,n,r,i,s,o)=>{if(!(!e||!r||!i||!s||!n)){var c=MY(e,n);if(c){var u=zK(c,t),f=X2(u,o,s,r,i),p=Wee(t,s,f,c);return{activeIndex:String(f),activeCoordinate:p}}}},Zee=(e,t,n,r,i,s,o,c)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?Qee(e,t,r,i,s,o,c):Jee(e,t,n,r,i,s,o)},ete=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),tte=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Sn)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:$J}});function OI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ste={},ate={zIndexMap:Object.values(Sn).reduce((e,t)=>RI(RI({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),ste)},ote=new Set(Object.values(Sn));function lte(e){return ote.has(e)}var eM=Un({name:"zIndex",initialState:ate,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ct()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!lte(n)&&delete e.zIndexMap[n])},prepare:ct()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ct()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:ct()}}}),{registerZIndexPortal:cte,unregisterZIndexPortal:ute,registerZIndexPortalId:dte,unregisterZIndexPortalId:fte}=eM.actions,hte=eM.reducer;function Xi(e){var{zIndex:t,children:n}=e,r=xG(),i=r&&t!==void 0&&t!==0,s=Bn(),o=Et();b.useLayoutEffect(()=>i?(o(cte({zIndex:t})),()=>{o(ute({zIndex:t}))}):gu,[o,t,i]);var c=Ee(f=>ete(f,t,s));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?ej.createPortal(n,u):null}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}function DI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(n),!0).forEach(function(r){pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function yte(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:f,chartName:p}=e,m=n,v=r,y=i;if(!u||!m||p!=="ScatterChart"&&f!=="axis")return null;var w,C,_;if(p==="ScatterChart")w=m,C=QG,_=Sn.cursorLine;else if(p==="BarChart")w=JG(c,m,s,o),C=FR,_=Sn.cursorRectangle;else if(c==="radial"&&OO(m)){var{cx:E,cy:k,radius:I,startAngle:j,endAngle:P}=$R(m);w={cx:E,cy:k,startAngle:j,endAngle:P,innerRadius:I,outerRadius:I},C=UR,_=Sn.cursorLine}else w={points:zY(c,m,s)},C=OR,_=Sn.cursorLine;var A=typeof u=="object"&&"className"in u?u.className:void 0,U=hf(hf(hf(hf({stroke:"#ccc",pointerEvents:"none"},s),w),Sw(u)),{},{payload:v,payloadIndex:y,className:it("recharts-tooltip-cursor",A)});return b.createElement(Xi,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},b.createElement(vte,{cursor:u,cursorComp:C,cursorProps:U}))}function xte(e){var t=Fee(),n=IR(),r=kp(),i=Hee();return t==null||n==null||r==null||i==null?null:b.createElement(yte,e0({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var tM=b.createContext(null),wte=()=>b.useContext(tM),Ny={exports:{}},MI;function bte(){return MI||(MI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,p){this.fn=u,this.context=f,this.once=p||!1}function s(u,f,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,m||u,v),w=n?n+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},c.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,w=new Array(y);v<y;v++)w[v]=m[v].fn;return w},c.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,p,m,v,y,w){var C=n?n+f:f;if(!this._events[C])return!1;var _=this._events[C],E=arguments.length,k,I;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,v),!0;case 5:return _.fn.call(_.context,p,m,v,y),!0;case 6:return _.fn.call(_.context,p,m,v,y,w),!0}for(I=1,k=new Array(E-1);I<E;I++)k[I-1]=arguments[I];_.fn.apply(_.context,k)}else{var j=_.length,P;for(I=0;I<j;I++)switch(_[I].once&&this.removeListener(f,_[I].fn,void 0,!0),E){case 1:_[I].fn.call(_[I].context);break;case 2:_[I].fn.call(_[I].context,p);break;case 3:_[I].fn.call(_[I].context,p,m);break;case 4:_[I].fn.call(_[I].context,p,m,v);break;default:if(!k)for(P=1,k=new Array(E-1);P<E;P++)k[P-1]=arguments[P];_[I].fn.apply(_[I].context,k)}}return!0},c.prototype.on=function(f,p,m){return s(this,f,p,m,!1)},c.prototype.once=function(f,p,m){return s(this,f,p,m,!0)},c.prototype.removeListener=function(f,p,m,v){var y=n?n+f:f;if(!this._events[y])return this;if(!p)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!v||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var C=0,_=[],E=w.length;C<E;C++)(w[C].fn!==p||v&&!w[C].once||m&&w[C].context!==m)&&_.push(w[C]);_.length?this._events[y]=_.length===1?_[0]:_:o(this,y)}return this},c.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Ny)),Ny.exports}var _te=bte();const Ste=si(_te);var ru=new Ste,t0="recharts.syncEvent.tooltip",LI="recharts.syncEvent.brush";function Cte(e,t){if(t){var n=Number.parseInt(t,10);if(!$r(n))return e==null?void 0:e[n]}}var Ete={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nM=Un({name:"options",initialState:Ete,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),kte=nM.reducer,{createEventEmitter:Nte}=nM.actions;function Ite(e){return e.tooltip.syncInteraction}var Pte={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rM=Un({name:"chartData",initialState:Pte,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:FI,setDataStartEndIndexes:jte,setComputedData:rle}=rM.actions,Tte=rM.reducer,Ate=["x","y"];function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$I(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mte(e,t){if(e==null)return{};var n,r,i=Lte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fte(){var e=Ee(mb),t=Ee(gb),n=Et(),r=Ee(zD),i=Ee(Yi),s=kp(),o=Ep(),c=Ee(u=>u.rootProps.className);b.useEffect(()=>{if(e==null)return gu;var u=(f,p,m)=>{if(t!==m&&e===f){if(r==="index"){var v;if(o&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:w,y:C}=y,_=Mte(y,Ate),{x:E,y:k,width:I,height:j}=p.payload.sourceViewBox,P=ho(ho({},_),{},{x:o.x+(I?(w-E)/I:0)*o.width,y:o.y+(j?(C-k)/j:0)*o.height});n(ho(ho({},p),{},{payload:ho(ho({},p.payload),{},{coordinate:P})}))}else n(p);return}if(i!=null){var A;if(typeof r=="function"){var U={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},z=r(i,U);A=i[z]}else r==="value"&&(A=i.find(fe=>String(fe.value)===p.payload.label));var{coordinate:Y}=p.payload;if(A==null||p.payload.active===!1||Y==null||o==null){n(Jx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:oe,y:M}=Y,H=Math.min(oe,o.x+o.width),se=Math.min(M,o.y+o.height),xe={x:s==="horizontal"?A.coordinate:H,y:s==="horizontal"?se:A.coordinate},G=Jx({active:p.payload.active,coordinate:xe,dataKey:p.payload.dataKey,index:String(A.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(G)}}};return ru.on(t0,u),()=>{ru.off(t0,u)}},[c,n,t,e,r,i,s,o])}function $te(){var e=Ee(mb),t=Ee(gb),n=Et();b.useEffect(()=>{if(e==null)return gu;var r=(i,s,o)=>{t!==o&&e===i&&n(jte(s))};return ru.on(LI,r),()=>{ru.off(LI,r)}},[n,t,e])}function zte(){var e=Et();b.useEffect(()=>{e(Nte())},[e]),Fte(),$te()}function Ute(e,t,n,r,i,s){var o=Ee(y=>Kee(y,e,t)),c=Ee(gb),u=Ee(mb),f=Ee(zD),p=Ee(Ite),m=p==null?void 0:p.active,v=Ep();b.useEffect(()=>{if(!m&&u!=null&&c!=null){var y=Jx({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});ru.emit(t0,u,y,c)}},[m,n,o,i,r,c,u,f,s,v])}function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wte(e){var t=Vte(e,"string");return typeof t=="symbol"?t:t+""}function Vte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hte(e){return e.dataKey}function qte(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(PG,t)}var BI=[],Kte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!sl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gte(e){var t,n,r=tr(e,Kte),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:c,content:u,filterNull:f,isAnimationActive:p,offset:m,payloadUniqBy:v,position:y,reverseDirection:w,useTranslate3d:C,wrapperStyle:_,cursor:E,shared:k,trigger:I,defaultIndex:j,portal:P,axisId:A}=r,U=Et(),z=typeof j=="number"?String(j):j;b.useEffect(()=>{U(WZ({shared:k,trigger:I,axisId:A,active:i,defaultIndex:z}))},[U,k,I,A,i,z]);var Y=Ep(),oe=AR(),M=LZ(k),{activeIndex:H,isActive:se}=(t=Ee(ce=>Xee(ce,M,I,z)))!==null&&t!==void 0?t:{},xe=Ee(ce=>Yee(ce,M,I,z)),G=Ee(ce=>Z2(ce,M,I,z)),fe=Ee(ce=>Gee(ce,M,I,z)),le=xe,F=wte(),te=(n=i??se)!==null&&n!==void 0?n:!1,[W,O]=N7([le,te]),q=M==="axis"?G:void 0;Ute(M,I,fe,q,H,te);var ie=P??F;if(ie==null||Y==null||M==null)return null;var ae=le??BI;te||(ae=BI),f&&ae.length&&(ae=Z9(ae.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),v,Hte));var Se=ae.length>0,Ie=b.createElement(MG,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:p,active:te,coordinate:fe,hasPayload:Se,offset:m,position:y,reverseDirection:w,useTranslate3d:C,viewBox:Y,wrapperStyle:_,lastBoundingBox:W,innerRef:O,hasPortalFromProps:!!P},qte(u,UI(UI({},r),{},{payload:ae,label:q,active:te,activeIndex:H,coordinate:fe,accessibilityLayer:oe})));return b.createElement(b.Fragment,null,ej.createPortal(Ie,ie),te&&b.createElement(xte,{cursor:E,tooltipEventType:M,coordinate:fe,payload:ae,index:H}))}var iM=e=>null;iM.displayName="Cell";function Yte(e,t,n){return(t=Xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xte(e){var t=Qte(e,"string");return typeof t=="symbol"?t:t+""}function Qte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jte{constructor(t){Yte(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function WI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zte(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WI(Object(n),!0).forEach(function(r){ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ene(e,t,n){return(t=tne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rne={cacheSize:2e3,enableCache:!0},sM=Zte({},rne),VI=new Jte(sM.cacheSize),ine={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HI="recharts_measurement_span";function sne(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(c)}var qI=(e,t)=>{try{var n=document.getElementById(HI);n||(n=document.createElement("span"),n.setAttribute("id",HI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ine,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Oc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sl.isSsr)return{width:0,height:0};if(!sM.enableCache)return qI(t,n);var r=sne(t,n),i=VI.get(r);if(i)return i;var s=qI(t,n);return VI.set(r,s),s},KI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ane=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,one=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lne=Object.keys(aM),vo="NaN";function cne(e,t){return e*aM[t]}class Dn{static parse(t){var n,[,r,i]=(n=one.exec(t))!==null&&n!==void 0?n:[];return new Dn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,$r(t)&&(this.unit=""),n!==""&&!ane.test(n)&&(this.num=NaN,this.unit=""),lne.includes(n)&&(this.num=cne(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $r(this.num)}}function oM(e){if(e.includes(vo))return vo;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=KI.exec(t))!==null&&n!==void 0?n:[],o=Dn.parse(r??""),c=Dn.parse(s??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return vo;t=t.replace(KI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,p,m,v]=(f=GI.exec(t))!==null&&f!==void 0?f:[],y=Dn.parse(p??""),w=Dn.parse(v??""),C=m==="+"?y.add(w):y.subtract(w);if(C.isNaN())return vo;t=t.replace(GI,C.toString())}return t}var YI=/\(([^()]*)\)/;function une(e){for(var t=e,n;(n=YI.exec(t))!=null;){var[,r]=n;t=t.replace(YI,oM(r))}return t}function dne(e){var t=e.replace(/\s+/g,"");return t=une(t),t=oM(t),t}function fne(e){try{return dne(e)}catch{return vo}}function Iy(e){var t=fne(e.slice(5,-1));return t===vo?"":t}var hne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],pne=["dx","dy","angle","className","breakAll"];function n0(){return n0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n0.apply(null,arguments)}function XI(e,t){if(e==null)return{};var n,r,i=mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lM=/[ \f\n\r\t\v\u2028\u2029]+/,cM=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Zt(t)||(n?i=t.toString().split(""):i=t.toString().split(lM));var s=i.map(c=>({word:c,width:Oc(c,r).width})),o=n?0:Oc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function gne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uM=(e,t,n,r)=>e.reduce((i,s)=>{var{word:o,width:c}=s,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var f={words:[o],width:c};i.push(f)}return i},[]),dM=e=>e.reduce((t,n)=>t.width>n.width?t:n),vne="",QI=(e,t,n,r,i,s,o,c)=>{var u=e.slice(0,t),f=cM({breakAll:n,style:r,children:u+vne});if(!f)return[!1,[]];var p=uM(f.wordsWithComputedWidth,s,o,c),m=p.length>i||dM(p).width>Number(s);return[m,p]},yne=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:c,breakAll:u}=e,f=_e(s),p=String(o),m=uM(t,r,n,i);if(!f||i)return m;var v=m.length>s||dM(m).width>Number(r);if(!v)return m;for(var y=0,w=p.length-1,C=0,_;y<=w&&C<=p.length-1;){var E=Math.floor((y+w)/2),k=E-1,[I,j]=QI(p,k,u,c,s,r,n,i),[P]=QI(p,E,u,c,s,r,n,i);if(!I&&!P&&(y=E+1),I&&P&&(w=E-1),!I&&P){_=j;break}C++}return _||m},JI=e=>{var t=Zt(e)?[]:e.toString().split(lM);return[{words:t,width:void 0}]},xne=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!sl.isSsr){var c,u,f=cM({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:p,spaceWidth:m}=f;c=p,u=m}else return JI(r);return yne({breakAll:s,children:r,maxLines:o,style:i},c,u,t,!!n)}return JI(r)},fM="#808080",wne={angle:0,breakAll:!1,capHeight:"0.71em",fill:fM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ub=b.forwardRef((e,t)=>{var n=tr(e,wne),{x:r,y:i,lineHeight:s,capHeight:o,fill:c,scaleToFit:u,textAnchor:f,verticalAnchor:p}=n,m=XI(n,hne),v=b.useMemo(()=>xne({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:w,angle:C,className:_,breakAll:E}=m,k=XI(m,pne);if(!ni(r)||!ni(i)||v.length===0)return null;var I=Number(r)+(_e(y)?y:0),j=Number(i)+(_e(w)?w:0);if(!Ct(I)||!Ct(j))return null;var P;switch(p){case"start":P=Iy("calc(".concat(o,")"));break;case"middle":P=Iy("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:P=Iy("calc(".concat(v.length-1," * -").concat(s,")"));break}var A=[];if(u){var U=v[0].width,{width:z}=m;A.push("scale(".concat(_e(z)&&_e(U)?z/U:1,")"))}return C&&A.push("rotate(".concat(C,", ").concat(I,", ").concat(j,")")),A.length&&(k.transform=A.join(" ")),b.createElement("text",n0({},mr(k),{ref:t,x:I,y:j,className:it("recharts-text",_),textAnchor:f,fill:c.includes("url")?fM:c}),v.map((Y,oe)=>{var M=Y.words.join(E?"":" ");return b.createElement("tspan",{x:I,dy:oe===0?P:s,key:"".concat(M,"-").concat(oe)},M)}))});Ub.displayName="Text";var bne=["labelRef"];function _ne(e,t){if(e==null)return{};var n,r,i=Sne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){Cne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cne(e,t,n){return(t=Ene(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ene(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wi.apply(null,arguments)}var hM=b.createContext(null),Nne=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:c}=e,u=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[t,n,r,i,s,o]);return b.createElement(hM.Provider,{value:u},c)},pM=()=>{var e=b.useContext(hM),t=Ep();return e||NR(t)},Ine=b.createContext(null),Pne=()=>{var e=b.useContext(Ine),t=Ee(HD);return e||t},jne=e=>{var{value:t,formatter:n}=e,r=Zt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Bb=e=>e!=null&&typeof e=="function",Tne=(e,t)=>{var n=Fn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Ane=(e,t,n,r,i)=>{var{offset:s,className:o}=e,{cx:c,cy:u,innerRadius:f,outerRadius:p,startAngle:m,endAngle:v,clockWise:y}=i,w=(f+p)/2,C=Tne(m,v),_=C>=0?1:-1,E,k;switch(t){case"insideStart":E=m+_*s,k=y;break;case"insideEnd":E=v-_*s,k=!y;break;case"end":E=v+_*s,k=y;break;default:throw new Error("Unsupported position ".concat(t))}k=C<=0?k:!k;var I=ln(c,u,w,E),j=ln(c,u,w,E+(k?1:-1)*359),P="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(k?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Zt(e.id)?Kc("recharts-radial-line-"):e.id;return b.createElement("text",wi({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:A,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(A)},n))},One=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:c,endAngle:u}=e,f=(c+u)/2;if(n==="outside"){var{x:p,y:m}=ln(r,i,o+t,f);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+o)/2,{x:y,y:w}=ln(r,i,v,f);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},r0=e=>"cx"in e&&_e(e.cx),Rne=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!r0(n)&&(s=n);var{x:o,y:c,upperWidth:u,lowerWidth:f,height:p}=t,m=o,v=o+(u-f)/2,y=(m+v)/2,w=(u+f)/2,C=m+u/2,_=p>=0?1:-1,E=_*r,k=_>0?"end":"start",I=_>0?"start":"end",j=u>=0?1:-1,P=j*r,A=j>0?"end":"start",U=j>0?"start":"end";if(i==="top"){var z={x:m+u/2,y:c-E,textAnchor:"middle",verticalAnchor:k};return St(St({},z),s?{height:Math.max(c-s.y,0),width:u}:{})}if(i==="bottom"){var Y={x:v+f/2,y:c+p+E,textAnchor:"middle",verticalAnchor:I};return St(St({},Y),s?{height:Math.max(s.y+s.height-(c+p),0),width:f}:{})}if(i==="left"){var oe={x:y-P,y:c+p/2,textAnchor:A,verticalAnchor:"middle"};return St(St({},oe),s?{width:Math.max(oe.x-s.x,0),height:p}:{})}if(i==="right"){var M={x:y+w+P,y:c+p/2,textAnchor:U,verticalAnchor:"middle"};return St(St({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var H=s?{width:w,height:p}:{};return i==="insideLeft"?St({x:y+P,y:c+p/2,textAnchor:U,verticalAnchor:"middle"},H):i==="insideRight"?St({x:y+w-P,y:c+p/2,textAnchor:A,verticalAnchor:"middle"},H):i==="insideTop"?St({x:m+u/2,y:c+E,textAnchor:"middle",verticalAnchor:I},H):i==="insideBottom"?St({x:v+f/2,y:c+p-E,textAnchor:"middle",verticalAnchor:k},H):i==="insideTopLeft"?St({x:m+P,y:c+E,textAnchor:U,verticalAnchor:I},H):i==="insideTopRight"?St({x:m+u-P,y:c+E,textAnchor:A,verticalAnchor:I},H):i==="insideBottomLeft"?St({x:v+P,y:c+p-E,textAnchor:U,verticalAnchor:k},H):i==="insideBottomRight"?St({x:v+f-P,y:c+p-E,textAnchor:A,verticalAnchor:k},H):i&&typeof i=="object"&&(_e(i.x)||Mi(i.x))&&(_e(i.y)||Mi(i.y))?St({x:o+zr(i.x,w),y:c+zr(i.y,p),textAnchor:"end",verticalAnchor:"end"},H):St({x:C,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},H)},Dne={angle:0,offset:5,zIndex:Sn.label,position:"middle",textBreakAll:!1};function xs(e){var t=tr(e,Dne),{viewBox:n,position:r,value:i,children:s,content:o,className:c="",textBreakAll:u,labelRef:f}=t,p=Pne(),m=pM(),v=r==="center"?m:p??m,y,w,C;if(n==null?y=v:r0(n)?y=n:y=NR(n),!y||Zt(i)&&Zt(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var _=St(St({},t),{},{viewBox:y});if(b.isValidElement(o)){var{labelRef:E}=_,k=_ne(_,bne);return b.cloneElement(o,k)}if(typeof o=="function"){if(w=b.createElement(o,_),b.isValidElement(w))return w}else w=jne(t);var I=mr(t);if(r0(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Ane(t,r,w,I,y);C=One(y,t.offset,t.position)}else C=Rne(t,y);return b.createElement(Xi,{zIndex:t.zIndex},b.createElement(Ub,wi({ref:f,className:it("recharts-label",c)},I,C,{textAnchor:gne(I.textAnchor)?I.textAnchor:C.textAnchor,breakAll:u}),w))}xs.displayName="Label";var Mne=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(xs,wi({key:"label-implicit"},r)):ni(e)?b.createElement(xs,wi({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===xs?b.cloneElement(e,St({key:"label-implicit"},r)):b.createElement(xs,wi({key:"label-implicit",content:e},r)):Bb(e)?b.createElement(xs,wi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(xs,wi({},e,{key:"label-implicit"},r)):null};function Lne(e){var{label:t,labelRef:n}=e,r=pM();return Mne(t,r,n)||null}var Py={},jy={},eP;function Fne(){return eP||(eP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(jy)),jy}var Ty={},tP;function $ne(){return tP||(tP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Ty)),Ty}var nP;function zne(){return nP||(nP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fne(),n=$ne(),r=Tw();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(Py)),Py}var Ay,rP;function Une(){return rP||(rP=1,Ay=zne().last),Ay}var Bne=Une();const Wne=si(Bne);var Vne=["valueAccessor"],Hne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dh.apply(null,arguments)}function iP(e,t){if(e==null)return{};var n,r,i=qne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Kne=e=>Array.isArray(e.value)?Wne(e.value):e.value,mM=b.createContext(void 0),Gne=mM.Provider,gM=b.createContext(void 0);gM.Provider;function Yne(){return b.useContext(mM)}function Xne(){return b.useContext(gM)}function Ef(e){var{valueAccessor:t=Kne}=e,n=iP(e,Vne),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:c}=n,u=iP(n,Hne),f=Yne(),p=Xne(),m=f||p;return!m||!m.length?null:b.createElement(Xi,{zIndex:c??Sn.label},b.createElement(Di,{className:"recharts-label-list"},m.map((v,y)=>{var w,C=Zt(r)?t(v,y):yn(v&&v.payload,r),_=Zt(s)?{}:{id:"".concat(s,"-").concat(y)};return b.createElement(xs,Dh({key:"label-".concat(y)},mr(v),u,_,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:C,textBreakAll:o,viewBox:v.viewBox,index:y,zIndex:0}))})))}Ef.displayName="LabelList";function Qne(e){var{label:t}=e;return t?t===!0?b.createElement(Ef,{key:"labelList-implicit"}):b.isValidElement(t)||Bb(t)?b.createElement(Ef,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Ef,Dh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var Jne={radiusAxis:{},angleAxis:{}},vM=Un({name:"polarAxis",initialState:Jne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ile,removeRadiusAxis:sle,addAngleAxis:ale,removeAngleAxis:ole}=vM.actions,Zne=vM.reducer,Oy={exports:{}},qe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function ere(){if(sP)return qe;sP=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,C=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function I(P){if(typeof P=="object"&&P!==null){var A=P.$$typeof;switch(A){case t:switch(P=P.type,P){case u:case f:case r:case s:case i:case m:return P;default:switch(P=P&&P.$$typeof,P){case c:case p:case w:case y:case o:return P;default:return A}}case n:return A}}}function j(P){return I(P)===f}return qe.AsyncMode=u,qe.ConcurrentMode=f,qe.ContextConsumer=c,qe.ContextProvider=o,qe.Element=t,qe.ForwardRef=p,qe.Fragment=r,qe.Lazy=w,qe.Memo=y,qe.Portal=n,qe.Profiler=s,qe.StrictMode=i,qe.Suspense=m,qe.isAsyncMode=function(P){return j(P)||I(P)===u},qe.isConcurrentMode=j,qe.isContextConsumer=function(P){return I(P)===c},qe.isContextProvider=function(P){return I(P)===o},qe.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===t},qe.isForwardRef=function(P){return I(P)===p},qe.isFragment=function(P){return I(P)===r},qe.isLazy=function(P){return I(P)===w},qe.isMemo=function(P){return I(P)===y},qe.isPortal=function(P){return I(P)===n},qe.isProfiler=function(P){return I(P)===s},qe.isStrictMode=function(P){return I(P)===i},qe.isSuspense=function(P){return I(P)===m},qe.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===f||P===s||P===i||P===m||P===v||typeof P=="object"&&P!==null&&(P.$$typeof===w||P.$$typeof===y||P.$$typeof===o||P.$$typeof===c||P.$$typeof===p||P.$$typeof===_||P.$$typeof===E||P.$$typeof===k||P.$$typeof===C)},qe.typeOf=I,qe}var aP;function tre(){return aP||(aP=1,Oy.exports=ere()),Oy.exports}var nre=tre(),oP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",lP=null,Ry=null,yM=e=>{if(e===lP&&Array.isArray(Ry))return Ry;var t=[];return b.Children.forEach(e,n=>{Zt(n)||(nre.isFragment(n)?t=t.concat(yM(n.props.children)):t.push(n))}),Ry=t,lP=e,t};function rre(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>oP(i)):r=[oP(t)],yM(e).forEach(i=>{var s=Fo(i,"type.displayName")||Fo(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var Dy={},cP;function ire(){return cP||(cP=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Dy)),Dy}var My,uP;function sre(){return uP||(uP=1,My=ire().isPlainObject),My}var are=sre();const ore=si(are);function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){lre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lre(e,t,n){return(t=cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cre(e){var t=ure(e,"string");return typeof t=="symbol"?t:t+""}function ure(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mh.apply(null,arguments)}var hP=(e,t,n,r,i)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),o+="L ".concat(e+n-s/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},dre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fre=e=>{var t=tr(e,dre),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:c}=t,{animationEasing:u,animationDuration:f,animationBegin:p,isUpdateAnimationActive:m}=t,v=b.useRef(null),[y,w]=b.useState(-1),C=b.useRef(i),_=b.useRef(s),E=b.useRef(o),k=b.useRef(n),I=b.useRef(r),j=Uw(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var xe=v.current.getTotalLength();xe&&w(xe)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var P=it("recharts-trapezoid",c);if(!m)return b.createElement("g",null,b.createElement("path",Mh({},mr(t),{className:P,d:hP(n,r,i,s,o)})));var A=C.current,U=_.current,z=E.current,Y=k.current,oe=I.current,M="0px ".concat(y===-1?1:y,"px"),H="".concat(y,"px 0px"),se=RR(["strokeDasharray"],f,u);return b.createElement(zw,{animationId:j,key:j,canBegin:y>0,duration:f,easing:u,isActive:m,begin:p},xe=>{var G=an(A,i,xe),fe=an(U,s,xe),le=an(z,o,xe),F=an(Y,n,xe),te=an(oe,r,xe);v.current&&(C.current=G,_.current=fe,E.current=le,k.current=F,I.current=te);var W=xe>0?{transition:se,strokeDasharray:H}:{strokeDasharray:M};return b.createElement("path",Mh({},mr(t),{className:P,d:hP(F,te,G,fe,le),ref:v,style:fP(fP({},W),t.style)}))})},hre=["option","shapeType","propTransformer","activeClassName"];function pre(e,t){if(e==null)return{};var n,r,i=mre(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){gre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gre(e,t,n){return(t=vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vre(e){var t=yre(e,"string");return typeof t=="symbol"?t:t+""}function yre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xre(e,t){return Lh(Lh({},t),e)}function wre(e,t){return e==="symbols"}function mP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(FR,n);case"trapezoid":return b.createElement(fre,n);case"sector":return b.createElement(UR,n);case"symbols":if(wre(t))return b.createElement(AO,n);break;case"curve":return b.createElement(OR,n);default:return null}}function bre(e){return b.isValidElement(e)?e.props:e}function _re(e){var{option:t,shapeType:n,propTransformer:r=xre,activeClassName:i="recharts-active-shape"}=e,s=pre(e,hre),o;if(b.isValidElement(t))o=b.cloneElement(t,Lh(Lh({},s),bre(t)));else if(typeof t=="function")o=t(s);else if(ore(t)&&typeof t!="boolean"){var c=r(t,s);o=b.createElement(mP,{shapeType:n,elementProps:c})}else{var u=s;o=b.createElement(mP,{shapeType:n,elementProps:u})}return s.isActive?b.createElement(Di,{className:i},o):o}var xM=(e,t)=>{var n=Et();return(r,i)=>s=>{e==null||e(r,i,s),n(R2({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},wM=e=>{var t=Et();return(n,r)=>i=>{e==null||e(n,r,i),t(VZ())}},bM=(e,t)=>{var n=Et();return(r,i)=>s=>{e==null||e(r,i,s),n(HZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Sre(e){var{tooltipEntrySettings:t}=e,n=Et(),r=Bn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(zZ(t)):i.current!==t&&n(UZ({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(BZ(i.current)),i.current=null)},[n]),null}function Cre(e){var{legendPayload:t}=e,n=Et(),r=Bn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(bG(t)):i.current!==t&&n(_G({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(SG(i.current)),i.current=null)},[n]),null}var Ly,Ere=()=>{var[e]=b.useState(()=>Kc("uid-"));return e},kre=(Ly=e3.useId)!==null&&Ly!==void 0?Ly:Ere;function _M(e,t){var n=kre();return t||(e?"".concat(e,"-").concat(n):n)}var Nre=b.createContext(void 0),Ire=e=>{var{id:t,type:n,children:r}=e,i=_M("recharts-".concat(n),t);return b.createElement(Nre.Provider,{value:i},r(i))},Pre={cartesianItems:[],polarItems:[]},SM=Un({name:"graphicalItems",initialState:Pre,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ct()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Dr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ct()},removeCartesianGraphicalItem:{reducer(e,t){var n=Dr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ct()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ct()},removePolarGraphicalItem:{reducer(e,t){var n=Dr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ct()}}}),{addCartesianGraphicalItem:jre,replaceCartesianGraphicalItem:Tre,removeCartesianGraphicalItem:Are,addPolarGraphicalItem:lle,removePolarGraphicalItem:cle}=SM.actions,Ore=SM.reducer,Rre=e=>{var t=Et(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(jre(e)):n.current!==e&&t(Tre({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(Are(n.current)),n.current=null)},[t]),null},Dre=b.memo(Rre);function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){Mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mre(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $re={xAxis:{},yAxis:{},zAxis:{}},CM=Un({name:"cartesianAxis",initialState:$re,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ct()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ct()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ct()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ct()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ct()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ct()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ct()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ct()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ct()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=vP(vP({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:zre,replaceXAxis:Ure,removeXAxis:Bre,addYAxis:Wre,replaceYAxis:Vre,removeYAxis:Hre,addZAxis:ule,replaceZAxis:dle,removeZAxis:fle,updateYAxisWidth:qre}=CM.actions,Kre=CM.reducer,Gre=V([en],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Yre=V([Gre,Vi,Hi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),EM=()=>Ee(Yre),Xre="Invariant failed";function Qre(e,t){throw new Error(Xre)}var Jre=["x","y"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i0.apply(null,arguments)}function yP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return(t=eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nie(e,t){if(e==null)return{};var n,r,i=rie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function iie(e,t){var{x:n,y:r}=e,i=nie(e,Jre),s="".concat(n),o=parseInt(s,10),c="".concat(r),u=parseInt(c,10),f="".concat(t.height||i.height),p=parseInt(f,10),m="".concat(t.width||i.width),v=parseInt(m,10);return vc(vc(vc(vc(vc({},t),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function Fh(e){return b.createElement(_re,i0({shapeType:"rectangle",propTransformer:iie,activeClassName:"recharts-active-bar"},e))}var sie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(_e(t))return t;var s=_e(r)||Zt(r);return s?t(r,i):(s||Qre(),n)}},aie={},kM=Un({name:"errorBars",initialState:aie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:hle,replaceErrorBar:ple,removeErrorBar:mle}=kM.actions,oie=kM.reducer,lie=["children"];function cie(e,t){if(e==null)return{};var n,r,i=uie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var die={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fie=b.createContext(die);function hie(e){var{children:t}=e,n=cie(e,lie);return b.createElement(fie.Provider,{value:n},t)}function NM(e,t){var n,r,i=Ee(f=>Ki(f,e)),s=Ee(f=>Gi(f,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:qt.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Kt.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function pie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=EM(),{needClipX:s,needClipY:o,needClip:c}=NM(t,n);if(!c||!i)return null;var{x:u,y:f,width:p,height:m}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?u:u-p/2,y:o?f:f-m/2,width:s?p:p*2,height:o?m:m*2}))}function mie(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ct(e.zIndex)?e.zIndex:t}var Fy={exports:{}},$y={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function gie(){if(xP)return $y;xP=1;var e=Ho();function t(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return $y.useSyncExternalStoreWithSelector=function(u,f,p,m,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function _(P){if(!E){if(E=!0,k=P,P=m(P),v!==void 0&&w.hasValue){var A=w.value;if(v(A,P))return I=A}return I=P}if(A=I,n(k,P))return A;var U=m(P);return v!==void 0&&v(A,U)?(k=P,A):(k=P,I=U)}var E=!1,k,I,j=p===void 0?null:p;return[function(){return _(f())},j===null?void 0:function(){return _(j())}]},[f,p,m,v]);var C=r(u,y[0],y[1]);return s(function(){w.hasValue=!0,w.value=C},[C]),c(C),C},$y}var wP;function vie(){return wP||(wP=1,Fy.exports=gie()),Fy.exports}vie();function yie(e){e()}function xie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){yie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var bP={notify(){},get:()=>[]};function wie(e,t){let n,r=bP,i=0,s=!1;function o(C){p();const _=r.subscribe(C);let E=!1;return()=>{E||(E=!0,_(),m())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function f(){return s}function p(){i++,n||(n=e.subscribe(u),r=xie())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=bP)}function v(){s||(s=!0,p())}function y(){s&&(s=!1,m())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:f,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return w}var bie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_ie=bie(),Sie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Cie=Sie(),Eie=()=>_ie||Cie?b.useLayoutEffect:b.useEffect,kie=Eie();function _P(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Nie(e,t){if(_P(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!_P(e[n[i]],t[n[i]]))return!1;return!0}var zy=Symbol.for("react-redux-context"),Uy=typeof globalThis<"u"?globalThis:{};function Iie(){if(!b.createContext)return{};const e=Uy[zy]??(Uy[zy]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Pie=Iie();function jie(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const u=wie(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=b.useMemo(()=>i.getState(),[i]);kie(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const c=n||Pie;return b.createElement(c.Provider,{value:s},t)}var Tie=jie,Aie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Oie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Wb(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Aie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Nie(e[r],t[r]))return!1}else if(!Oie(e[r],t[r]))return!1;return!0}var Rie=["onMouseEnter","onMouseLeave","onClick"],Die=["value","background","tooltipPosition"],Mie=["id"],Lie=["onMouseEnter","onClick","onMouseLeave"];function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(null,arguments)}function SP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(n),!0).forEach(function(r){Fie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fie(e,t,n){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ie(e){var t=zie(e,"string");return typeof t=="symbol"?t:t+""}function zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $h(e,t){if(e==null)return{};var n,r,i=Uie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Bie=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:_R(n,t),payload:e}]},Wie=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:c,tooltipType:u}=e,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:_R(s,t),hide:o,type:u,color:i,unit:c}};return b.createElement(Sre,{tooltipEntrySettings:f})});function Vie(e){var t=Ee(Vo),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=s,f=$h(s,Rie),p=xM(o,r),m=wM(c),v=bM(u,r);if(!i||n==null)return null;var y=Sw(i);return b.createElement(Xi,{zIndex:mie(i,Sn.barBackground)},n.map((w,C)=>{var{value:_,background:E,tooltipPosition:k}=w,I=$h(w,Die);if(!E)return null;var j=p(w,C),P=m(w,C),A=v(w,C),U=bn(bn(bn(bn(bn({option:i,isActive:String(C)===t},I),{},{fill:"#eee"},E),y),jw(f,w,C)),{},{onMouseEnter:j,onMouseLeave:P,onClick:A,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return b.createElement(Fh,Bi({key:"background-bar-".concat(C)},U))}))}function Hie(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return bn(bn({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return b.createElement(Gne,{value:t?i:void 0},n)}function qie(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:o}=e,c=Ee(Vo),u=Ee(G2),f=n&&String(s)===c&&(u==null||o===u),p=f?n:t;return f?b.createElement(Xi,{zIndex:Sn.activeBar},b.createElement(Fh,Bi({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:o}))):b.createElement(Fh,Bi({},r,{name:String(r.name)},i,{isActive:f,option:p,index:s,dataKey:o}))}function Kie(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return b.createElement(Fh,Bi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function Gie(e){var t,{data:n,props:r}=e,i=(t=Ri(r))!==null&&t!==void 0?t:{},{id:s}=i,o=$h(i,Mie),{shape:c,dataKey:u,activeBar:f}=r,{onMouseEnter:p,onClick:m,onMouseLeave:v}=r,y=$h(r,Lie),w=xM(p,u),C=wM(v),_=bM(m,u);return n?b.createElement(b.Fragment,null,n.map((E,k)=>b.createElement(Di,Bi({key:"rectangle-".concat(E==null?void 0:E.x,"-").concat(E==null?void 0:E.y,"-").concat(E==null?void 0:E.value,"-").concat(k),className:"recharts-bar-rectangle"},jw(y,E,k),{onMouseEnter:w(E,k),onMouseLeave:C(E,k),onClick:_(E,k)}),f?b.createElement(qie,{shape:c,activeBar:f,baseProps:o,entry:E,index:k,dataKey:u}):b.createElement(Kie,{shape:c,baseProps:o,entry:E,index:k,dataKey:u})))):null}function Yie(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:f,onAnimationStart:p}=t,m=n.current,v=Uw(t,"recharts-bar-"),[y,w]=b.useState(!1),C=!y,_=b.useCallback(()=>{typeof f=="function"&&f(),w(!1)},[f]),E=b.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return b.createElement(Hie,{showLabels:C,rects:r},b.createElement(zw,{animationId:v,begin:o,duration:c,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:E,key:v},k=>{var I=k===1?r:r==null?void 0:r.map((j,P)=>{var A=m&&m[P];if(A)return bn(bn({},j),{},{x:an(A.x,j.x,k),y:an(A.y,j.y,k),width:an(A.width,j.width,k),height:an(A.height,j.height,k)});if(i==="horizontal"){var U=an(0,j.height,k),z=an(j.stackedBarStart,j.y,k);return bn(bn({},j),{},{y:z,height:U})}var Y=an(0,j.width,k),oe=an(j.stackedBarStart,j.x,k);return bn(bn({},j),{},{width:Y,x:oe})});return k>0&&(n.current=I??null),I==null?null:b.createElement(Di,null,b.createElement(Gie,{props:t,data:I}))}),b.createElement(Qne,{label:t.label}),t.children)}function Xie(e){var t=b.useRef(null);return b.createElement(Yie,{previousRectanglesRef:t,props:e})}var IM=0,Qie=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:yn(e,t)}};class Jie extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:c,background:u,id:f}=this.props;if(t||n==null)return null;var p=it("recharts-bar",i),m=f;return b.createElement(Di,{className:p,id:f},c&&b.createElement("defs",null,b.createElement(pie,{clipPathId:m,xAxisId:s,yAxisId:o})),b.createElement(Di,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},b.createElement(Vie,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),b.createElement(Xie,this.props)))}}var Zie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:IM,xAxisId:0,yAxisId:0,zIndex:Sn.bar};function ese(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:f,isAnimationActive:p}=e,{needClip:m}=NM(t,n),v=kp(),y=Bn(),w=rre(e.children,iM),C=Ee(k=>Ise(k,t,n,y,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var _,E=C==null?void 0:C[0];return E==null||E.height==null||E.width==null?_=0:_=v==="vertical"?E.height/2:E.width/2,b.createElement(hie,{xAxisId:t,yAxisId:n,data:C,dataPointFormatter:Qie,errorBarOffset:_},b.createElement(Jie,Bi({},e,{layout:v,needClip:m,data:C,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:f,isAnimationActive:p})))}function tse(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:f,stackedData:p,displayedData:m,offset:v,cells:y,parentViewBox:w,dataStartIndex:C}=e,_=t==="horizontal"?c:o,E=p?_.scale.domain():null,k=DK({numericAxis:_}),I=_.scale(k);return m.map((j,P)=>{var A,U,z,Y,oe,M;p?A=PK(p[P+C],E):(A=yn(j,n),Array.isArray(A)||(A=[k,A]));var H=sie(r,IM)(A[1],P);if(t==="horizontal"){var se,[xe,G]=[c.scale(A[0]),c.scale(A[1])];U=eN({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:j,index:P}),z=(se=G??xe)!==null&&se!==void 0?se:void 0,Y=i.size;var fe=xe-G;if(oe=$r(fe)?0:fe,M={x:U,y:v.top,width:Y,height:v.height},Math.abs(H)>0&&Math.abs(oe)<Math.abs(H)){var le=Fn(oe||H)*(Math.abs(H)-Math.abs(oe));z-=le,oe+=le}}else{var[F,te]=[o.scale(A[0]),o.scale(A[1])];if(U=F,z=eN({axis:c,ticks:f,bandSize:s,offset:i.offset,entry:j,index:P}),Y=te-F,oe=i.size,M={x:v.left,y:z,width:v.width,height:oe},Math.abs(H)>0&&Math.abs(Y)<Math.abs(H)){var W=Fn(Y||H)*(Math.abs(H)-Math.abs(Y));Y+=W}}if(U==null||z==null||Y==null||oe==null)return null;var O=bn(bn({},j),{},{stackedBarStart:I,x:U,y:z,width:Y,height:oe,value:p?A:A[1],payload:j,background:M,tooltipPosition:{x:U+Y/2,y:z+oe/2},parentViewBox:w},y&&y[P]&&y[P].props);return O}).filter(Boolean)}function nse(e){var t=tr(e,Zie),n=Bn();return b.createElement(Ire,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(Cre,{legendPayload:Bie(t)}),b.createElement(Wie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(Dre,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:RK(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(Xi,{zIndex:t.zIndex},b.createElement(ese,Bi({},t,{id:r})))))}var PM=b.memo(nse,Wb);PM.displayName="Bar";function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){rse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rse(e,t,n){return(t=ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ise(e){var t=sse(e,"string");return typeof t=="symbol"?t:t+""}function sse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ase=(e,t)=>t,ose=(e,t,n)=>n,lse=(e,t,n,r)=>r,cse=(e,t,n,r,i)=>i,Au=V([_b,cse],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),use=V([Au],e=>e==null?void 0:e.maxBarSize),dse=(e,t,n,r,i,s)=>s,EP=(e,t,n)=>{var r=n??e;if(!Zt(r))return zr(r,t,0)},fse=V([Ye,_b,ase,ose,lse],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),hse=(e,t,n,r)=>{var i=Ye(e);return i==="horizontal"?Qx(e,"yAxis",n,r):Qx(e,"xAxis",t,r)},pse=(e,t,n)=>{var r=Ye(e);return r==="horizontal"?EI(e,"xAxis",t):EI(e,"yAxis",n)},mse=(e,t,n)=>{var r={},i=e.filter(Fp),s=e.filter(f=>f.stackId==null),o=i.reduce((f,p)=>(f[p.stackId]||(f[p.stackId]=[]),f[p.stackId].push(p),f),r),c=Object.entries(o).map(f=>{var[p,m]=f,v=m.map(w=>w.dataKey),y=EP(t,n,m[0].barSize);return{stackId:p,dataKeys:v,barSize:y}}),u=s.map(f=>{var p=[f.dataKey].filter(v=>v!=null),m=EP(t,n,f.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...u]},gse=V([fse,OJ,pse],mse),vse=(e,t,n,r,i)=>{var s,o,c=Au(e,t,n,r,i);if(c!=null){var u=Ye(e),f=LD(e),{maxBarSize:p}=c,m=Zt(p)?f:p,v,y;return u==="horizontal"?(v=Wo(e,"xAxis",t,r),y=Bo(e,"xAxis",t,r)):(v=Wo(e,"yAxis",n,r),y=Bo(e,"yAxis",n,r)),(s=(o=mh(v,y,!0))!==null&&o!==void 0?o:m)!==null&&s!==void 0?s:0}},jM=(e,t,n,r)=>{var i=Ye(e),s,o;return i==="horizontal"?(s=Wo(e,"xAxis",t,r),o=Bo(e,"xAxis",t,r)):(s=Wo(e,"yAxis",n,r),o=Bo(e,"yAxis",n,r)),mh(s,o)};function yse(e,t,n,r,i){var s=r.length;if(!(s<1)){var o=zr(e,n,0,!0),c,u=[];if(Ct(r[0].barSize)){var f=!1,p=n/s,m=r.reduce((E,k)=>E+(k.barSize||0),0);m+=(s-1)*o,m>=n&&(m-=(s-1)*o,o=0),m>=n&&p>0&&(f=!0,p*=.9,m=s*p);var v=(n-m)/2>>0,y={offset:v-o,size:0};c=r.reduce((E,k)=>{var I,j={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:y.offset+y.size+o,size:f?p:(I=k.barSize)!==null&&I!==void 0?I:0}},P=[...E,j];return y=P[P.length-1].position,P},u)}else{var w=zr(t,n,0,!0);n-2*w-(s-1)*o<=0&&(o=0);var C=(n-2*w-(s-1)*o)/s;C>1&&(C>>=0);var _=Ct(i)?Math.min(C,i):C;c=r.reduce((E,k,I)=>[...E,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:w+(C+o)*I+(C-_)/2,size:_}}],u)}return c}}var xse=(e,t,n,r,i,s,o)=>{var c=Zt(o)?t:o,u=yse(n,r,i!==s?i:s,e,c);return i!==s&&u!=null&&(u=u.map(f=>pf(pf({},f),{},{position:pf(pf({},f.position),{},{offset:f.position.offset-i/2})}))),u},wse=V([gse,LD,AJ,FD,vse,jM,use],xse),bse=(e,t,n,r)=>Wo(e,"xAxis",t,r),_se=(e,t,n,r)=>Wo(e,"yAxis",n,r),Sse=(e,t,n,r)=>Bo(e,"xAxis",t,r),Cse=(e,t,n,r)=>Bo(e,"yAxis",n,r),Ese=V([wse,Au],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),kse=(e,t)=>{var n=wb(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}},Nse=V([hse,Au],kse),Ise=V([en,Fw,bse,_se,Sse,Cse,Ese,Ye,db,jM,Nse,Au,dse],(e,t,n,r,i,s,o,c,u,f,p,m,v)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:C}=u;if(!(m==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||f==null)){var{data:_}=m,E;if(_!=null&&_.length>0?E=_:E=y==null?void 0:y.slice(w,C+1),E!=null)return tse({layout:c,barSettings:m,pos:o,parentViewBox:t,bandSize:f,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:E,offset:e,cells:v,dataStartIndex:w})}}),Pse=e=>{var{chartData:t}=e,n=Et(),r=Bn();return b.useEffect(()=>r?()=>{}:(n(FI(t)),()=>{n(FI(void 0))}),[t,n,r]),null},kP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TM=Un({name:"brush",initialState:kP,reducers:{setBrushSettings(e,t){return t.payload==null?kP:t.payload}}}),{setBrushSettings:gle}=TM.actions,jse=TM.reducer;function Tse(e,t,n){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ase(e){var t=Ose(e,"string");return typeof t=="symbol"?t:t+""}function Ose(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vb{static create(t){return new Vb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Tse(Vb,"EPS",1e-4);function Rse(e){return(e%180+180)%180}var Dse=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Rse(i),o=s*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},Mse={dots:[],areas:[],lines:[]},AM=Un({name:"referenceElements",initialState:Mse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Dr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Dr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Dr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:vle,removeDot:yle,addArea:xle,removeArea:wle,addLine:ble,removeLine:_le}=AM.actions,Lse=AM.reducer,Fse=b.createContext(void 0),$se=e=>{var{children:t}=e,[n]=b.useState("".concat(Kc("recharts"),"-clip")),r=EM();if(r==null)return null;var{x:i,y:s,width:o,height:c}=r;return b.createElement(Fse.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:c,width:o}))),t)};function OM(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function zse(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Dse(r,n)}function Use(e,t,n){var r=n==="width",{x:i,y:s,width:o,height:c}=e;return t===1?{start:r?i:s,end:r?i+o:s+c}:{start:r?i+o:s+c,end:r?i:s}}function zh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function Bse(e,t){return OM(e,t+1)}function Wse(e,t,n,r,i){for(var s=(r||[]).slice(),{start:o,end:c}=t,u=0,f=1,p=o,m=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:OM(r,f)};var C=u,_,E=()=>(_===void 0&&(_=n(w,C)),_),k=w.coordinate,I=u===0||zh(e,k,E,p,c);I||(u=0,p=o,f+=1),I&&(p=k+e*(E()/2+i),u+=f)},v;f<=s.length;)if(v=m(),v)return v.v;return[]}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(n),!0).forEach(function(r){Vse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vse(e,t,n){return(t=Hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:c}=t,{end:u}=t,f=function(v){var y=s[v],w,C=()=>(w===void 0&&(w=n(y,v)),w);if(v===o-1){var _=e*(y.coordinate+e*C()/2-u);s[v]=y=gn(gn({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else s[v]=y=gn(gn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var E=zh(e,y.tickCoord,C,c,u);E&&(u=y.tickCoord-e*(C()/2+i),s[v]=gn(gn({},y),{},{isShow:!0}))}},p=o-1;p>=0;p--)f(p);return s}function Gse(e,t,n,r,i,s){var o=(r||[]).slice(),c=o.length,{start:u,end:f}=t;if(s){var p=r[c-1],m=n(p,c-1),v=e*(p.coordinate+e*m/2-f);if(o[c-1]=p=gn(gn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var y=zh(e,p.tickCoord,()=>m,u,f);y&&(f=p.tickCoord-e*(m/2+i),o[c-1]=gn(gn({},p),{},{isShow:!0}))}}for(var w=s?c-1:c,C=function(k){var I=o[k],j,P=()=>(j===void 0&&(j=n(I,k)),j);if(k===0){var A=e*(I.coordinate-e*P()/2-u);o[k]=I=gn(gn({},I),{},{tickCoord:A<0?I.coordinate-A*e:I.coordinate})}else o[k]=I=gn(gn({},I),{},{tickCoord:I.coordinate});if(I.tickCoord!=null){var U=zh(e,I.tickCoord,P,u,f);U&&(u=I.tickCoord+e*(P()/2+i),o[k]=gn(gn({},I),{},{isShow:!0}))}},_=0;_<w;_++)C(_);return o}function Hb(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:c,interval:u,tickFormatter:f,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(_e(u)||sl.isSsr){var v;return(v=Bse(i,_e(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],w=c==="top"||c==="bottom"?"width":"height",C=p&&w==="width"?Oc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(I,j)=>{var P=typeof f=="function"?f(I.value,j):I.value;return w==="width"?zse(Oc(P,{fontSize:t,letterSpacing:n}),C,m):Oc(P,{fontSize:t,letterSpacing:n})[w]},E=i.length>=2?Fn(i[1].coordinate-i[0].coordinate):1,k=Use(s,E,w);return u==="equidistantPreserveStart"?Wse(E,k,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=Gse(E,k,_,i,o,u==="preserveStartEnd"):y=Kse(E,k,_,i,o),y.filter(I=>I.isShow))}var Yse=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+s,f=o+u+c+(n?r:0);return Math.round(f)}return 0},Xse=["axisLine","width","height","className","hide","ticks","axisType"];function Qse(e,t){if(e==null)return{};var n,r,i=Jse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ea.apply(null,arguments)}function IP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(n),!0).forEach(function(r){Zse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zse(e,t,n){return(t=eae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eae(e){var t=tae(e,"string");return typeof t=="symbol"?t:t+""}function tae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sn.axis};function nae(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var f=It(It(It({},u),Ri(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!o||s==="bottom"&&o);f=It(It({},f),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var m=+(s==="left"&&!o||s==="right"&&o);f=It(It({},f),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return b.createElement("line",Ea({},f,{className:it("recharts-cartesian-axis-line",Fo(c,"className"))}))}function rae(e,t,n,r,i,s,o,c,u){var f,p,m,v,y,w,C=c?-1:1,_=e.tickSize||o,E=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":f=p=e.coordinate,v=n+ +!c*i,m=v-C*_,w=m-C*u,y=E;break;case"left":m=v=e.coordinate,p=t+ +!c*r,f=p-C*_,y=f-C*u,w=E;break;case"right":m=v=e.coordinate,p=t+ +c*r,f=p+C*_,y=f+C*u,w=E;break;default:f=p=e.coordinate,v=n+ +c*i,m=v+C*_,w=m+C*u,y=E;break}return{line:{x1:f,y1:m,x2:p,y2:v},tick:{x:y,y:w}}}function iae(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function sae(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function aae(e){var{option:t,tickProps:n,value:r}=e,i,s=it(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,It(It({},n),{},{className:s}));else if(typeof t=="function")i=t(It(It({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=it(o,t==null?void 0:t.className)),i=b.createElement(Ub,Ea({},n,{className:o}),r)}return i}var oae=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:c,padding:u,tickTextProps:f,orientation:p,mirror:m,x:v,y,width:w,height:C,tickSize:_,tickMargin:E,fontSize:k,letterSpacing:I,getTicksConfig:j,events:P,axisType:A}=e,U=Hb(It(It({},j),{},{ticks:n}),k,I),z=iae(p,m),Y=sae(p,m),oe=Ri(j),M=Sw(r),H={};typeof i=="object"&&(H=i);var se=It(It({},oe),{},{fill:"none"},H),xe=U.map(le=>It({entry:le},rae(le,v,y,w,C,p,_,m,E))),G=xe.map(le=>{var{entry:F,line:te}=le;return b.createElement(Di,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&b.createElement("line",Ea({},se,te,{className:it("recharts-cartesian-axis-tick-line",Fo(i,"className"))})))}),fe=xe.map((le,F)=>{var{entry:te,tick:W}=le,O=It(It(It(It({textAnchor:z,verticalAnchor:Y},oe),{},{stroke:"none",fill:s},M),W),{},{index:F,payload:te,visibleTicksCount:U.length,tickFormatter:o,padding:u},f);return b.createElement(Di,Ea({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},jw(P,te,F)),r&&b.createElement(aae,{option:r,tickProps:O,value:"".concat(typeof o=="function"?o(te.value,F):te.value).concat(c||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},fe.length>0&&b.createElement(Xi,{zIndex:Sn.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},fe)),G.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},G))}),lae=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:c,axisType:u}=e,f=Qse(e,Xse),[p,m]=b.useState(""),[v,y]=b.useState(""),w=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return Yse({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var C=b.useCallback(_=>{if(_){var E=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=E;var k=E[0];if(k){var I=window.getComputedStyle(k),j=I.fontSize,P=I.letterSpacing;(j!==p||P!==v)&&(m(j),y(P))}}},[p,v]);return o||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Xi,{zIndex:e.zIndex},b.createElement(Di,{className:it("recharts-cartesian-axis",s)},b.createElement(nae,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ri(e)}),b.createElement(oae,{ref:C,axisType:u,events:f,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Nne,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(Lne,{label:e.label,labelRef:e.labelRef}),e.children)))}),qb=b.forwardRef((e,t)=>{var n=tr(e,Pi);return b.createElement(lae,Ea({},n,{ref:t}))});qb.displayName="CartesianAxis";var cae=["x1","y1","x2","y2","key"],uae=["offset"],dae=["xAxisId","yAxisId"],fae=["xAxisId","yAxisId"];function PP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(n),!0).forEach(function(r){hae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hae(e,t,n){return(t=pae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pae(e){var t=mae(e,"string");return typeof t=="symbol"?t:t+""}function mae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ca(){return ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ca.apply(null,arguments)}function Uh(e,t){if(e==null)return{};var n,r,i=gae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vae=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:c}=e;return b.createElement("rect",{x:r,y:i,ry:c,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RM(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:o,x2:c,y2:u,key:f}=n,p=Uh(n,cae),m=(i=Ri(p))!==null&&i!==void 0?i:{},{offset:v}=m,y=Uh(m,uae);r=b.createElement("line",ca({},y,{x1:s,y1:o,x2:c,y2:u,fill:"none",key:f}))}return r}function yae(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,c=Uh(e,dae),u=i.map((f,p)=>{var m=vn(vn({},c),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(p),index:p});return b.createElement(RM,{key:"line-".concat(p),option:r,lineItemProps:m})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function xae(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,c=Uh(e,fae),u=i.map((f,p)=>{var m=vn(vn({},c),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(p),index:p});return b.createElement(RM,{option:r,lineItemProps:m,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function wae(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var f=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var y=!f[v+1],w=y?i+o-m:f[v+1]-m;if(w<=0)return null;var C=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:w,width:s,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function bae(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var f=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==f[0]&&f.unshift(0);var p=f.map((m,v)=>{var y=!f[v+1],w=y?i+o-m:f[v+1]-m;if(w<=0)return null;var C=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:m,y:s,width:w,height:c,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var _ae=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return wR(Hb(vn(vn(vn({},Pi),n),{},{ticks:bR(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Sae=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return wR(Hb(vn(vn(vn({},Pi),n),{},{ticks:bR(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},Cae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Sn.grid};function DM(e){var t=PR(),n=jR(),r=IR(),i=vn(vn({},tr(e,Cae)),{},{x:_e(e.x)?e.x:r.left,y:_e(e.y)?e.y:r.top,width:_e(e.width)?e.width:r.width,height:_e(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:c,y:u,width:f,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:y}=i,w=Bn(),C=Ee(Y=>kI(Y,"xAxis",s,w)),_=Ee(Y=>kI(Y,"yAxis",o,w));if(!ri(f)||!ri(p)||!_e(c)||!_e(u))return null;var E=i.verticalCoordinatesGenerator||_ae,k=i.horizontalCoordinatesGenerator||Sae,{horizontalPoints:I,verticalPoints:j}=i;if((!I||!I.length)&&typeof k=="function"){var P=v&&v.length,A=k({yAxis:_?vn(vn({},_),{},{ticks:P?v:_.ticks}):void 0,width:t??f,height:n??p,offset:r},P?!0:m);gh(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(I=A)}if((!j||!j.length)&&typeof E=="function"){var U=y&&y.length,z=E({xAxis:C?vn(vn({},C),{},{ticks:U?y:C.ticks}):void 0,width:t??f,height:n??p,offset:r},U?!0:m);gh(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(j=z)}return b.createElement(Xi,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(vae,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(wae,ca({},i,{horizontalPoints:I})),b.createElement(bae,ca({},i,{verticalPoints:j})),b.createElement(yae,ca({},i,{offset:r,horizontalPoints:I,xAxis:C,yAxis:_})),b.createElement(xae,ca({},i,{offset:r,verticalPoints:j,xAxis:C,yAxis:_}))))}DM.displayName="CartesianGrid";var Eae=["domain","range"],kae=["domain","range"];function jP(e,t){if(e==null)return{};var n,r,i=Nae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Nae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function MM(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=jP(e,Eae),{domain:s,range:o}=t,c=jP(t,kae);return!TP(n,s)||!TP(r,o)?!1:Wb(i,c)}var Iae=["dangerouslySetInnerHTML","ticks"],Pae=["id"];function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s0.apply(null,arguments)}function AP(e,t){if(e==null)return{};var n,r,i=jae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tae(e){var t=Et(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(zre(e)):n.current!==e&&t(Ure({prev:n.current,next:e})),n.current=e},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Bre(n.current)),n.current=null)},[t]),null}var Aae=e=>{var{xAxisId:t,className:n}=e,r=Ee(Fw),i=Bn(),s="xAxis",o=Ee(_=>dl(_,s,t,i)),c=Ee(_=>I2(_,s,t,i)),u=Ee(_=>C2(_,t)),f=Ee(_=>jZ(_,t)),p=Ee(_=>KD(_,t));if(u==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,y=AP(e,Iae),{id:w}=p,C=AP(p,Pae);return b.createElement(qb,s0({},y,C,{scale:o,x:f.x,y:f.y,width:u.width,height:u.height,className:it("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},Oae={allowDataOverflow:qt.allowDataOverflow,allowDecimals:qt.allowDecimals,allowDuplicatedCategory:qt.allowDuplicatedCategory,angle:qt.angle,axisLine:Pi.axisLine,height:qt.height,hide:!1,includeHidden:qt.includeHidden,interval:qt.interval,minTickGap:qt.minTickGap,mirror:qt.mirror,orientation:qt.orientation,padding:qt.padding,reversed:qt.reversed,scale:qt.scale,tick:qt.tick,tickCount:qt.tickCount,tickLine:Pi.tickLine,tickSize:Pi.tickSize,type:qt.type,xAxisId:0},Rae=e=>{var t=tr(e,Oae);return b.createElement(b.Fragment,null,b.createElement(Tae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(Aae,t))},LM=b.memo(Rae,MM);LM.displayName="XAxis";var Dae=["dangerouslySetInnerHTML","ticks"],Mae=["id"];function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function OP(e,t){if(e==null)return{};var n,r,i=Lae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Lae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fae(e){var t=Et(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Wre(e)):n.current!==e&&t(Vre({prev:n.current,next:e})),n.current=e},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Hre(n.current)),n.current=null)},[t]),null}var $ae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=b.useRef(null),o=b.useRef(null),c=Ee(Fw),u=Bn(),f=Et(),p="yAxis",m=Ee(P=>dl(P,p,t,u)),v=Ee(P=>E2(P,t)),y=Ee(P=>AZ(P,t)),w=Ee(P=>I2(P,p,t,u)),C=Ee(P=>GD(P,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Bb(i)||b.isValidElement(i)||C==null)){var P=s.current;if(P){var A=P.getCalculatedWidth();Math.round(v.width)!==Math.round(A)&&f(qre({id:t,width:A}))}}},[w,v,f,i,t,r,C]),v==null||y==null||C==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=e,k=OP(e,Dae),{id:I}=C,j=OP(C,Mae);return b.createElement(qb,a0({},k,j,{ref:s,labelRef:o,scale:m,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:it("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:w,axisType:p}))},zae={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:Pi.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:Pi.tickLine,tickSize:Pi.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},Uae=e=>{var t=tr(e,zae);return b.createElement(b.Fragment,null,b.createElement(Fae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement($ae,t))},FM=b.memo(Uae,MM);FM.displayName="YAxis";var Bae=(e,t)=>t,Kb=V([Bae,Ye,HD,Ut,V2,Yi,qee,en],Zee),Gb=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},$M=gr("mouseClick"),zM=yu();zM.startListening({actionCreator:$M,effect:(e,t)=>{var n=e.payload,r=Kb(t.getState(),Gb(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(qZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var o0=gr("mouseMove"),UM=yu(),mf=null;UM.startListening({actionCreator:o0,effect:(e,t)=>{var n=e.payload;mf!==null&&cancelAnimationFrame(mf);var r=Gb(n);mf=requestAnimationFrame(()=>{var i=t.getState(),s=Tb(i,i.tooltip.settings.shared);if(s==="axis"){var o=Kb(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(M2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(D2())}mf=null})}});var RP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},BM=Un({name:"rootProps",initialState:RP,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:RP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Wae=BM.reducer,{updateOptions:Vae}=BM.actions,WM=Un({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Sle}=WM.actions,Hae=WM.reducer,VM=gr("keyDown"),HM=gr("focus"),Yb=yu();Yb.startListening({actionCreator:VM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Ab(i,hl(n),ku(n),Tu(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Yi(n);if(s==="Enter"){var f=Rh(n,"axis","hover",String(i.index));t.dispatch(Zx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var p=MZ(n),m=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=c+v*m;if(!(u==null||y>=u.length||y<0)){var w=Rh(n,"axis","hover",String(y));t.dispatch(Zx({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});Yb.startListening({actionCreator:HM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=Rh(n,"axis","hover",String(s));t.dispatch(Zx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ur=gr("externalEvent"),qM=yu(),By=new Map;qM.startListening({actionCreator:ur,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=By.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:Tee(c),activeDataKey:G2(c),activeIndex:Vo(c),activeLabel:K2(c),activeTooltipIndex:Vo(c),isTooltipActive:Aee(c)};n(u,r)}finally{By.delete(i)}});By.set(i,o)}}});var qae=V([fl],e=>e.tooltipItemPayloads),Kae=V([qae,Pu,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),KM=gr("touchMove"),GM=yu();GM.startListening({actionCreator:KM,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=Tb(r,r.tooltip.settings.shared);if(i==="axis"){var s=Kb(r,Gb({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(M2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(BK),p=(o=u.getAttribute(WK))!==null&&o!==void 0?o:void 0,m=Kae(t.getState(),f,p);t.dispatch(R2({activeDataKey:p,activeIndex:f,activeCoordinate:m}))}}}});var Gae=GO({brush:jse,cartesianAxis:Kre,chartData:Tte,errorBars:oie,graphicalItems:Ore,layout:SK,legend:CG,options:kte,polarAxis:Zne,polarOptions:Hae,referenceElements:Lse,rootProps:Wae,tooltip:KZ,zIndex:hte}),Yae=function(t){return G7({reducer:Gae,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([zM.middleware,UM.middleware,Yb.middleware,qM.middleware,GM.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(aR({type:"raf"}))},devTools:sl.devToolsEnabled})};function Xae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Bn(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=Yae(t));var o=Aw;return b.createElement(Tie,{context:o,store:s.current},n)}function Qae(e){var{layout:t,margin:n}=e,r=Et(),i=Bn();return b.useEffect(()=>{i||(r(wK(t)),r(xK(n)))},[r,i,t,n]),null}var Jae=b.memo(Qae,Wb);function Zae(e){var t=Et();return b.useEffect(()=>{t(Vae(e))},[t,e]),null}function DP(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=_M("".concat(r).concat(t)),s=Et();return b.useLayoutEffect(()=>(s(dte({zIndex:t,elementId:i,isPanorama:n})),()=>{s(fte({zIndex:t,isPanorama:n}))}),[s,t,i,n]),b.createElement("g",{id:i})}function MP(e){var{children:t,isPanorama:n}=e,r=Ee(tte);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return b.createElement(b.Fragment,null,i.map(o=>b.createElement(DP,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>b.createElement(DP,{key:o,zIndex:o,isPanorama:n})))}var eoe=["children"];function toe(e,t){if(e==null)return{};var n,r,i=noe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function noe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(null,arguments)}var roe={width:"100%",height:"100%",display:"block"},ioe=b.forwardRef((e,t)=>{var n=PR(),r=jR(),i=AR();if(!ri(n)||!ri(r))return null;var{children:s,otherAttributes:o,title:c,desc:u}=e,f,p;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?p=o.role:p=i?"application":void 0),b.createElement(fO,Bh({},o,{title:c,desc:u,role:p,tabIndex:f,width:n,height:r,style:roe,ref:t}),s)}),soe=e=>{var{children:t}=e,n=Ee(Cp);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return b.createElement(fO,{width:r,height:i,x:o,y:s},t)},LP=b.forwardRef((e,t)=>{var{children:n}=e,r=toe(e,eoe),i=Bn();return i?b.createElement(soe,null,b.createElement(MP,{isPanorama:!0},n)):b.createElement(ioe,Bh({ref:t},r),b.createElement(MP,{isPanorama:!1},n))});function aoe(){var e=Et(),[t,n]=b.useState(null),r=Ee(UK);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ct(s)&&s!==r&&e(_K(s))}},[t,e,r]),n}function FP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ooe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(n),!0).forEach(function(r){loe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function loe(e,t,n){return(t=coe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function coe(e){var t=uoe(e,"string");return typeof t=="symbol"?t:t+""}function uoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(null,arguments)}var doe=()=>(zte(),null);function Wh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var foe=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[s,o]=b.useState({containerWidth:Wh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Wh((r=e.style)===null||r===void 0?void 0:r.height)}),c=b.useCallback((f,p)=>{o(m=>{var v=Math.round(f),y=Math.round(p);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),u=b.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=f.getBoundingClientRect();c(p,m);var v=w=>{var{width:C,height:_}=w[0].contentRect;c(C,_)},y=new ResizeObserver(v);y.observe(f),i.current=y}},[t,c]);return b.useEffect(()=>()=>{var f=i.current;f!=null&&f.disconnect()},[c]),b.createElement(b.Fragment,null,b.createElement(Np,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",ka({ref:u},e)))}),hoe=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=b.useState({containerWidth:Wh(n),containerHeight:Wh(r)}),o=b.useCallback((u,f)=>{s(p=>{var m=Math.round(u),v=Math.round(f);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),c=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:p}=u.getBoundingClientRect();o(f,p)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(Np,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",ka({ref:c},e)))}),poe=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Np,{width:n,height:r}),b.createElement("div",ka({ref:t},e)))}),moe=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return Mi(n)||Mi(r)?b.createElement(hoe,ka({},e,{ref:t})):b.createElement(poe,ka({},e,{ref:t}))});function goe(e){return e===!0?foe:moe}var voe=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:f,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:C,style:_,width:E,responsive:k,dispatchTouchEvents:I=!0}=e,j=b.useRef(null),P=Et(),[A,U]=b.useState(null),[z,Y]=b.useState(null),oe=aoe(),M=$w(),H=(M==null?void 0:M.width)>0?M.width:E,se=(M==null?void 0:M.height)>0?M.height:i,xe=b.useCallback(K=>{oe(K),typeof t=="function"&&t(K),U(K),Y(K),K!=null&&(j.current=K)},[oe,t,U,Y]),G=b.useCallback(K=>{P($M(K)),P(ur({handler:s,reactEvent:K}))},[P,s]),fe=b.useCallback(K=>{P(o0(K)),P(ur({handler:f,reactEvent:K}))},[P,f]),le=b.useCallback(K=>{P(D2()),P(ur({handler:p,reactEvent:K}))},[P,p]),F=b.useCallback(K=>{P(o0(K)),P(ur({handler:m,reactEvent:K}))},[P,m]),te=b.useCallback(()=>{P(HM())},[P]),W=b.useCallback(K=>{P(VM(K.key))},[P]),O=b.useCallback(K=>{P(ur({handler:o,reactEvent:K}))},[P,o]),q=b.useCallback(K=>{P(ur({handler:c,reactEvent:K}))},[P,c]),ie=b.useCallback(K=>{P(ur({handler:u,reactEvent:K}))},[P,u]),ae=b.useCallback(K=>{P(ur({handler:v,reactEvent:K}))},[P,v]),Se=b.useCallback(K=>{P(ur({handler:C,reactEvent:K}))},[P,C]),Ie=b.useCallback(K=>{I&&P(KM(K)),P(ur({handler:w,reactEvent:K}))},[P,I,w]),ce=b.useCallback(K=>{P(ur({handler:y,reactEvent:K}))},[P,y]),Le=goe(k);return b.createElement(tM.Provider,{value:A},b.createElement(Tq.Provider,{value:z},b.createElement(Le,{width:H??(_==null?void 0:_.width),height:se??(_==null?void 0:_.height),className:it("recharts-wrapper",r),style:ooe({position:"relative",cursor:"default",width:H,height:se},_),onClick:G,onContextMenu:O,onDoubleClick:q,onFocus:te,onKeyDown:W,onMouseDown:ie,onMouseEnter:fe,onMouseLeave:le,onMouseMove:F,onMouseUp:ae,onTouchEnd:ce,onTouchMove:Ie,onTouchStart:Se,ref:xe},b.createElement(doe,null),n)))}),yoe=["width","height","responsive","children","className","style","compact","title","desc"];function xoe(e,t){if(e==null)return{};var n,r,i=woe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function woe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var boe=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:c,compact:u,title:f,desc:p}=e,m=xoe(e,yoe),v=Ri(m);return u?b.createElement(b.Fragment,null,b.createElement(Np,{width:n,height:r}),b.createElement(LP,{otherAttributes:v,title:f,desc:p},s)):b.createElement(voe,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(LP,{otherAttributes:v,title:f,desc:p,ref:t},b.createElement($se,null,s)))});function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l0.apply(null,arguments)}var _oe={top:5,right:5,bottom:5,left:5},Soe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_oe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Coe=b.forwardRef(function(t,n){var r,i=tr(t.categoricalChartProps,Soe),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:f}=t,p={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement(Xae,{preloadedState:{options:p},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:s},b.createElement(Pse,{chartData:f.data}),b.createElement(Jae,{layout:i.layout,margin:i.margin}),b.createElement(Zae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(boe,l0({},i,{ref:n})))}),Eoe=["axis","item"],koe=b.forwardRef((e,t)=>b.createElement(Coe,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eoe,tooltipPayloadSearcher:Cte,categoricalChartProps:e,ref:t}));function Noe({data:e,title:t,color:n="#ef4444"}){return d.jsxs(Fe,{className:"col-span-4",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:t})}),d.jsx(ze,{className:"pl-2",children:d.jsx(vG,{width:"100%",height:350,children:d.jsxs(koe,{data:e,children:[d.jsx(LM,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(FM,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:r=>`${r}`}),d.jsx(DM,{strokeDasharray:"3 3",vertical:!1}),d.jsx(Gte,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(PM,{dataKey:"total",fill:n,radius:[4,4,0,0]})]})})})]})}function Ioe(){const{cars:e,customers:t,transactions:n}=Ft(),[r,i]=b.useState("month"),s=new Date().getMonth(),o=new Date().getFullYear(),c=n.filter(y=>{const w=new Date(y.startDate);return w.getMonth()===s&&w.getFullYear()===o&&y.status!=="Cancelled"}).reduce((y,w)=>y+(Number(w.total)||0),0),u=n.reduce((y,w)=>y+(Number(w.amountPaid)||0),0),f=[{title:"Result of this Month",value:`${c.toLocaleString()}`,icon:QA,description:"Total Revenue this month"},{title:"Total Paid Amount",value:`${u.toLocaleString()}`,icon:rO,description:"Collected from customers"},{title:"Total Customers",value:t.length,icon:th,description:"Registered users"},{title:"Active Rentals",value:n.filter(y=>y.status==="Active").length,icon:hq,description:"Currently on road"}],p=b.useMemo(()=>{const y=new Date;let w=[];if(r==="week")for(let C=6;C>=0;C--){const _=new Date(y);_.setDate(_.getDate()-C);const E=_.toLocaleDateString("en-US",{weekday:"short"}),k=_.toISOString().split("T")[0],I=n.filter(j=>j.startDate===k).reduce((j,P)=>j+P.total,0);w.push({name:E,total:I})}else if(r==="month")for(let C=3;C>=0;C--){const _=new Date(y);_.setDate(_.getDate()-C*7);const E=`Week ${4-C}`,k=n.reduce((I,j)=>I+Math.random()*j.total*.2,0);w.push({name:E,total:Math.round(k)})}else w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(_=>({name:_,total:Math.floor(Math.random()*5e3)+1e3}));return w},[r,n]),m=n.slice(-5).reverse(),v=[...e].sort((y,w)=>{const C=n.filter(E=>E.carId===y.id).reduce((E,k)=>E+k.total,0);return n.filter(E=>E.carId===w.id).reduce((E,k)=>E+k.total,0)-C}).slice(0,3);return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(pe,{variant:r==="week"?"default":"outline",size:"sm",onClick:()=>i("week"),children:"Week"}),d.jsx(pe,{variant:r==="month"?"default":"outline",size:"sm",onClick:()=>i("month"),children:"Month"}),d.jsx(pe,{variant:r==="year"?"default":"outline",size:"sm",onClick:()=>i("year"),children:"Year"})]})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:f.map(y=>{const w=y.icon;return d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Mt,{className:"text-sm font-medium",children:y.title}),d.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ze,{children:[d.jsx("div",{className:"text-2xl font-bold",children:y.value}),d.jsx("p",{className:"text-xs text-muted-foreground",children:y.description})]})]},y.title)})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[d.jsx("div",{className:"col-span-4",children:d.jsx(Noe,{data:p,title:"Revenue Overview",color:"#ef4444"})}),d.jsx("div",{className:"col-span-3",children:d.jsxs(Fe,{className:"h-full",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Recent Sales"})}),d.jsx(ze,{children:d.jsx("div",{className:"space-y-8",children:m.map(y=>{const w=t.find(C=>C.id===y.customerId);return d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:w?w.name[0]:"?"}),d.jsxs("div",{className:"ml-4 space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:w?w.name:"Unknown Customer"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:w?w.email:"No email available"})]}),d.jsxs("div",{className:"ml-auto font-medium",children:["+",y.total]})]},y.id)})})})]})})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.jsxs(Fe,{className:"col-span-3",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Top Performing Cars"})}),d.jsx(ze,{children:d.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:v.map(y=>{const w=n.filter(C=>C.carId===y.id).reduce((C,_)=>C+_.total,0);return d.jsxs("div",{className:"flex items-center space-x-4 border p-4 rounded-lg",children:[d.jsx("div",{className:"h-16 w-24 overflow-hidden rounded bg-muted",children:d.jsx("img",{src:y.image,alt:y.model,className:"h-full w-full object-cover"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium",children:[y.make," ",y.model]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Revenue: ",w]})]})]},y.id)})})})]})})]})}function YM({isOpen:e,onClose:t,car:n}){const{updateCar:r}=Ft(),[i,s]=b.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",status:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""});b.useEffect(()=>{n&&s({make:n.make,model:n.model,year:n.year,price:n.price,tenDayPrice:n.tenDayPrice||"",monthlyPrice:n.monthlyPrice||"",status:n.status,plateNumber:n.plateNumber||"",image:n.image,color:n.color||"",mileage:n.mileage||"",fuelType:n.fuelType||"Petrol",fitnessValidTo:n.fitnessValidTo||"",taxValidTo:n.taxValidTo||"",insuranceValidTo:n.insuranceValidTo||"",description:n.description||"",rcImage:n.rcImage||"",insuranceImage:n.insuranceImage||"",pocImage:n.pocImage||""})},[n]);const o=(u,f)=>{const p=f.target.files[0];if(p){const m=new FileReader;m.onloadend=()=>{s(v=>({...v,[u]:m.result}))},m.readAsDataURL(p)}},c=u=>{u.preventDefault(),r(n.id,i),t()};return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Edit Car"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Make",value:i.make,onChange:u=>s({...i,make:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Model",value:i.model,onChange:u=>s({...i,model:u.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Year",value:i.year,onChange:u=>s({...i,year:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Plate Number",value:i.plateNumber,onChange:u=>s({...i,plateNumber:u.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Color",value:i.color,onChange:u=>s({...i,color:u.target.value})}),d.jsx(X,{placeholder:"Mileage",value:i.mileage,onChange:u=>s({...i,mileage:u.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Fuel Type"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.fuelType,onChange:u=>s({...i,fuelType:u.target.value}),children:[d.jsx("option",{value:"Petrol",children:"Petrol"}),d.jsx("option",{value:"Diesel",children:"Diesel"}),d.jsx("option",{value:"Electric",children:"Electric"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"CNG",children:"CNG"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"Daily Rate"}),d.jsx(X,{type:"number",placeholder:"Daily",value:i.price,onChange:u=>s({...i,price:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"10 Days Rate"}),d.jsx(X,{type:"number",placeholder:"10 Days",value:i.tenDayPrice,onChange:u=>s({...i,tenDayPrice:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"Monthly Rate"}),d.jsx(X,{type:"number",placeholder:"Monthly",value:i.monthlyPrice,onChange:u=>s({...i,monthlyPrice:u.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Validity Dates"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Fitness"}),d.jsx(X,{type:"date",value:i.fitnessValidTo,onChange:u=>s({...i,fitnessValidTo:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Tax"}),d.jsx(X,{type:"date",value:i.taxValidTo,onChange:u=>s({...i,taxValidTo:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Insurance"}),d.jsx(X,{type:"date",value:i.insuranceValidTo,onChange:u=>s({...i,insuranceValidTo:u.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.status,onChange:u=>s({...i,status:u.target.value}),children:[d.jsx("option",{value:"Available",children:"Available"}),d.jsx("option",{value:"Rented",children:"Rented"}),d.jsx("option",{value:"Maintenance",children:"Maintenance"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",placeholder:"Car description...",value:i.description,onChange:u=>s({...i,description:u.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Main Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("image",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"RC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("rcImage",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Insurance"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("insuranceImage",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"POC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("pocImage",u),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function Poe(){const{cars:e,addCar:t}=Ft(),[n,r]=b.useState(!1),[i,s]=b.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""}),[o,c]=b.useState(null),u=(p,m)=>{const v=m.target.files[0];if(v){const y=new FileReader;y.onloadend=()=>{s(w=>({...w,[p]:y.result}))},y.readAsDataURL(v)}},f=p=>{if(p.preventDefault(),e.some(m=>m.plateNumber===i.plateNumber)){alert("A car with this Plate Number already exists!");return}t({...i,status:"Available"}),r(!1),s({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""})};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cars"}),d.jsxs(pe,{onClick:()=>r(!n),children:[d.jsx(Aa,{className:"mr-2 h-4 w-4"})," Add Car"]})]}),n&&d.jsxs(Fe,{className:"max-w-4xl mx-auto",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Add New Car"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:f,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Make",value:i.make,onChange:p=>s({...i,make:p.target.value}),required:!0}),d.jsx(X,{placeholder:"Model",value:i.model,onChange:p=>s({...i,model:p.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Year",value:i.year,onChange:p=>s({...i,year:p.target.value}),required:!0}),d.jsx(X,{placeholder:"Plate Number",value:i.plateNumber,onChange:p=>s({...i,plateNumber:p.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Color",value:i.color,onChange:p=>s({...i,color:p.target.value})}),d.jsx(X,{placeholder:"Mileage",value:i.mileage,onChange:p=>s({...i,mileage:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Fuel Type"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.fuelType,onChange:p=>s({...i,fuelType:p.target.value}),children:[d.jsx("option",{value:"Petrol",children:"Petrol"}),d.jsx("option",{value:"Diesel",children:"Diesel"}),d.jsx("option",{value:"Electric",children:"Electric"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"CNG",children:"CNG"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Daily Price",value:i.price,onChange:p=>s({...i,price:p.target.value}),required:!0}),d.jsx(X,{type:"number",placeholder:"10 Days Price",value:i.tenDayPrice,onChange:p=>s({...i,tenDayPrice:p.target.value})}),d.jsx(X,{type:"number",placeholder:"Monthly Price",value:i.monthlyPrice,onChange:p=>s({...i,monthlyPrice:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Validity Dates"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Fitness"}),d.jsx(X,{type:"date",value:i.fitnessValidTo,onChange:p=>s({...i,fitnessValidTo:p.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Tax"}),d.jsx(X,{type:"date",value:i.taxValidTo,onChange:p=>s({...i,taxValidTo:p.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Insurance"}),d.jsx(X,{type:"date",value:i.insuranceValidTo,onChange:p=>s({...i,insuranceValidTo:p.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",placeholder:"Car description...",value:i.description,onChange:p=>s({...i,description:p.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Main Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("image",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"RC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("rcImage",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Insurance"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("insuranceImage",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"POC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("pocImage",p),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Car"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(p=>d.jsxs("div",{className:"relative group",children:[d.jsx(Yo,{to:`/cars/${p.id}`,children:d.jsxs(Fe,{className:"overflow-hidden hover:shadow-lg transition-shadow h-full",children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:p.image,alt:`${p.make} ${p.model}`,className:"h-full w-full object-cover transition-transform hover:scale-105"})}),d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-xl",children:[p.make," ",p.model]}),d.jsxs("p",{className:"text-muted-foreground",children:[p.year,"  ",p.plateNumber]})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.status==="Available"?"bg-green-100 text-green-800":p.status==="On Rent"?"bg-blue-100 text-blue-800":p.status==="On Maintenance"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:p.status})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-lg font-bold text-primary",children:["",p.price,d.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/day"})]}),p.monthlyPrice&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.monthlyPrice,"/month"]})]})]})]})}),d.jsx(pe,{variant:"secondary",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:m=>{m.preventDefault(),c(p)},children:d.jsx(Rr,{className:"h-4 w-4"})})]},p.id))}),d.jsx(YM,{isOpen:!!o,onClose:()=>c(null),car:o})]})}const Xb=b.createContext(null),Qb=b.forwardRef(({className:e,value:t,onValueChange:n,defaultValue:r,children:i,...s},o)=>{const[c,u]=b.useState(r),f=t!==void 0?t:c,p=n||u;return d.jsx(Xb.Provider,{value:{value:f,onValueChange:p},children:d.jsx("div",{ref:o,className:ft("w-full",e),...s,children:i})})});Qb.displayName="Tabs";const Jb=b.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Jb.displayName="TabsList";const Io=b.forwardRef(({className:e,value:t,children:n,...r},i)=>{const s=b.useContext(Xb);if(!s)throw new Error("TabsTrigger must be used within Tabs");const o=s.value===t;return d.jsx("button",{ref:i,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:()=>s.onValueChange(t),...r,children:n})});Io.displayName="TabsTrigger";const Po=b.forwardRef(({className:e,value:t,children:n,...r},i)=>{const s=b.useContext(Xb);if(!s)throw new Error("TabsContent must be used within Tabs");return s.value!==t?null:d.jsx("div",{ref:i,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r,children:n})});Po.displayName="TabsContent";function XM({isOpen:e,onClose:t,carId:n}){const{addMaintenanceRecord:r,cars:i}=Ft(),[s,o]=b.useState(n||""),[c,u]=b.useState({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",description:"",image:null}),f=m=>{const v=m.target.files[0];if(v){const y=new FileReader;y.onloadend=()=>{u({...c,image:y.result})},y.readAsDataURL(v)}},p=m=>{m.preventDefault();const v=n||s;v&&(r({...c,carId:parseInt(v),amount:c.amount?parseFloat(c.amount):0}),t(),u({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",description:"",image:null}),n||o(""))};return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Add Maintenance Record"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[!n&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Select Car"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s,onChange:m=>o(m.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select a car..."}),i.map(m=>d.jsxs("option",{value:m.id,children:[m.make," ",m.model," (",m.licensePlate||"No Plate",")"]},m.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Name"}),d.jsx(X,{value:c.workshopName,onChange:m=>u({...c,workshopName:m.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Address"}),d.jsx(X,{value:c.workshopDetails,onChange:m=>u({...c,workshopDetails:m.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),d.jsx(X,{value:c.phoneNumber,onChange:m=>u({...c,phoneNumber:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Amount"}),d.jsx(X,{type:"number",value:c.amount,onChange:m=>u({...c,amount:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Date"}),d.jsx(X,{type:"date",value:c.date,onChange:m=>u({...c,date:m.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.description,onChange:m=>u({...c,description:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Receipt/Image"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(pe,{type:"button",variant:"outline",onClick:()=>document.getElementById("maintenance-image").click(),className:"w-full",children:[d.jsx(aO,{className:"mr-2 h-4 w-4"})," Upload Image"]}),d.jsx("input",{id:"maintenance-image",type:"file",accept:"image/*",className:"hidden",onChange:f})]}),c.image&&d.jsx("div",{className:"mt-2 relative h-32 w-full rounded-md overflow-hidden border",children:d.jsx("img",{src:c.image,alt:"Preview",className:"h-full w-full object-cover"})})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Record"})]})})]})}function Zb({isOpen:e,onClose:t,record:n}){const{updateMaintenanceRecord:r}=Ft(),[i,s]=b.useState({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",returnDate:"",description:"",image:null});b.useEffect(()=>{n&&s({workshopName:n.workshopName||"",workshopDetails:n.workshopDetails||"",phoneNumber:n.phoneNumber||"",amount:n.amount||"",date:n.date||"",returnDate:n.returnDate||"",description:n.description||"",image:n.image||null})},[n]);const o=u=>{const f=u.target.files[0];if(f){const p=new FileReader;p.onloadend=()=>{s({...i,image:p.result})},p.readAsDataURL(f)}},c=u=>{u.preventDefault(),n&&(r(n.id,{...n,...i,amount:i.amount?parseFloat(i.amount):0}),t())};return n?d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Edit Maintenance Record"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Name"}),d.jsx(X,{value:i.workshopName,onChange:u=>s({...i,workshopName:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Address"}),d.jsx(X,{value:i.workshopDetails,onChange:u=>s({...i,workshopDetails:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),d.jsx(X,{value:i.phoneNumber,onChange:u=>s({...i,phoneNumber:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Amount"}),d.jsx(X,{type:"number",value:i.amount,onChange:u=>s({...i,amount:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Date"}),d.jsx(X,{type:"date",value:i.date,onChange:u=>s({...i,date:u.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Return Date (Completion)"}),d.jsx(X,{type:"date",value:i.returnDate,onChange:u=>s({...i,returnDate:u.target.value}),placeholder:"Select return date"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Setting a return date will mark the car as Available."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.description,onChange:u=>s({...i,description:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Receipt/Image"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(pe,{type:"button",variant:"outline",onClick:()=>document.getElementById("edit-maintenance-image").click(),className:"w-full",children:[d.jsx(aO,{className:"mr-2 h-4 w-4"})," Upload Image"]}),d.jsx("input",{id:"edit-maintenance-image",type:"file",accept:"image/*",className:"hidden",onChange:o})]}),i.image&&d.jsx("div",{className:"mt-2 relative h-32 w-full rounded-md overflow-hidden border",children:d.jsx("img",{src:i.image,alt:"Preview",className:"h-full w-full object-cover"})})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Changes"})]})})]}):null}const Ou=b.forwardRef(({className:e,...t},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:ft("w-full caption-bottom text-sm",e),...t})}));Ou.displayName="Table";const Ru=b.forwardRef(({className:e,...t},n)=>d.jsx("thead",{ref:n,className:ft("[&_tr]:border-b",e),...t}));Ru.displayName="TableHeader";const Du=b.forwardRef(({className:e,...t},n)=>d.jsx("tbody",{ref:n,className:ft("[&_tr:last-child]:border-0",e),...t}));Du.displayName="TableBody";const joe=b.forwardRef(({className:e,...t},n)=>d.jsx("tfoot",{ref:n,className:ft("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));joe.displayName="TableFooter";const Zn=b.forwardRef(({className:e,...t},n)=>d.jsx("tr",{ref:n,className:ft("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zn.displayName="TableRow";const gt=b.forwardRef(({className:e,...t},n)=>d.jsx("th",{ref:n,className:ft("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));gt.displayName="TableHead";const rt=b.forwardRef(({className:e,...t},n)=>d.jsx("td",{ref:n,className:ft("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableCell";const Toe=b.forwardRef(({className:e,...t},n)=>d.jsx("caption",{ref:n,className:ft("mt-4 text-sm text-muted-foreground",e),...t}));Toe.displayName="TableCaption";function Mu({isOpen:e,onClose:t,transaction:n}){const{updateTransaction:r,cars:i,customers:s}=Ft(),[o,c]=b.useState({startDate:"",endDate:"",status:"",paymentStatus:"",notes:"",payments:[]}),[u,f]=b.useState({amount:"",date:new Date().toISOString().split("T")[0],type:"Credit",medium:"Cash",notes:""});b.useEffect(()=>{if(n){let E=n.payments||[];E.length===0&&n.amountPaid>0&&(E=[{id:gx(),date:n.startDate,amount:n.amountPaid,type:"Credit",medium:"Cash",notes:"Initial Payment (Migrated)"}]),c({startDate:n.startDate,endDate:n.endDate,status:n.status,paymentStatus:n.paymentStatus||"Pending",notes:n.notes||"",payments:E})}},[n]);const p=o.payments.reduce((E,k)=>k.type==="Credit"?E+Number(k.amount):E-Number(k.amount),0),m=Math.max(0,(Number(n==null?void 0:n.total)||0)-p),v=()=>{if(!u.amount||!u.date)return;const E={id:gx(),...u,amount:Number(u.amount)},k=[...o.payments,E],j=k.reduce((P,A)=>A.type==="Credit"?P+Number(A.amount):P-Number(A.amount),0)>=(Number(n.total)||0)?"Paid":"Pending";c({...o,payments:k,paymentStatus:j}),f({amount:"",date:new Date().toISOString().split("T")[0],type:"Credit",medium:"Cash",notes:""})},y=E=>{if(window.confirm("Delete this transaction record?")){const k=o.payments.filter(I=>I.id!==E);c({...o,payments:k})}},w=E=>{E.preventDefault(),r(n.id,{...o,amountPaid:p}),t()};if(!n)return null;const C=i.find(E=>E.id===n.carId),_=s.find(E=>E.id===n.customerId);return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Edit Transaction"})}),d.jsxs("div",{className:"mt-6 flex flex-col h-[calc(100vh-100px)] overflow-y-auto",children:[d.jsxs("div",{className:"mb-6 space-y-2",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transaction ID: ",n.id]}),d.jsxs("p",{className:"font-medium",children:[C==null?void 0:C.make," ",C==null?void 0:C.model]}),d.jsx("p",{className:"text-sm",children:_==null?void 0:_.name})]}),d.jsxs("form",{id:"edit-transaction-form",onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:o.startDate,onChange:E=>c({...o,startDate:E.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:o.endDate,onChange:E=>c({...o,endDate:E.target.value}),required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:o.status,onChange:E=>c({...o,status:E.target.value}),children:[d.jsx("option",{value:"Active",children:"Active"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:o.paymentStatus,onChange:E=>c({...o,paymentStatus:E.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Notes",value:o.notes,onChange:E=>c({...o,notes:E.target.value})})]})]}),d.jsxs("div",{className:"mt-8 space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Financial History"}),d.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border space-y-4",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Add Transaction"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:u.type,onChange:E=>f({...u,type:E.target.value}),children:[d.jsx("option",{value:"Credit",children:"Credit (In)"}),d.jsx("option",{value:"Debit",children:"Debit (Out)"})]}),d.jsx(X,{type:"date",className:"h-9",value:u.date,onChange:E=>f({...u,date:E.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(X,{type:"number",placeholder:"Amount",className:"h-9",value:u.amount,onChange:E=>f({...u,amount:E.target.value})}),d.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:u.medium,onChange:E=>f({...u,medium:E.target.value}),children:[d.jsx("option",{value:"Cash",children:"Cash"}),d.jsx("option",{value:"UPI",children:"UPI"}),d.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),d.jsx("option",{value:"Card",children:"Card"})]})]}),d.jsx(X,{placeholder:"Transaction ID / Notes",className:"h-9",value:u.notes,onChange:E=>f({...u,notes:E.target.value})}),d.jsxs(pe,{onClick:v,size:"sm",className:"w-full",disabled:!u.amount,children:[d.jsx(Aa,{className:"h-4 w-4 mr-2"})," Add Entry"]})]}),d.jsx("div",{className:"border rounded-md",children:d.jsxs(Ou,{children:[d.jsx(Ru,{children:d.jsxs(Zn,{children:[d.jsx(gt,{children:"Date"}),d.jsx(gt,{children:"Type"}),d.jsx(gt,{children:"Amount"}),d.jsx(gt,{})]})}),d.jsxs(Du,{children:[o.payments.map(E=>d.jsxs(Zn,{children:[d.jsx(rt,{className:"text-xs",children:E.date}),d.jsxs(rt,{children:[d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${E.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.type}),d.jsx("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:E.medium})]}),d.jsxs(rt,{className:"font-medium",children:["",E.amount]}),d.jsx(rt,{children:d.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>y(E.id),children:d.jsx(vx,{className:"h-3 w-3"})})})]},E.id)),o.payments.length===0&&d.jsx(Zn,{children:d.jsx(rt,{colSpan:4,className:"text-center text-muted-foreground text-xs py-4",children:"No transactions recorded"})})]})]})}),d.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 space-y-2 border",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Rental Cost"}),d.jsxs("span",{className:"font-bold",children:["",n.total]})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Paid (Credits - Debits)"}),d.jsxs("span",{className:"font-bold text-green-600",children:["",p]})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t",children:[d.jsx("span",{className:"font-medium",children:"Pending Balance"}),d.jsxs("span",{className:`font-bold ${m>0?"text-destructive":"text-green-600"}`,children:["",m]})]})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t bg-background sticky bottom-0",children:d.jsx(pe,{type:"submit",form:"edit-transaction-form",className:"w-full",children:"Save Changes"})})]})]})}function Aoe(){const{id:e}=h0(),t=ai(),{cars:n,transactions:r,customers:i,addTransaction:s,maintenanceRecords:o,deleteCar:c,deleteTransaction:u}=Ft(),[f,p]=b.useState("overview"),[m,v]=b.useState(!1),[y,w]=b.useState(!1),[C,_]=b.useState(!1),[E,k]=b.useState(null),[I,j]=b.useState(!1),[P,A]=b.useState(null),[U,z]=b.useState(!1),Y=W=>{k(W),j(!0)},oe=W=>{window.confirm("Are you sure you want to delete this rental record?")&&u(W)},[M,H]=b.useState({customerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),[se,xe]=b.useState({total:0,breakdown:[]}),G=n.find(W=>W.id===e),fe=r.filter(W=>W.carId===e);if(b.useEffect(()=>{G&&!M.dailyRate&&H(W=>({...W,dailyRate:G.price}))},[G]),b.useEffect(()=>{if(M.startDate&&M.endDate&&G){const W=new Date(M.startDate),O=new Date(M.endDate),q=Math.abs(O-W),ie=Math.ceil(q/(1e3*60*60*24));let ae=0,Se=[];const Ie=M.dailyRate?parseFloat(M.dailyRate):G.price;if(ie>0)if(ie>=30&&G.monthlyPrice){const ce=G.monthlyPrice/30;ae=Math.round(ce*ie),Se.push({label:`Monthly Rate Applied (${ie} days @ ${Math.round(ce)}/day)`,amount:ae})}else if(ie>=10&&G.tenDayPrice){const ce=G.tenDayPrice/10;ae=Math.round(ce*ie),Se.push({label:`10-Day Rate Applied (${ie} days @ ${Math.round(ce)}/day)`,amount:ae})}else ae=Math.round(Ie*ie),Se.push({label:`Standard Daily Rate (${ie} days @ ${Ie}/day)`,amount:ae});xe({total:ae,breakdown:Se})}},[M.startDate,M.endDate,G,M.dailyRate]),!G)return d.jsx("div",{children:"Car not found"});const le=W=>{W.preventDefault();const O=new Date(M.startDate),q=new Date(M.endDate);if(fe.some(Se=>{if(Se.status==="Cancelled")return!1;const Ie=new Date(Se.startDate),ce=new Date(Se.endDate);return O>=Ie&&O<=ce||q>=Ie&&q<=ce||O<=Ie&&q>=ce})){alert("This car is already rented for the selected dates!");return}const ae=[];M.paymentStatus==="Paid"&&ae.push({id:gx(),date:new Date().toISOString().split("T")[0],amount:se.total,type:"Credit",medium:"Cash",notes:"Initial Payment"}),s({carId:G.id,customerId:M.customerId,startDate:M.startDate,endDate:M.endDate,total:se.total,status:"Active",paymentStatus:M.paymentStatus,notes:M.notes,breakdown:se.breakdown,dailyRate:M.dailyRate,payments:ae,amountPaid:M.paymentStatus==="Paid"?se.total:0}),v(!1),H({customerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),p("rentals")},F=()=>{window.confirm("Are you sure you want to delete this car? This action cannot be undone.")&&(c(G.id),t("/cars"))},te=()=>{if(!G.insuranceValidTo)return null;const W=new Date,q=new Date(G.insuranceValidTo)-W,ie=Math.ceil(q/(1e3*60*60*24));return ie<=3&&ie>=0?d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg mb-6 flex items-center gap-3 text-destructive",children:[d.jsx(ME,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"Insurance Expiring Soon!"}),d.jsxs("p",{className:"text-sm",children:["Insurance is valid only for ",ie," more day",ie!==1?"s":"",". Please renew immediately."]})]})]}):ie<0?d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg mb-6 flex items-center gap-3 text-destructive",children:[d.jsx(ME,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"Insurance Expired!"}),d.jsxs("p",{className:"text-sm",children:["Insurance expired on ",G.insuranceValidTo,". Do not rent this car until renewed."]})]})]}):null};return d.jsxs("div",{className:"space-y-8 relative",children:[te(),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-4xl font-bold mb-2",children:[G.make," ",G.model]}),d.jsxs("p",{className:"text-xl text-muted-foreground",children:[G.year,"  ",G.plateNumber]}),d.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[G.color&&d.jsxs("span",{children:["Color: ",G.color]}),G.fuelType&&d.jsxs("span",{children:["Fuel: ",G.fuelType]}),G.mileage&&d.jsxs("span",{children:["Mileage: ",G.mileage]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(pe,{variant:"outline",onClick:()=>w(!0),children:[d.jsx(Rr,{className:"mr-2 h-4 w-4"})," Edit"]}),d.jsxs(pe,{variant:"destructive",onClick:F,children:[d.jsx(vx,{className:"mr-2 h-4 w-4"})," Delete"]}),d.jsxs(pe,{onClick:()=>v(!0),children:[d.jsx(Aa,{className:"mr-2 h-4 w-4"})," Rent Car"]})]})]}),d.jsxs(Qb,{value:f,onValueChange:p,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 mb-6",children:d.jsxs(Jb,{className:"bg-transparent p-0",children:[d.jsx(Io,{value:"overview",className:`rounded-none border-b-2 px-6 py-3 ${f==="overview"?"border-primary text-primary":"border-transparent"}`,children:"Overview"}),d.jsx(Io,{value:"rentals",className:`rounded-none border-b-2 px-6 py-3 ${f==="rentals"?"border-primary text-primary":"border-transparent"}`,children:"Rentals"}),d.jsx(Io,{value:"maintenance",className:`rounded-none border-b-2 px-6 py-3 ${f==="maintenance"?"border-primary text-primary":"border-transparent"}`,children:"Maintenance"})]})}),d.jsx(Po,{value:"overview",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg bg-muted",children:G.image?d.jsx("img",{src:G.image,alt:`${G.make} ${G.model}`,className:"h-full w-full object-cover"}):d.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No Image"})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[G.rcImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.rcImage),children:[d.jsx("img",{src:G.rcImage,alt:"RC",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View RC"})]}),G.insuranceImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.insuranceImage),children:[d.jsx("img",{src:G.insuranceImage,alt:"Insurance",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View Insurance"})]}),G.pocImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.pocImage),children:[d.jsx("img",{src:G.pocImage,alt:"POC",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View POC"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${G.status==="Available"?"bg-green-100 text-green-800":G.status==="On Rent"?"bg-blue-100 text-blue-800":G.status==="On Maintenance"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),G.description&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:G.description})]}),(G.fitnessValidTo||G.taxValidTo||G.insuranceValidTo)&&d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Mt,{className:"text-base",children:"Validity"})}),d.jsxs(ze,{className:"grid grid-cols-2 gap-4 text-sm",children:[G.fitnessValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Fitness"}),d.jsx("span",{className:"font-medium",children:G.fitnessValidTo})]}),G.taxValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Tax"}),d.jsx("span",{className:"font-medium",children:G.taxValidTo})]}),G.insuranceValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Insurance"}),d.jsx("span",{className:"font-medium",children:G.insuranceValidTo})]})]})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Mt,{className:"text-base",children:"Pricing"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Daily Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.price]})]}),G.tenDayPrice&&d.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"10 Days Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.tenDayPrice]})]}),G.monthlyPrice&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Monthly Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.monthlyPrice]})]})]})]})]})]})}),d.jsx(Po,{value:"rentals",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-2xl font-bold",children:"Rental History"})}),d.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[d.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 bg-muted/50 font-medium text-sm",children:[d.jsx("div",{className:"col-span-2",children:"Customer"}),d.jsx("div",{children:"Dates"}),d.jsx("div",{children:"Amount"}),d.jsx("div",{children:"Balance"}),d.jsx("div",{className:"text-right",children:"Actions"})]}),d.jsxs("div",{className:"divide-y",children:[fe.map(W=>{const O=i.find(Se=>Se.id===W.customerId),q=Number(W.total)||0,ie=Number(W.amountPaid)||0,ae=q-ie;return d.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 items-center text-sm hover:bg-muted/20 transition-colors",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("div",{className:"font-medium",children:O==null?void 0:O.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:O==null?void 0:O.phone})]}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:W.startDate}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["to ",W.endDate]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium",children:["",q]}),d.jsx("div",{className:`text-xs ${W.paymentStatus==="Paid"?"text-green-600":"text-orange-600"}`,children:W.paymentStatus})]}),d.jsx("div",{children:d.jsxs("div",{className:`font-medium ${ae>0?"text-destructive":"text-green-600"}`,children:["",ae]})}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{A(W),z(!0)},children:d.jsx(Rr,{className:"h-4 w-4"})}),d.jsx(pe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>oe(W.id),children:d.jsx(vx,{className:"h-4 w-4"})})]})]},W.id)}),fe.length===0&&d.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No rental history found."})]})]})]})}),d.jsx(Po,{value:"maintenance",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Maintenance History"}),d.jsxs(pe,{onClick:()=>_(!0),children:[d.jsx(qc,{className:"mr-2 h-4 w-4"})," Add Record"]})]}),d.jsx("div",{className:"grid gap-4",children:o.filter(W=>W.carId===e).length>0?o.filter(W=>W.carId===e).map(W=>d.jsx(Fe,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h4",{className:"font-bold text-lg",children:W.workshopName}),d.jsx("p",{className:"text-sm text-muted-foreground",children:W.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:W.date}),d.jsx("span",{children:""}),d.jsx("span",{children:W.workshopDetails})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",W.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Y(W),children:d.jsx(Rr,{className:"h-4 w-4"})}),W.image&&d.jsx(pe,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+W.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},W.id)):d.jsx("div",{className:"text-center py-12 text-muted-foreground bg-surface rounded-lg",children:"No maintenance records found for this car."})})]})})]}),d.jsx(XM,{isOpen:C,onClose:()=>_(!1),carId:G.id}),d.jsx(Zb,{isOpen:I,onClose:()=>j(!1),record:E}),d.jsxs(Wr,{isOpen:m,onClose:()=>v(!1),children:[d.jsx(Vr,{children:d.jsxs(Hr,{children:["Rent ",G.make," ",G.model]})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:le,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Customer"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:M.customerId,onChange:W=>H({...M,customerId:W.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Customer"}),i.map(W=>d.jsx("option",{value:W.id,children:W.name},W.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:M.startDate,onChange:W=>H({...M,startDate:W.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:M.endDate,onChange:W=>H({...M,endDate:W.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Per Day Amount"}),d.jsx(X,{type:"number",value:M.dailyRate,onChange:W=>H({...M,dailyRate:W.target.value}),placeholder:"Enter daily rate"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:M.paymentStatus,onChange:W=>H({...M,paymentStatus:W.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Additional notes...",value:M.notes,onChange:W=>H({...M,notes:W.target.value})})]}),d.jsxs("div",{className:"bg-surface dark:bg-surface-dark p-4 rounded-lg space-y-2",children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("span",{className:"text-sm font-medium",children:"Price Breakdown"})}),se.breakdown.length>0?d.jsxs("div",{className:"space-y-1",children:[se.breakdown.map((W,O)=>d.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[d.jsx("span",{children:W.label}),d.jsxs("span",{children:["",W.amount]})]},O)),d.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between text-sm font-bold",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",se.total]})]})]}):d.jsx("p",{className:"text-xs text-muted-foreground",children:"Select dates to see price breakdown."})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Confirm Rental"})]})})]}),d.jsx(Mu,{isOpen:U,onClose:()=>z(!1),transaction:P}),d.jsx(YM,{isOpen:y,onClose:()=>w(!1),car:G})]})}function Ooe({isOpen:e,onClose:t,customer:n}){const{updateCustomer:r,dealers:i}=Ft(),[s,o]=b.useState({name:"",email:"",phone:"",address:"",image:"",uniqueId:"",dob:"",dlImage:"",aadhaarFront:"",aadhaarBack:"",dealerId:""});b.useEffect(()=>{n&&o({name:n.name,email:n.email,phone:n.phone,address:n.address||"",image:n.image||"",uniqueId:n.uniqueId||"",dob:n.dob||"",dlImage:n.dlImage||"",aadhaarFront:n.aadhaarFront||"",aadhaarBack:n.aadhaarBack||"",dealerId:n.dealerId||""})},[n]);const c=(f,p)=>{const m=p.target.files[0];if(m){const v=new FileReader;v.onloadend=()=>{o(y=>({...y,[f]:v.result}))},v.readAsDataURL(m)}},u=f=>{f.preventDefault(),r(n.id,s),t()};return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Edit Customer"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsx(X,{placeholder:"Name",value:s.name,onChange:f=>o({...s,name:f.target.value}),required:!0}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:s.email,onChange:f=>o({...s,email:f.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:s.phone,onChange:f=>o({...s,phone:f.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Unique ID (e.g. LIC123)",value:s.uniqueId,onChange:f=>o({...s,uniqueId:f.target.value})}),d.jsx(X,{type:"date",placeholder:"Date of Birth",value:s.dob,onChange:f=>o({...s,dob:f.target.value})})]}),d.jsx(X,{placeholder:"Address",value:s.address,onChange:f=>o({...s,address:f.target.value})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Assigned Dealer (Optional)"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s.dealerId,onChange:f=>o({...s,dealerId:f.target.value}),children:[d.jsx("option",{value:"",children:"None"}),i.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:f=>c("image",f),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"DL Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:f=>c("dlImage",f),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Front"}),d.jsx(X,{type:"file",accept:"image/*",onChange:f=>c("aadhaarFront",f),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Back"}),d.jsx(X,{type:"file",accept:"image/*",onChange:f=>c("aadhaarBack",f),className:"cursor-pointer text-xs"})]})]})]}),s.image&&d.jsx("div",{className:"mt-2 flex justify-center",children:d.jsx("img",{src:s.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-full border-2 border-primary"})}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function QM({isOpen:e,onClose:t,entity:n,transactions:r,type:i}){const{cars:s}=Ft(),[o,c]=b.useState(null);if(!n)return null;const u=r.filter(p=>{const m=i==="customer"?p.customerId===n.id:p.dealerId===n.id,v=p.paymentStatus!=="Paid";return m&&v}),f=p=>{c(p)};return d.jsxs(d.Fragment,{children:[d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsxs(Hr,{children:["Pending ",i==="customer"?"Payments":"Collections",": ",n.name]})}),d.jsx("div",{className:"mt-6 space-y-4",children:u.length>0?u.map(p=>{const m=s.find(C=>C.id===p.carId),v=Number(p.amountPaid)||0,y=Number(p.total)||0,w=Math.max(0,y-v);return d.jsxs(Fe,{className:"overflow-hidden",children:[d.jsx("div",{className:"h-1 w-full bg-destructive"}),d.jsxs(ze,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:m?`${m.make} ${m.model}`:"Unknown Car"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.startDate," - ",p.endDate]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-bold text-destructive",children:["",w]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["of ",y]})]})]}),d.jsx(pe,{size:"sm",className:"w-full mt-2",variant:"outline",onClick:()=>f(p),children:"Settle Amount"})]})]},p.id)}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending transactions found."})})]}),d.jsx(Mu,{isOpen:!!o,onClose:()=>{c(null)},transaction:o})]})}function Roe({customer:e,transactions:t=[],cars:n=[],dealers:r=[],onEdit:i,onViewDetails:s,onDelete:o,onPendingClick:c}){const[u,f]=b.useState(!1),p=t.filter(w=>w.customerId===e.id),m=p.flatMap(w=>{const C=n.find(k=>k.id===w.carId),_=C?`${C.make} ${C.model}`:"Unknown Car",E=[];return E.push({id:w.id,uniqueId:w.id,date:w.startDate,description:_,type:"Debit",status:w.status,amount:Number(w.total)||0,isRental:!0}),w.payments&&w.payments.length>0?w.payments.forEach(k=>{E.push({id:k.id,uniqueId:k.id,date:k.date,description:`Payment for ${_}`,type:k.type,status:"Paid",amount:Number(k.amount)||0,isRental:!1})}):Number(w.amountPaid)>0&&E.push({id:`${w.id}_payment`,uniqueId:"Legacy",date:w.startDate,description:`Payment for ${_}`,type:"Credit",status:"Paid",amount:Number(w.amountPaid),isRental:!1}),E}).sort((w,C)=>new Date(C.date)-new Date(w.date)),v=p.filter(w=>w.paymentStatus!=="Paid").reduce((w,C)=>w+Math.max(0,(Number(C.total)||0)-(Number(C.amountPaid)||0)),0),y=r.find(w=>w.id===e.dealerId);return d.jsx(Fe,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-lg border-l-4 ${v>0?"border-l-destructive/50":"border-l-primary/20 hover:border-l-primary"}`,children:d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"h-14 w-14 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-white shadow-sm",children:e.image?d.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"}):d.jsx(eh,{className:"h-7 w-7 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg leading-tight",children:e.name}),d.jsxs("div",{className:"flex flex-col text-sm text-muted-foreground mt-1",children:[d.jsx("span",{children:e.phone}),e.uniqueId&&d.jsxs("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded w-fit mt-1",children:["ID: ",e.uniqueId]})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[v>0&&d.jsxs("div",{onClick:w=>{w.stopPropagation(),c()},className:"flex flex-col items-end mr-2 cursor-pointer hover:opacity-80 transition-opacity",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-destructive",children:"Pending"}),d.jsxs("span",{className:"text-sm font-bold text-destructive",children:["",v.toLocaleString()]})]}),d.jsx(pe,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",onClick:()=>f(!u),children:u?d.jsx(eO,{className:"h-5 w-5"}):d.jsx(ZA,{className:"h-5 w-5"})})]})]}),u&&d.jsxs("div",{className:"mt-6 pt-6 border-t animate-in slide-in-from-top-2 duration-300 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Email"}),d.jsx("div",{className:"font-medium truncate",title:e.email,children:e.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Date of Birth"}),d.jsx("div",{className:"font-medium",children:e.dob||"N/A"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Address"}),d.jsx("div",{className:"font-medium",children:e.address||"N/A"})]}),y&&d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Assigned Dealer"}),d.jsxs("div",{className:"font-medium flex items-center gap-1",children:[d.jsx(iO,{className:"h-3 w-3"})," ",y.name]})]})]}),(e.dlImage||e.aadhaarFront||e.aadhaarBack)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold uppercase text-muted-foreground mb-2",children:"Documents"}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{img:e.dlImage,label:"DL"},{img:e.aadhaarFront,label:"Aadhaar Front"},{img:e.aadhaarBack,label:"Aadhaar Back"}].map((w,C)=>w.img&&d.jsxs("div",{className:"h-20 w-32 flex-shrink-0 rounded-md border bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(w.img,"_blank"),children:[d.jsx("img",{src:w.img,alt:w.label,className:"h-full w-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsx(zH,{className:"h-5 w-5 text-white"})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-[10px] px-1 py-0.5 truncate text-center",children:w.label})]},C))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("h4",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Financial Ledger"})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ou,{children:[d.jsx(Ru,{children:d.jsxs(Zn,{className:"bg-muted/50",children:[d.jsx(gt,{className:"w-[85px] text-xs",children:"Trans ID"}),d.jsx(gt,{className:"text-xs",children:"Description"}),d.jsx(gt,{className:"w-[100px] text-xs",children:"Status"}),d.jsx(gt,{className:"w-[90px] text-xs",children:"Date"}),d.jsx(gt,{className:"text-right text-xs",children:"Amount"})]})}),d.jsx(Du,{children:m.length>0?m.slice(0,5).map((w,C)=>d.jsxs(Zn,{className:"text-xs",children:[d.jsx(rt,{className:"font-mono text-[10px] text-muted-foreground",children:w.uniqueId==="Legacy"?"-":w.uniqueId.slice(0,8)}),d.jsx(rt,{className:"font-medium",children:w.description}),d.jsx(rt,{children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium whitespace-nowrap ${w.type==="Credit"?"bg-green-100/50 text-green-800":"bg-red-100/50 text-red-800"}`,children:w.type})}),d.jsx(rt,{children:w.date}),d.jsxs(rt,{className:`text-right font-medium ${w.type==="Credit"?"text-green-600":""}`,children:[w.type==="Credit"?"+":"-","",w.amount.toLocaleString()]})]},`${w.id}-${C}`)):d.jsx(Zn,{children:d.jsx(rt,{colSpan:5,className:"text-center text-xs text-muted-foreground py-4",children:"No financial records found"})})})]})})]}),d.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[d.jsxs(pe,{variant:"outline",size:"sm",onClick:o,className:"h-8 text-xs gap-2 text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[d.jsx(sO,{className:"h-3 w-3"}),"Delete"]}),d.jsxs(pe,{variant:"outline",size:"sm",onClick:s,className:"h-8 text-xs gap-2",children:[d.jsx(eh,{className:"h-3 w-3"}),"Full Profile"]}),d.jsxs(pe,{variant:"default",size:"sm",onClick:i,className:"h-8 text-xs gap-2",children:[d.jsx(Rr,{className:"h-3 w-3"}),"Edit"]})]})]})]})})}function Doe(){const{customers:e,addCustomer:t,deleteCustomer:n,transactions:r,dealers:i,cars:s}=Ft(),o=ai(),[c,u]=b.useState(!1),[f,p]=b.useState({name:"",email:"",phone:"",address:"",dob:"",dealerId:"",dlImage:"",aadhaarFront:"",aadhaarBack:""}),[m,v]=b.useState(null),[y,w]=b.useState(null),C=(k,I)=>{const j=I.target.files[0];if(j){const P=new FileReader;P.onloadend=()=>{p(A=>({...A,[k]:P.result}))},P.readAsDataURL(j)}},_=async k=>{if(window.confirm("Are you sure you want to delete this customer? This action cannot be undone."))try{await n(k)}catch(I){alert("Failed to delete customer: "+I.message)}},E=k=>{k.preventDefault();try{t(f),u(!1),p({name:"",email:"",phone:"",address:"",dob:"",dealerId:"",dlImage:"",aadhaarFront:"",aadhaarBack:""})}catch(I){alert(I.message)}};return i.filter(k=>!!k.id),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Customers"}),d.jsxs(pe,{onClick:()=>u(!c),children:[d.jsx(Aa,{className:"mr-2 h-4 w-4"})," Add Customer"]})]}),c&&d.jsxs(Fe,{className:"max-w-2xl",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Add New Customer"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:E,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Customer Name",value:f.name,onChange:k=>p({...f,name:k.target.value}),required:!0}),d.jsx(X,{type:"email",placeholder:"Email",value:f.email,onChange:k=>p({...f,email:k.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Phone",value:f.phone,onChange:k=>p({...f,phone:k.target.value}),required:!0}),d.jsx(X,{type:"date",placeholder:"Date of Birth",value:f.dob,onChange:k=>p({...f,dob:k.target.value})}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:f.dealerId,onChange:k=>p({...f,dealerId:k.target.value}),children:[d.jsx("option",{value:"",children:"Select Dealer (Optional)"}),i.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]})]}),d.jsx(X,{placeholder:"Address",value:f.address,onChange:k=>p({...f,address:k.target.value})}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:k=>C("image",k),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"DL Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:k=>C("dlImage",k),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Front"}),d.jsx(X,{type:"file",accept:"image/*",onChange:k=>C("aadhaarFront",k),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Back"}),d.jsx(X,{type:"file",accept:"image/*",onChange:k=>C("aadhaarBack",k),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Customer"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(k=>d.jsx(Roe,{customer:k,transactions:r,cars:s,dealers:i,onEdit:()=>v(k),onViewDetails:()=>o("/customers/"+k.id),onPendingClick:()=>w(k),onDelete:()=>_(k.id)},k.id))}),d.jsx(Ooe,{isOpen:!!m,onClose:()=>v(null),customer:m}),d.jsx(QM,{isOpen:!!y,onClose:()=>w(null),entity:y,transactions:r,type:"customer"})]})}function Moe(){var _;const{id:e}=h0(),t=ai(),{customers:n,transactions:r,dealers:i,cars:s}=Ft(),[o,c]=b.useState(null),[u,f]=b.useState(null);if(b.useEffect(()=>{const E=n.find(k=>k.id===e);E&&c(E)},[e,n]),!o)return d.jsx("div",{className:"p-8",children:"Loading..."});const p=r.filter(E=>E.customerId===o.id),m=p.flatMap(E=>{const k=s.find(P=>P.id===E.carId),I=k?`${k.make} ${k.model}`:"Unknown Car",j=[];return j.push({id:E.id,uniqueId:E.id,date:E.startDate,description:I,type:"Debit",status:E.status,amount:Number(E.total)||0,originalTransaction:E,isRental:!0}),E.payments&&E.payments.length>0?E.payments.forEach(P=>{j.push({id:P.id,uniqueId:P.id,date:P.date,description:`Payment for ${I}`,type:P.type,status:"Paid",amount:Number(P.amount)||0,originalTransaction:E,isRental:!1})}):Number(E.amountPaid)>0&&j.push({id:`${E.id}_payment`,uniqueId:"Legacy",date:E.startDate,description:`Payment for ${I}`,type:"Credit",status:"Paid",amount:Number(E.amountPaid),originalTransaction:E,isRental:!1}),j}).sort((E,k)=>new Date(k.date)-new Date(E.date)),v=p.reduce((E,k)=>E+(Number(k.total)||0),0),y=p.filter(E=>E.paymentStatus!=="Paid").reduce((E,k)=>E+Math.max(0,(Number(k.total)||0)-(Number(k.amountPaid)||0)),0),w=[...new Set(p.map(E=>E.dealerId).filter(E=>E))],C=i.filter(E=>w.includes(E.id));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t("/customers"),children:d.jsx(XA,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-white shadow-sm",children:o.image?d.jsx("img",{src:o.image,alt:o.name,className:"h-full w-full object-cover"}):d.jsx(eh,{className:"h-6 w-6 text-primary"})}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o.name})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Fe,{children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Contact Information"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zf,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mo,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.phone})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),d.jsxs("h3",{className:"text-2xl font-bold",children:["",v.toLocaleString()]})]})}),d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Amount"}),d.jsxs("h3",{className:"text-2xl font-bold text-destructive",children:["",y.toLocaleString()]})]})})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Mt,{className:"text-base",children:"Personal Information"})}),d.jsxs(ze,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Unique ID"}),d.jsx("span",{className:"font-medium",children:o.uniqueId||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Date of Birth"}),d.jsx("span",{className:"font-medium",children:o.dob||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsx("span",{className:"font-medium max-w-[200px] text-right",children:o.address||"N/A"})]}),o.dealerId&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Assigned Dealer"}),d.jsxs("span",{className:"font-medium flex items-center gap-1 justify-end",children:[d.jsx(iO,{className:"h-3 w-3"}),((_=i.find(E=>E.id===o.dealerId))==null?void 0:_.name)||"Unknown"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Documents"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.dlImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.dlImage),children:[d.jsx("img",{src:o.dlImage,alt:"DL",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View DL"})]}),o.aadhaarFront&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.aadhaarFront),children:[d.jsx("img",{src:o.aadhaarFront,alt:"Aadhaar Front",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Front"})]}),o.aadhaarBack&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.aadhaarBack),children:[d.jsx("img",{src:o.aadhaarBack,alt:"Aadhaar Back",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Back"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-3",children:d.jsx("h3",{className:"font-semibold text-lg",children:"Transaction History"})}),d.jsx("div",{className:"rounded-md border bg-card",children:d.jsxs(Ou,{children:[d.jsx(Ru,{children:d.jsxs(Zn,{className:"bg-muted/50",children:[d.jsx(gt,{className:"w-[85px] text-xs",children:"Trans ID"}),d.jsx(gt,{className:"text-xs",children:"Description"}),d.jsx(gt,{className:"w-[100px] text-xs",children:"Status"}),d.jsx(gt,{className:"w-[90px] text-xs",children:"Date"}),d.jsx(gt,{className:"text-right text-xs",children:"Amount"}),d.jsx(gt,{className:"w-[40px]"})]})}),d.jsx(Du,{children:m.length>0?m.map((E,k)=>{var I;return d.jsxs(Zn,{className:"text-xs",children:[d.jsx(rt,{className:"font-mono text-[10px] text-muted-foreground align-top py-3",children:E.uniqueId==="Legacy"?"-":E.uniqueId.slice(0,8)}),d.jsxs(rt,{className:"align-top py-3 font-medium",children:[E.description,E.isRental&&d.jsx("div",{className:"text-[10px] text-muted-foreground mt-0.5 font-normal",children:(I=E.originalTransaction)!=null&&I.endDate?`Till ${E.originalTransaction.endDate}`:"Active"})]}),d.jsx(rt,{className:"align-top py-3",children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium whitespace-nowrap ${E.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.type==="Credit"?"Credit":"Debit"})}),d.jsx(rt,{className:"align-top py-3",children:E.date}),d.jsxs(rt,{className:`text-right font-medium align-top py-3 ${E.type==="Credit"?"text-green-600":""}`,children:[E.type==="Credit"?"+":"-","",E.amount.toLocaleString()]}),d.jsx(rt,{className:"align-top py-3",children:E.originalTransaction&&d.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(E.originalTransaction),children:d.jsx(Rr,{className:"h-3 w-3"})})})]},`${E.id}-${k}`)}):d.jsx(Zn,{children:d.jsx(rt,{colSpan:6,className:"text-center text-xs text-muted-foreground py-4",children:"No financial records found"})})})]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Associated Dealers"}),d.jsx("div",{className:"space-y-3",children:C.length>0?C.map(E=>d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4",children:[d.jsx("h4",{className:"font-medium mb-1",children:E.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Zf,{className:"mr-2 h-4 w-4"}),E.email]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Mo,{className:"mr-2 h-4 w-4"}),E.phone]})]})]})},E.id)):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No associated dealers."})})]})]})]}),d.jsx(Mu,{isOpen:!!u,onClose:()=>f(null),transaction:u})]})}function Loe(){const{transactions:e,cars:t,customers:n}=Ft(),[r,i]=b.useState(null);return d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),d.jsx("div",{className:"grid gap-4",children:e.map(s=>{const o=t.find(u=>u.id===s.carId),c=n.find(u=>u.id===s.customerId);return d.jsx(Fe,{className:"relative group",children:d.jsxs(ze,{className:"p-6 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-lg",children:[o==null?void 0:o.make," ",o==null?void 0:o.model]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer: ",c==null?void 0:c.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.startDate," - ",s.endDate]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",s.total]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),d.jsx(pe,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>i(s),children:d.jsx(Rr,{className:"h-4 w-4"})})]})]})},s.id)})}),d.jsx(Mu,{isOpen:!!r,onClose:()=>i(null),transaction:r})]})}function Foe(){const[e,t]=b.useState(null),[n,r]=b.useState(!1),[i,s]=b.useState(!1);b.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&s(!0);const u=p=>{p.preventDefault(),t(p)};return window.addEventListener("beforeinstallprompt",u),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!window.matchMedia("(display-mode: standalone)").matches&&(sessionStorage.getItem("iosInstallDismissed")||r(!0)),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const o=async()=>{if(!e)return;e.prompt();const{outcome:u}=await e.userChoice;u==="accepted"&&t(null)},c=()=>{r(!1),sessionStorage.setItem("iosInstallDismissed","true")};return i?null:e?d.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-surface dark:bg-surface-dark border border-primary/20 shadow-lg rounded-lg p-4 animate-in slide-in-from-bottom duration-300",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-primary",children:"Install Driveway"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Install our app for a better experience"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t(null),children:d.jsx(nh,{className:"h-4 w-4"})}),d.jsxs(pe,{onClick:o,className:"gap-2",children:[d.jsx(FH,{className:"h-4 w-4"})," Install"]})]})]})}):n?d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-surface dark:bg-surface-dark border-t border-gray-200 dark:border-gray-800 p-4 shadow-lg animate-in slide-in-from-bottom duration-300 pb-8",children:d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsx(pe,{variant:"ghost",size:"icon",className:"absolute -top-2 right-0",onClick:c,children:d.jsx(nh,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-start gap-4 pr-8",children:[d.jsx("div",{className:"bg-primary/10 p-3 rounded-xl",children:d.jsx(sq,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Install Driveway"}),d.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["To install this app on your iPhone, tap the ",d.jsx("span",{className:"font-bold",children:"Share"})," icon below and select ",d.jsx("span",{className:"font-bold",children:'"Add to Home Screen"'}),"."]})]})]}),d.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 w-4 h-4 bg-surface dark:bg-surface-dark rotate-45 border-b border-r border-gray-200 dark:border-gray-800"})]})}):null}function $oe({isOpen:e,onClose:t,dealer:n}){const{updateDealer:r}=Ft(),[i,s]=b.useState({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""});b.useEffect(()=>{n&&s({name:n.name||"",email:n.email||"",phone:n.phone||"",address:n.address||"",contactPerson:n.contactPerson||"",pan:n.pan||"",image:n.image||"",logo:n.logo||"",shopAct:n.shopAct||"",panImage:n.panImage||"",proof:n.proof||"",altProof:n.altProof||""})},[n]);const o=(u,f)=>{const p=f.target.files[0];if(p){const m=new FileReader;m.onloadend=()=>{s(v=>({...v,[u]:m.result}))},m.readAsDataURL(p)}},c=u=>{u.preventDefault(),r(n.id,i),t()};return d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsx(Vr,{children:d.jsx(Hr,{children:"Edit Dealer"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Dealer Name",value:i.name,onChange:u=>s({...i,name:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Unique ID (e.g. DLR001)",value:i.uniqueId,onChange:u=>s({...i,uniqueId:u.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:i.email,onChange:u=>s({...i,email:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:i.phone,onChange:u=>s({...i,phone:u.target.value}),required:!0})]}),d.jsx(X,{placeholder:"Contact Person Name",value:i.contactPerson,onChange:u=>s({...i,contactPerson:u.target.value})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"PAN Number"}),d.jsx(X,{value:i.pan,onChange:u=>s({...i,pan:u.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Address"}),d.jsx(X,{value:i.address,onChange:u=>s({...i,address:u.target.value})})]})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("image",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Logo"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("logo",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("proof",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Alt Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("altProof",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Shop Act"}),'type="file" accept="image/*" onChange=',u=>o("panImage",u),'className="cursor-pointer text-xs" />']}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"GST Certificate"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("gstImage",u),className:"cursor-pointer text-xs"})]})]})]}),i.image&&d.jsx("div",{className:"mt-2 flex justify-center",children:d.jsx("img",{src:i.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-full border-2 border-primary"})}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function zoe({dealer:e,transactions:t=[],onEdit:n,onViewDetails:r,onDelete:i,onPendingClick:s}){const[o,c]=b.useState(!1);return d.jsx(Fe,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-lg border-l-4 border-l-secondary/20 hover:border-l-secondary",children:d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary/10 flex items-center justify-center flex-shrink-0 overflow-hidden",children:e.image?d.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"}):d.jsx(eh,{className:"h-6 w-6 text-secondary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg leading-none mb-2",children:e.name}),d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e.email}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone})]})]}),d.jsx(pe,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",onClick:()=>c(!o),children:o?d.jsx(eO,{className:"h-5 w-5"}):d.jsx(ZA,{className:"h-5 w-5"})})]}),o&&d.jsxs("div",{className:"mt-6 pt-6 border-t animate-in slide-in-from-top-2 duration-200",children:[(()=>{const u=t.filter(m=>m.dealerId===e.id),f=u.filter(m=>m.paymentStatus!=="Paid").reduce((m,v)=>m+Math.max(0,(Number(v.total)||0)-(Number(v.amountPaid)||0)),0),p=[...u].sort((m,v)=>new Date(v.startDate)-new Date(m.startDate)).slice(0,2);return d.jsxs("div",{className:"mb-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:s,children:[d.jsx("span",{className:"text-sm font-medium",children:"Pending Collection"}),d.jsxs("span",{className:`font-bold ${f>0?"text-destructive":"text-muted-foreground"}`,children:["",f.toLocaleString()]})]}),p.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Recent Activity"}),d.jsx("div",{className:"space-y-2",children:p.map(m=>d.jsxs("div",{className:"text-sm flex justify-between items-center border-b pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:m.startDate}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["",m.total]})]}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m.paymentStatus==="Paid"?"bg-green-100 text-green-800":m.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.paymentStatus||"Pending"})]},m.id))})]})]})})(),e.address&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Address"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.address})]}),d.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[d.jsxs(pe,{variant:"outline",size:"sm",onClick:i,className:"gap-2 text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[d.jsx(sO,{className:"h-4 w-4"}),"Delete"]}),d.jsxs(pe,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[d.jsx(th,{className:"h-4 w-4"}),"View Details"]}),d.jsxs(pe,{variant:"default",size:"sm",onClick:n,className:"gap-2",children:[d.jsx(Rr,{className:"h-4 w-4"}),"Edit Details"]})]})]})]})})}function Uoe(){const{dealers:e,addDealer:t,deleteDealer:n,transactions:r}=Ft(),i=ai(),[s,o]=b.useState(!1),[c,u]=b.useState({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""}),[f,p]=b.useState(null),[m,v]=b.useState(null),y=(_,E)=>{const k=E.target.files[0];if(k){const I=new FileReader;I.onloadend=()=>{u(j=>({...j,[_]:I.result}))},I.readAsDataURL(k)}},w=async _=>{if(window.confirm("Are you sure you want to delete this dealer? This action cannot be undone."))try{await n(_)}catch(E){alert("Failed to delete dealer: "+E.message)}},C=_=>{_.preventDefault();try{t(c),o(!1),u({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""})}catch(E){alert(E.message)}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dealers"}),d.jsxs(pe,{onClick:()=>o(!s),children:[d.jsx(Aa,{className:"mr-2 h-4 w-4"})," Add Dealer"]})]}),s&&d.jsxs(Fe,{className:"max-w-2xl",children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Add New Dealer"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Dealer Name",value:c.name,onChange:_=>u({...c,name:_.target.value}),required:!0}),d.jsx(X,{placeholder:"Contact Person Name",value:c.contactPerson,onChange:_=>u({...c,contactPerson:_.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:c.email,onChange:_=>u({...c,email:_.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:c.phone,onChange:_=>u({...c,phone:_.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"PAN Number",value:c.pan,onChange:_=>u({...c,pan:_.target.value})}),d.jsx(X,{placeholder:"Address",value:c.address,onChange:_=>u({...c,address:_.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("image",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Logo"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("logo",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("proof",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Alt Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("altProof",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Shop Act"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("shopAct",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"PAN Card Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("panImage",_),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(pe,{type:"submit",className:"w-full",children:"Save Dealer"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(_=>d.jsx(zoe,{dealer:_,transactions:r,onEdit:()=>p(_),onViewDetails:()=>i("/dealers/"+_.id),onPendingClick:()=>v(_),onDelete:()=>w(_.id)},_.id))}),d.jsx($oe,{isOpen:!!f,onClose:()=>p(null),dealer:f}),d.jsx(QM,{isOpen:!!m,onClose:()=>v(null),entity:m,transactions:r,type:"dealer"})]})}function Boe(){const{id:e}=h0(),t=ai(),{transactions:n,dealers:r,customers:i,cars:s}=Ft(),[o,c]=b.useState(null),[u,f]=b.useState(null);if(b.useEffect(()=>{const C=r.find(_=>_.id===e);C&&c(C)},[e,r]),!o)return d.jsx("div",{className:"p-8",children:"Loading..."});const p=n.filter(C=>C.dealerId===o.id),m=p.reduce((C,_)=>C+(Number(_.total)||0),0),v=p.filter(C=>C.paymentStatus!=="Paid").reduce((C,_)=>C+Math.max(0,(Number(_.total)||0)-(Number(_.amountPaid)||0)),0),y=[...new Set(p.map(C=>C.customerId).filter(C=>C))],w=i.filter(C=>y.includes(C.id));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t("/dealers"),children:d.jsx(XA,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o.name})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Fe,{children:[d.jsx(Dt,{children:d.jsx(Mt,{children:"Contact Information"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zf,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Mo,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.phone})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Generated"}),d.jsxs("h3",{className:"text-2xl font-bold",children:["",m.toLocaleString()]})]})}),d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Collection"}),d.jsxs("h3",{className:"text-2xl font-bold text-destructive",children:["",v.toLocaleString()]})]})})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Mt,{className:"text-base",children:"Business Information"})}),d.jsxs(ze,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Unique ID"}),d.jsx("span",{className:"font-medium",children:o.uniqueId||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contact Person"}),d.jsx("span",{className:"font-medium",children:o.contactPerson||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"PAN Number"}),d.jsx("span",{className:"font-medium",children:o.pan||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsx("span",{className:"font-medium max-w-[200px] text-right",children:o.address||"N/A"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Documents"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[o.logo&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.logo),children:[d.jsx("img",{src:o.logo,alt:"Logo",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Logo"})]}),o.proof&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.proof),children:[d.jsx("img",{src:o.proof,alt:"Proof",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Proof"})]}),o.altProof&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.altProof),children:[d.jsx("img",{src:o.altProof,alt:"Alt Proof",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Alt Proof"})]}),o.shopAct&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.shopAct),children:[d.jsx("img",{src:o.shopAct,alt:"Shop Act",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Shop Act"})]}),o.panImage&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.panImage),children:[d.jsx("img",{src:o.panImage,alt:"PAN",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"PAN"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Transaction History"}),d.jsx("div",{className:"space-y-3",children:p.length>0?p.map(C=>{const _=s.find(E=>E.id===C.carId);return d.jsx(Fe,{className:"overflow-hidden",children:d.jsxs(ze,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(JA,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"font-medium",children:_?`${_.make} ${_.model}`:"Unknown Car"})]}),d.jsx("span",{className:`text-sm font-semibold ${C.status==="Active"?"text-green-600":"text-gray-600"}`,children:C.status})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[d.jsx(QA,{className:"h-4 w-4"}),C.startDate," - ",C.endDate]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm font-medium",children:["",C.total]}),Number(C.amountPaid)>0&&C.paymentStatus!=="Paid"&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Paid: ",C.amountPaid,")"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${C.paymentStatus==="Paid"?"bg-green-100 text-green-800":C.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:C.paymentStatus||"Pending"}),d.jsx(pe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(C),children:d.jsx(Rr,{className:"h-3 w-3"})})]})]})]})},C.id)}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No transactions found."})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Associated Customers"}),d.jsx("div",{className:"space-y-3",children:w.length>0?w.map(C=>d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4",children:[d.jsx("h4",{className:"font-medium mb-1",children:C.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Zf,{className:"mr-2 h-4 w-4"}),C.email]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Mo,{className:"mr-2 h-4 w-4"}),C.phone]})]})]})},C.id)):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No associated customers."})})]})]})]}),d.jsx(Mu,{isOpen:!!u,onClose:()=>f(null),transaction:u})]})}function Woe({isOpen:e,onClose:t,workshop:n}){const{cars:r}=Ft(),[i,s]=b.useState(null),[o,c]=b.useState(!1);if(!n)return null;const u=f=>{s(f),c(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs(Wr,{isOpen:e,onClose:t,children:[d.jsxs(Vr,{children:[d.jsxs(Hr,{className:"flex items-center gap-2",children:[d.jsx(qc,{className:"h-5 w-5"}),n.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[d.jsx(nO,{className:"h-3 w-3"})," ",n.details]})]}),d.jsxs("div",{className:"mt-6 space-y-6",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),d.jsxs("p",{className:"text-2xl font-bold",children:["",n.totalSpent]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Services"}),d.jsx("p",{className:"text-2xl font-bold",children:n.records.length})]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Service History"}),n.records.map(f=>{const p=r.find(m=>m.id===f.carId);return d.jsx(Fe,{children:d.jsx(ze,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:p?`${p.make} ${p.model} `:"Unknown Car"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:f.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:f.date}),f.returnDate&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"-"}),d.jsx("span",{children:f.returnDate})]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold",children:["",f.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>u(f),children:d.jsx(Rr,{className:"h-4 w-4"})}),f.image&&d.jsx(pe,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+f.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},f.id)})]})]})]}),d.jsx(Zb,{isOpen:o,onClose:()=>c(!1),record:i})]})}function Voe(){const{maintenanceRecords:e,cars:t}=Ft(),[n,r]=b.useState(null),[i,s]=b.useState(!1),[o,c]=b.useState(!1),[u,f]=b.useState(null),[p,m]=b.useState(!1),[v,y]=b.useState("workshops");if(!e||!t)return d.jsx("div",{className:"p-8",children:"Loading maintenance data..."});const w=e.reduce((E,k)=>(E[k.workshopName]||(E[k.workshopName]={name:k.workshopName,details:k.workshopDetails,totalSpent:0,records:[]}),E[k.workshopName].totalSpent+=k.amount,E[k.workshopName].records.push(k),E),{}),C=E=>{r(E),s(!0)},_=E=>{f(E),m(!0)};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Maintenance & Workshops"}),d.jsxs(pe,{onClick:()=>c(!0),children:[d.jsx(Aa,{className:"mr-2 h-4 w-4"})," Add Maintenance"]})]}),d.jsxs(Qb,{value:v,onValueChange:y,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 mb-6",children:d.jsxs(Jb,{className:"bg-transparent p-0",children:[d.jsx(Io,{value:"workshops",className:`rounded-none border-b-2 px-6 py-3 ${v==="workshops"?"border-primary text-primary":"border-transparent"}`,children:"Workshops"}),d.jsx(Io,{value:"history",className:`rounded-none border-b-2 px-6 py-3 ${v==="history"?"border-primary text-primary":"border-transparent"}`,children:"Service History"})]})}),d.jsx(Po,{value:"workshops",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.values(w).map(E=>{var k;return d.jsxs(Fe,{className:"flex flex-col",children:[d.jsxs(Dt,{children:[d.jsxs(Mt,{className:"flex items-center gap-2",children:[d.jsx(qc,{className:"h-5 w-5"}),E.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[d.jsx(nO,{className:"h-3 w-3"})," ",E.details,((k=E.records[0])==null?void 0:k.phoneNumber)&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:""}),d.jsx(Mo,{className:"h-3 w-3"})," ",E.records[0].phoneNumber]})]})]}),d.jsxs(ze,{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-2xl font-bold",children:["",E.totalSpent]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Spent"})]}),d.jsxs("div",{className:"space-y-3 mt-auto",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Recent Service History"}),E.records.slice(0,3).map((I,j)=>{const P=t.find(A=>A.id===I.carId);return d.jsxs("div",{className:"text-sm border-l-2 border-primary pl-3",children:[d.jsx("p",{className:"font-medium",children:P?`${P.make} ${P.model}`:"Unknown Car"}),d.jsxs("p",{className:"text-muted-foreground text-xs",children:[I.date,"  ",I.description||"No description"]})]},j)}),E.records.length>3&&d.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+ ",E.records.length-3," more records"]}),d.jsxs(pe,{variant:"outline",className:"w-full mt-4",onClick:()=>C(E),children:["View Details ",d.jsx(kH,{className:"ml-2 h-4 w-4"})]})]})]})]},E.name)}),Object.keys(w).length===0&&d.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 text-muted-foreground bg-surface dark:bg-surface-dark rounded-lg border border-dashed",children:[d.jsx(qc,{className:"h-12 w-12 mb-4 opacity-20"}),d.jsx("p",{children:"No maintenance records found."}),d.jsx(pe,{variant:"link",onClick:()=>c(!0),children:"Add your first maintenance record"})]})]})}),d.jsx(Po,{value:"history",children:d.jsxs("div",{className:"space-y-4",children:[e.sort((E,k)=>new Date(k.date)-new Date(E.date)).map(E=>{const k=t.find(I=>I.id===E.carId);return d.jsx(Fe,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h4",{className:"font-bold text-lg",children:E.workshopName}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",k?`${k.make} ${k.model}`:"Unknown Car"]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:E.description||"No description provided"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:E.date}),E.returnDate&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"-"}),d.jsx("span",{children:E.returnDate})]}),d.jsx("span",{children:""}),d.jsx("span",{children:E.workshopDetails}),E.phoneNumber&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsx("span",{children:E.phoneNumber})]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",E.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>_(E),children:d.jsx(Rr,{className:"h-4 w-4"})}),E.image&&d.jsx(pe,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+E.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},E.id)}),e.length===0&&d.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No maintenance records found."})]})})]}),d.jsx(Woe,{isOpen:i,onClose:()=>s(!1),workshop:n}),d.jsx(XM,{isOpen:o,onClose:()=>c(!1)}),d.jsx(Zb,{isOpen:p,onClose:()=>m(!1),record:u})]})}function Hoe(){const{transactions:e,cars:t,customers:n,dealers:r}=Ft(),[i,s]=b.useState(""),[o,c]=b.useState("All"),f=b.useMemo(()=>{const y=[];return e.forEach(w=>{const C=t.find(k=>k.id===w.carId),_=n.find(k=>k.id===w.customerId),E=r.find(k=>k.id===w.dealerId);w.payments&&w.payments.length>0&&w.payments.forEach(k=>{y.push({...k,transactionId:w.id,carModel:C?`${C.make} ${C.model}`:"Unknown Car",customerName:_?_.name:"Unknown Customer",dealerName:E?E.name:null,rentalDate:`${w.startDate} - ${w.endDate}`})})}),y.sort((w,C)=>new Date(C.date)-new Date(w.date))},[e,t,n,r]).filter(y=>{const w=y.customerName.toLowerCase().includes(i.toLowerCase())||y.carModel.toLowerCase().includes(i.toLowerCase())||y.notes&&y.notes.toLowerCase().includes(i.toLowerCase()),C=o==="All"||y.type===o;return w&&C}),p=f.filter(y=>y.type==="Credit").reduce((y,w)=>y+(Number(w.amount)||0),0),m=f.filter(y=>y.type==="Debit").reduce((y,w)=>y+(Number(w.amount)||0),0),v=p-m;return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Financials"}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Mt,{className:"text-sm font-medium",children:"Net Cashflow"}),d.jsx("span",{className:"text-muted-foreground font-bold text-lg",children:""})]}),d.jsx(ze,{children:d.jsxs("div",{className:`text-2xl font-bold ${v>=0?"text-green-600":"text-destructive"}`,children:[v>=0?"+":"","",v.toLocaleString()]})})]}),d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Mt,{className:"text-sm font-medium",children:"Total Income (Credit)"}),d.jsx(SH,{className:"h-4 w-4 text-green-600"})]}),d.jsx(ze,{children:d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",p.toLocaleString()]})})]}),d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Mt,{className:"text-sm font-medium",children:"Total Expenses (Debit)"}),d.jsx(IH,{className:"h-4 w-4 text-destructive"})]}),d.jsx(ze,{children:d.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["",m.toLocaleString()]})})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"relative w-full md:w-96",children:[d.jsx(rq,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(X,{placeholder:"Search customer, car, or notes...",className:"pl-8",value:i,onChange:y=>s(y.target.value)})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsx(pe,{variant:o==="All"?"default":"outline",onClick:()=>c("All"),size:"sm",children:"All"}),d.jsx(pe,{variant:o==="Credit"?"default":"outline",onClick:()=>c("Credit"),size:"sm",className:o==="Credit"?"bg-green-600 hover:bg-green-700":"",children:"Income Only"}),d.jsx(pe,{variant:o==="Debit"?"default":"outline",onClick:()=>c("Debit"),size:"sm",className:o==="Debit"?"bg-destructive hover:bg-destructive/90":"",children:"Expense Only"})]})]}),d.jsx(Fe,{children:d.jsx("div",{className:"rounded-md border",children:d.jsxs(Ou,{children:[d.jsx(Ru,{children:d.jsxs(Zn,{children:[d.jsx(gt,{children:"Date"}),d.jsx(gt,{children:"Type"}),d.jsx(gt,{children:"Entity"}),d.jsx(gt,{children:"Details"}),d.jsx(gt,{children:"Medium"}),d.jsx(gt,{className:"text-right",children:"Amount"})]})}),d.jsxs(Du,{children:[f.map(y=>d.jsxs(Zn,{children:[d.jsx(rt,{className:"font-medium whitespace-nowrap",children:y.date}),d.jsx(rt,{children:d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.type})}),d.jsxs(rt,{children:[d.jsx("div",{className:"font-medium",children:y.customerName}),y.dealerName&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dealer: ",y.dealerName]})]}),d.jsxs(rt,{children:[d.jsx("div",{className:"text-sm",children:y.carModel}),d.jsx("div",{className:"text-xs text-muted-foreground",children:y.notes||"No notes"})]}),d.jsx(rt,{className:"text-muted-foreground",children:y.medium}),d.jsxs(rt,{className:`text-right font-bold ${y.type==="Credit"?"text-green-600":"text-destructive"}`,children:[y.type==="Debit"?"-":"+","",y.amount]})]},y.id)),f.length===0&&d.jsx(Zn,{children:d.jsx(rt,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No financial records found matching your filters."})})]})]})})})]})}function qoe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState(!1),{login:u}=dp(),f=ai();async function p(m){m.preventDefault();try{s(""),c(!0),await u(e,n),f("/")}catch(v){s("Failed to sign in. Please check your credentials."),console.error(v)}c(!1)}return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-background-dark p-4",children:d.jsxs(Fe,{className:"w-full max-w-md",children:[d.jsxs(Dt,{className:"space-y-1",children:[d.jsx(Mt,{className:"text-2xl font-bold",children:"Sign in"}),d.jsx(cO,{children:"Enter your email and password to access your account"})]}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i&&d.jsxs("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md flex items-center gap-2",children:[d.jsx(tO,{className:"h-4 w-4"}),i]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Email"}),d.jsx(X,{type:"email",placeholder:"m@example.com",value:e,onChange:m=>t(m.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Password"}),d.jsx(X,{type:"password",value:n,onChange:m=>r(m.target.value),required:!0})]}),d.jsx(pe,{className:"w-full",type:"submit",disabled:o,children:o?"Signing In...":"Sign In"})]})}),d.jsxs(lO,{className:"flex justify-center text-sm text-muted-foreground",children:["Don't have an account?",d.jsx(Yo,{to:"/signup",className:"ml-1 text-primary hover:underline font-medium",children:"Sign up"})]})]})})}function Koe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState(""),[u,f]=b.useState(""),[p,m]=b.useState(!1),[v,y]=b.useState(""),[w,C]=b.useState(!1),[_,E]=b.useState(null),{signup:k,setUpRecaptcha:I}=dp(),j=ai(),P="+91 8075448758";async function A(z){if(z.preventDefault(),c(""),f(""),n!==i)return c("Passwords do not match");if(!e||!n)return c("Please fill in all fields");try{m(!0),f(`Sending verification code to ${P}...`);const Y=await I(P);E(Y),C(!0),f(`Code sent to ${P}. Please enter it below.`),m(!1)}catch(Y){c(Y.message),m(!1),console.error(Y)}}async function U(z){if(z.preventDefault(),c(""),!v||v.length<6)return c("Please enter a valid 6-digit OTP");try{m(!0),await _.confirm(v),await k(e,n),j("/")}catch(Y){c("Invalid OTP or Verification Failed: "+Y.message),m(!1)}}return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-background-dark p-4",children:d.jsxs(Fe,{className:"w-full max-w-md",children:[d.jsxs(Dt,{className:"space-y-1",children:[d.jsx(Mt,{className:"text-2xl font-bold",children:"Create an account"}),d.jsx(cO,{children:"Verify your identity to sign up"})]}),d.jsxs(ze,{children:[o&&d.jsxs("div",{className:"bg-destructive/15 text-destructive text-sm p-3 mb-4 rounded-md flex items-center gap-2",children:[d.jsx(tO,{className:"h-4 w-4"}),o]}),u&&!o&&d.jsxs("div",{className:"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-sm p-3 mb-4 rounded-md flex items-center gap-2",children:[d.jsx(DH,{className:"h-4 w-4"}),u]}),w?d.jsxs("form",{onSubmit:U,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Verification Code"}),d.jsx(X,{type:"text",placeholder:"123456",value:v,onChange:z=>y(z.target.value),required:!0,className:"text-center text-lg tracking-widest"}),d.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Enter the 6-digit code sent to ",P]})]}),d.jsx(pe,{className:"w-full gap-2",type:"submit",disabled:p,children:p?"Creating Account...":"Confirm & Sign Up"}),d.jsx(pe,{type:"button",variant:"ghost",className:"w-full",onClick:()=>C(!1),disabled:p,children:"Cancel"})]}):d.jsxs("form",{onSubmit:A,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Email"}),d.jsx(X,{type:"email",placeholder:"name@example.com",value:e,onChange:z=>t(z.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Password"}),d.jsx(X,{type:"password",value:n,onChange:z=>r(z.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),d.jsx(X,{type:"password",value:i,onChange:z=>s(z.target.value),required:!0})]}),d.jsx("div",{id:"recaptcha-container"}),d.jsxs(pe,{className:"w-full gap-2",type:"submit",disabled:p,children:[d.jsx(Mo,{size:16}),p?"Sending Code...":`Verify ${P}`]})]})]}),d.jsxs(lO,{className:"flex justify-center text-sm text-muted-foreground",children:["Already have an account?",d.jsx(Yo,{to:"/login",className:"ml-1 text-primary hover:underline font-medium",children:"Log in"})]})]})})}function Goe({children:e}){const{currentUser:t}=dp();return t?e:d.jsx(X3,{to:"/login"})}function Yoe(){return d.jsx(gH,{children:d.jsx(wq,{children:d.jsxs(wF,{children:[d.jsxs(iC,{children:[d.jsx(Rn,{path:"/login",element:d.jsx(qoe,{})}),d.jsx(Rn,{path:"/signup",element:d.jsx(Koe,{})}),d.jsx(Rn,{path:"/*",element:d.jsx(Goe,{children:d.jsx(bq,{children:d.jsxs(iC,{children:[d.jsx(Rn,{path:"/",element:d.jsx(Ioe,{})}),d.jsx(Rn,{path:"/cars",element:d.jsx(Poe,{})}),d.jsx(Rn,{path:"/cars/:id",element:d.jsx(Aoe,{})}),d.jsx(Rn,{path:"/customers",element:d.jsx(Doe,{})}),d.jsx(Rn,{path:"/customers/:id",element:d.jsx(Moe,{})}),d.jsx(Rn,{path:"/dealers",element:d.jsx(Uoe,{})}),d.jsx(Rn,{path:"/dealers/:id",element:d.jsx(Boe,{})}),d.jsx(Rn,{path:"/transactions",element:d.jsx(Loe,{})}),d.jsx(Rn,{path:"/financials",element:d.jsx(Hoe,{})}),d.jsx(Rn,{path:"/maintenance",element:d.jsx(Voe,{})})]})})})})]}),d.jsx(Foe,{})]})})})}class Xoe extends c0.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n}),console.error("Uncaught error:",t,n)}render(){return this.state.hasError?d.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui"},children:[d.jsx("h1",{style:{color:"red"},children:"Something went wrong."}),d.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),d.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}a3.createRoot(document.getElementById("root")).render(d.jsx(c0.StrictMode,{children:d.jsx(Xoe,{children:d.jsx(Yoe,{})})}));
