import{u as h,a as o,j as e,S as f,i as v,k as b,I as t,B as j}from"./index-D4_0fjVP.js";function N({isOpen:u,onClose:d,car:l}){const{updateCar:m}=h(),[s,i]=o.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",status:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""});o.useEffect(()=>{l&&i({make:l.make,model:l.model,year:l.year,price:l.price,tenDayPrice:l.tenDayPrice||"",monthlyPrice:l.monthlyPrice||"",status:l.status,plateNumber:l.plateNumber||"",image:l.image,color:l.color||"",mileage:l.mileage||"",fuelType:l.fuelType||"Petrol",fitnessValidTo:l.fitnessValidTo||"",taxValidTo:l.taxValidTo||"",insuranceValidTo:l.insuranceValidTo||"",description:l.description||"",rcImage:l.rcImage||"",insuranceImage:l.insuranceImage||"",pocImage:l.pocImage||""})},[l]);const r=(a,g)=>{const c=g.target.files[0];if(c){const n=new FileReader;n.onloadend=()=>{i(p=>({...p,[a]:n.result}))},n.readAsDataURL(c)}},x=a=>{a.preventDefault(),m(l.id,s),d()};return e.jsxs(f,{isOpen:u,onClose:d,children:[e.jsx(v,{children:e.jsx(b,{children:"Edit Car"})}),e.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{placeholder:"Make",value:s.make,onChange:a=>i({...s,make:a.target.value}),required:!0}),e.jsx(t,{placeholder:"Model",value:s.model,onChange:a=>i({...s,model:a.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{type:"number",placeholder:"Year",value:s.year,onChange:a=>i({...s,year:a.target.value}),required:!0}),e.jsx(t,{placeholder:"Plate Number",value:s.plateNumber,onChange:a=>i({...s,plateNumber:a.target.value}),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(t,{placeholder:"Color",value:s.color,onChange:a=>i({...s,color:a.target.value})}),e.jsx(t,{placeholder:"Mileage",value:s.mileage,onChange:a=>i({...s,mileage:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Fuel Type"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s.fuelType,onChange:a=>i({...s,fuelType:a.target.value}),children:[e.jsx("option",{value:"Petrol",children:"Petrol"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"}),e.jsx("option",{value:"CNG",children:"CNG"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium",children:"Daily Rate"}),e.jsx(t,{type:"number",placeholder:"Daily",value:s.price,onChange:a=>i({...s,price:a.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium",children:"10 Days Rate"}),e.jsx(t,{type:"number",placeholder:"10 Days",value:s.tenDayPrice,onChange:a=>i({...s,tenDayPrice:a.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-medium",children:"Monthly Rate"}),e.jsx(t,{type:"number",placeholder:"Monthly",value:s.monthlyPrice,onChange:a=>i({...s,monthlyPrice:a.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Validity Dates"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Fitness"}),e.jsx(t,{type:"date",value:s.fitnessValidTo,onChange:a=>i({...s,fitnessValidTo:a.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Tax"}),e.jsx(t,{type:"date",value:s.taxValidTo,onChange:a=>i({...s,taxValidTo:a.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-muted-foreground",children:"Insurance"}),e.jsx(t,{type:"date",value:s.insuranceValidTo,onChange:a=>i({...s,insuranceValidTo:a.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s.status,onChange:a=>i({...s,status:a.target.value}),children:[e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"Rented",children:"Rented"}),e.jsx("option",{value:"Maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",placeholder:"Car description...",value:s.description,onChange:a=>i({...s,description:a.target.value})})]}),e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Main Image"}),e.jsx(t,{type:"file",accept:"image/*",onChange:a=>r("image",a),className:"cursor-pointer text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"RC Image"}),e.jsx(t,{type:"file",accept:"image/*",onChange:a=>r("rcImage",a),className:"cursor-pointer text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"Insurance"}),e.jsx(t,{type:"file",accept:"image/*",onChange:a=>r("insuranceImage",a),className:"cursor-pointer text-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-medium",children:"POC Image"}),e.jsx(t,{type:"file",accept:"image/*",onChange:a=>r("pocImage",a),className:"cursor-pointer text-xs"})]})]})]}),e.jsx(j,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}export{N as E};
