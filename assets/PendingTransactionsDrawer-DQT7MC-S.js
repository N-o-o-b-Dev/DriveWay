import{c as p,u as N,a as g,j as e,S as v,i as C,k as w,B as S}from"./index-gxGV3Q_W.js";import{C as b,c as P}from"./Card-CzXmBwuc.js";import{E as T}from"./EditTransactionDrawer-CGRAftJb.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I=p("chevron-right",k);function B({isOpen:l,onClose:m,entity:n,transactions:u,type:r}){const{cars:h}=N(),[i,c]=g.useState(null);if(!n)return null;const d=u.filter(s=>{const t=r==="customer"?s.customerId===n.id:s.dealerId===n.id,a=s.paymentStatus!=="Paid";return t&&a}),x=s=>{c(s)};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{isOpen:l,onClose:m,children:[e.jsx(C,{children:e.jsxs(w,{children:["Pending ",r==="customer"?"Payments":"Collections",": ",n.name]})}),e.jsx("div",{className:"mt-6 space-y-4",children:d.length>0?d.map(s=>{const t=h.find(f=>f.id===s.carId),a=Number(s.amountPaid)||0,o=Number(s.total)||0,j=Math.max(0,o-a);return e.jsxs(b,{className:"overflow-hidden",children:[e.jsx("div",{className:"h-1 w-full bg-destructive"}),e.jsxs(P,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:t?`${t.make} ${t.model}`:"Unknown Car"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.startDate," - ",s.endDate]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-bold text-destructive",children:["₹",j]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["of ₹",o]})]})]}),e.jsx(S,{size:"sm",className:"w-full mt-2",variant:"outline",onClick:()=>x(s),children:"Settle Amount"})]})]},s.id)}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending transactions found."})})]}),e.jsx(T,{isOpen:!!i,onClose:()=>{c(null)},transaction:i})]})}export{I as C,B as P};
