import{c as y,u as O,f as _,a as r,j as e,B as i,P as q,I as n,h as N,G as F}from"./index-BwtqAUt7.js";import{C as z,a as B}from"./Card-aWMVJlsh.js";import{E as G}from"./EditCarDrawer-C0MHBcJP.js";import{S as U}from"./search-D3Ys1Hf0.js";import{M as $}from"./map-pin-DubPdJvL.js";import{C as Y}from"./calendar-B6Kxq4dO.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],K=y("credit-card",J);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],W=y("funnel",Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],Z=y("gauge",X);function ne(){const{cars:o,addCar:P}=O();_();const[w,p]=r.useState(!1),[b,T]=r.useState(""),[m,D]=r.useState("All"),[x,I]=r.useState("All"),[h,M]=r.useState("Date Added"),[C,A]=r.useState(null),[u,k]=r.useState(null),[s,l]=r.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""}),E=async(t,a)=>{const g=a.target.files[0];if(g){const d=new FileReader;d.onloadend=()=>{l(H=>({...H,[t]:d.result}))},d.readAsDataURL(g)}},L=t=>{if(t.preventDefault(),o.some(a=>a.plateNumber===s.plateNumber)){alert("A car with this Plate Number already exists!");return}P({...s,status:"Available",createdAt:new Date().toISOString()}),p(!1),l({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""})},R=r.useMemo(()=>{const t=new Set(o.map(a=>a.fuelType||"Unknown").filter(Boolean));return["All",...Array.from(t)]},[o]),S=r.useMemo(()=>o.filter(t=>{const a=(t.make+" "+t.model+" "+t.plateNumber).toLowerCase().includes(b.toLowerCase()),g=m==="All"||t.status===m,d=x==="All"||t.fuelType===x;return a&&g&&d}).sort((t,a)=>h==="Price: Low to High"?Number(t.price)-Number(a.price):h==="Price: High to Low"?Number(a.price)-Number(t.price):0),[o,b,m,x,h]),v=6,[c,j]=r.useState(1),f=Math.ceil(S.length/v),V=S.slice((c-1)*v,c*v);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-1",children:[e.jsx("span",{children:"Dashboard"}),e.jsx("span",{children:"/"}),e.jsx("span",{children:"Fleet"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-white",children:"Inventory"})]}),e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Vehicle Inventory"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your entire fleet of vehicles across all locations."})]}),e.jsxs(i,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>p(!w),children:[e.jsx(q,{className:"mr-2 h-4 w-4"})," Add New Vehicle"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-center bg-[#1c1917] p-4 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(U,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search by make, model...",className:"w-full bg-[#292524] border-none rounded-lg py-2 pl-10 pr-4 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-1 focus:ring-red-500",value:b,onChange:t=>T(t.target.value)})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{className:"bg-[#292524] text-white text-sm rounded-lg px-4 py-2 pr-8 appearance-none border-none focus:ring-1 focus:ring-red-500 cursor-pointer",value:m,onChange:t=>D(t.target.value),children:[e.jsx("option",{value:"All",children:"Status: All"}),e.jsx("option",{value:"Available",children:"Available"}),e.jsx("option",{value:"On Rent",children:"Rented"}),e.jsx("option",{value:"On Maintenance",children:"Maintenance"})]}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx(W,{className:"h-3 w-3 text-gray-400"})})]}),e.jsx("div",{className:"relative",children:e.jsx("select",{className:"bg-[#292524] text-white text-sm rounded-lg px-4 py-2 pr-8 appearance-none border-none focus:ring-1 focus:ring-red-500 cursor-pointer",value:x,onChange:t=>I(t.target.value),children:R.map(t=>e.jsx("option",{value:t,children:t==="All"?"Type: All":t},t))})}),e.jsx("div",{className:"relative",children:e.jsxs("button",{className:"flex items-center gap-2 bg-[#292524] text-white text-sm rounded-lg px-4 py-2 border-none",children:[e.jsx("span",{children:"Location: New York"}),e.jsx($,{className:"h-3 w-3 text-gray-400"})]})}),e.jsx("div",{className:"relative",children:e.jsxs("select",{className:"bg-[#292524] text-white text-sm rounded-lg px-4 py-2 pr-8 appearance-none border-none focus:ring-1 focus:ring-red-500 cursor-pointer",value:h,onChange:t=>M(t.target.value),children:[e.jsx("option",{value:"Date Added",children:"Sort by: Date Added"}),e.jsx("option",{value:"Price: Low to High",children:"Price: Low to High"}),e.jsx("option",{value:"Price: High to Low",children:"Price: High to Low"})]})})]}),w&&e.jsxs("div",{className:"bg-[#1c1917] p-6 rounded-xl border border-white/10 mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Add New Vehicle"}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(n,{placeholder:"Make",value:s.make,onChange:t=>l({...s,make:t.target.value}),className:"bg-[#292524] border-0",required:!0}),e.jsx(n,{placeholder:"Model",value:s.model,onChange:t=>l({...s,model:t.target.value}),className:"bg-[#292524] border-0",required:!0}),e.jsx(n,{placeholder:"Year",type:"number",value:s.year,onChange:t=>l({...s,year:t.target.value}),className:"bg-[#292524] border-0",required:!0}),e.jsx(n,{placeholder:"Plate #",value:s.plateNumber,onChange:t=>l({...s,plateNumber:t.target.value}),className:"bg-[#292524] border-0",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(n,{placeholder:"Color",value:s.color,onChange:t=>l({...s,color:t.target.value}),className:"bg-[#292524] border-0"}),e.jsx(n,{placeholder:"Mileage",value:s.mileage,onChange:t=>l({...s,mileage:t.target.value}),className:"bg-[#292524] border-0"}),e.jsx(n,{placeholder:"Price/Day",type:"number",value:s.price,onChange:t=>l({...s,price:t.target.value}),className:"bg-[#292524] border-0",required:!0}),e.jsxs("select",{className:"bg-[#292524] text-white rounded-md px-3 border-0 text-sm",value:s.fuelType,onChange:t=>l({...s,fuelType:t.target.value}),children:[e.jsx("option",{value:"Petrol",children:"Petrol"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),e.jsx(n,{type:"file",accept:"image/*",onChange:t=>E("image",t),className:"bg-[#292524] border-0 text-white"}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(i,{type:"button",variant:"ghost",onClick:()=>p(!1),children:"Cancel"}),e.jsx(i,{type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Save Vehicle"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(t=>e.jsxs(z,{className:"bg-[#1c1917] border-0 overflow-hidden group hover:ring-1 hover:ring-white/20 transition-all",children:[e.jsxs("div",{className:"relative h-48 w-full overflow-hidden",children:[e.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1494976388531-d1058494cdd8?q=80&w=2070&auto=format&fit=crop",alt:`${t.make} ${t.model}`,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:N("px-3 py-1 rounded-full text-[10px] font-bold tracking-wider uppercase shadow-sm border",t.status==="Available"?"bg-green-500/20 text-green-400 border-green-500/30":t.status==="On Rent"?"bg-orange-500/20 text-orange-400 border-orange-500/30":"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"),children:t.status==="On Rent"?"RENTED":t.status.toUpperCase()})})]}),e.jsxs(B,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:[t.make," ",t.model]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[t.description||"Standard Trim"," • ",t.fuelType]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-bold text-red-500",children:["₹",t.price]}),e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wide",children:"/ day"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 py-3 border-t border-b border-white/5",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center p-2 rounded bg-white/5",children:[e.jsx(K,{className:"h-4 w-4 text-gray-400 mb-1"}),e.jsx("span",{className:"text-xs text-gray-300 font-mono",children:t.plateNumber})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-2 rounded bg-white/5",children:[e.jsx(Y,{className:"h-4 w-4 text-gray-400 mb-1"}),e.jsx("span",{className:"text-xs text-gray-300",children:t.year})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-2 rounded bg-white/5",children:[e.jsx(Z,{className:"h-4 w-4 text-gray-400 mb-1"}),e.jsxs("span",{className:"text-xs text-gray-300",children:[t.mileage||"0","k mi"]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(i,{variant:"outline",className:"flex-1 bg-transparent border-white/10 text-gray-300 hover:text-white hover:bg-white/5",onClick:()=>A(t),children:"Edit"}),e.jsx(i,{className:N("flex-1",t.status==="Available"?"bg-red-600 hover:bg-red-700 text-white":"bg-white/10 text-gray-400 cursor-not-allowed"),disabled:t.status!=="Available",onClick:()=>k(t),children:t.status==="Available"?"Book Now":"Unavailable"})]})]})]},t.id))}),f>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8",children:[e.jsx(i,{variant:"outline",size:"sm",disabled:c===1,onClick:()=>j(t=>t-1),className:"border-white/10 text-gray-400",children:"Previous"}),Array.from({length:f}).map((t,a)=>e.jsx("button",{onClick:()=>j(a+1),className:N("h-8 w-8 rounded-md text-sm font-medium transition-colors",c===a+1?"bg-red-600 text-white":"bg-[#292524] text-gray-400 hover:bg-[#3f3a38]"),children:a+1},a)),e.jsx(i,{variant:"outline",size:"sm",disabled:c===f,onClick:()=>j(t=>t+1),className:"border-white/10 text-gray-400",children:"Next"})]}),e.jsx(G,{isOpen:!!C,onClose:()=>A(null),car:C}),e.jsx(F,{isOpen:!!u,onClose:()=>k(null),preSelectedCarId:u==null?void 0:u.id})]})}export{ne as Cars};
