import{u as h,a as c,j as e,B as d}from"./index-D4_0fjVP.js";import{C as g,c as f}from"./Card-BWG0HchX.js";import{T as j,E as v,D as N}from"./EditTransactionDrawer-ZWc6XXu1.js";import{S as y}from"./square-pen-D_tJKCPn.js";import"./Table-B5MNB_ym.js";import"./react-pdf.browser-Bx2rBD8L.js";import"./Dialog-3oKCW97f.js";import"./lock-BM9cBVlp.js";function k(){const{transactions:m,cars:x,customers:p,deleteTransaction:u}=h(),[r,o]=c.useState(null),[a,l]=c.useState({isOpen:!1,transactionId:null});return e.jsxs("div",{className:"space-y-8",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),e.jsx("div",{className:"grid gap-4",children:m.map(s=>{const t=x.find(n=>n.id===s.carId),i=p.find(n=>n.id===s.customerId);return e.jsx(g,{className:"relative group",children:e.jsxs(f,{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg",children:[t==null?void 0:t.make," ",t==null?void 0:t.model]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer: ",i==null?void 0:i.name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.startDate," - ",s.endDate]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-xl",children:["â‚¹",s.total]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),e.jsx(d,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>o(s),children:e.jsx(y,{className:"h-4 w-4"})}),e.jsx(d,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>l({isOpen:!0,transactionId:s.id}),children:e.jsx(j,{className:"h-4 w-4"})})]})]})},s.id)})}),e.jsx(v,{isOpen:!!r,onClose:()=>o(null),transaction:r}),e.jsx(N,{isOpen:a.isOpen,onClose:()=>l({isOpen:!1,transactionId:null}),onConfirm:()=>{a.transactionId&&u(a.transactionId)},title:"Delete Transaction",description:"Are you sure you want to delete this transaction? This action cannot be undone."})]})}export{k as Transactions};
