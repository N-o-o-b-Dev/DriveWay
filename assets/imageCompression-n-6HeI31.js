const l=(g,n=800,d=.7)=>new Promise((i,c)=>{const a=new FileReader;a.readAsDataURL(g),a.onload=s=>{const e=new Image;e.src=s.target.result,e.onload=()=>{const t=document.createElement("canvas");let o=e.width,r=e.height;o>n&&(r=Math.round(r*n/o),o=n),t.width=o,t.height=r,t.getContext("2d").drawImage(e,0,0,o,r),i(t.toDataURL("image/jpeg",d))},e.onerror=t=>c(t)},a.onerror=s=>c(s)});export{l as compressImage};
