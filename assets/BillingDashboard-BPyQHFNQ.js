import{c as h,e as g,a as m,j as e,B as b,P as f,F as N}from"./index-XndSkJVU.js";import{C as n,a,b as l,c as d}from"./Card-DrV8Gkt2.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],u=h("history",p);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],w=h("settings",v);function k(){const o=g(),[c,j]=m.useState([]);return m.useEffect(()=>{const s=localStorage.getItem("driveway_invoices");if(s)try{const t=JSON.parse(s);j(t.sort((i,r)=>new Date(r.date)-new Date(i.date)).slice(0,5))}catch(t){console.error("Failed to parse invoices",t)}},[]),e.jsxs("div",{className:"space-y-8 p-1",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Billing Overview"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage invoices, track payments, and generate bills."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(b,{onClick:()=>o("/billing/create"),className:"bg-red-600 hover:bg-red-700 text-white",children:[e.jsx(f,{className:"mr-2 h-4 w-4"})," Create Invoice"]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs(n,{className:"bg-zinc-900 border-zinc-800 text-white",children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-zinc-400",children:"Total Invoices"}),e.jsx(N,{className:"h-4 w-4 text-red-500"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:c.length>5?"5+":c.length}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Recent stored locally"})]})]}),e.jsxs(n,{className:"cursor-pointer hover:bg-zinc-800 transition-colors bg-zinc-900 border-zinc-800 text-white",onClick:()=>o("/billing/history"),children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-zinc-400",children:"History"}),e.jsx(u,{className:"h-4 w-4 text-red-500"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"View All"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Access past records"})]})]}),e.jsxs(n,{className:"cursor-pointer hover:bg-zinc-800 transition-colors bg-zinc-900 border-zinc-800 text-white",onClick:()=>o("/billing/settings"),children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-zinc-400",children:"Settings"}),e.jsx(w,{className:"h-4 w-4 text-red-500"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"Configure"}),e.jsx("p",{className:"text-xs text-zinc-500",children:"Shop details & logo"})]})]})]}),e.jsxs(n,{className:"border-zinc-800 bg-black/40 backdrop-blur",children:[e.jsx(a,{children:e.jsx(l,{children:"Recent Invoices"})}),e.jsx(d,{children:c.length===0?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No invoices generated yet."}):e.jsx("div",{className:"space-y-4",children:c.map((s,t)=>{var i,r,x;return e.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-800 pb-4 last:border-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"h-10 w-10 rounded-full bg-zinc-900 flex items-center justify-center text-red-500 font-bold border border-zinc-800",children:["#",((i=s.invoiceNo)==null?void 0:i.slice(-3))||"000"]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-foreground",children:((r=s.customerDetails)==null?void 0:r.name)||"Unknown"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.date).toLocaleDateString()})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-bold text-foreground",children:["â‚¹",Number(s.grandTotal).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(x=s.vehicles)==null?void 0:x.length," Item(s)"]})]})]},t)})})})]})]})}export{k as BillingDashboard};
