var O4=Object.defineProperty;var D4=(e,t,n)=>t in e?O4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pg=(e,t,n)=>D4(e,typeof t!="symbol"?t+"":t,n);function R4(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jg={exports:{}},Xl={},Tg={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RS;function M4(){if(RS)return Oe;RS=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function v(O){return O===null||typeof O!="object"?null:(O=m&&O[m]||O["@@iterator"],typeof O=="function"?O:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function _(O,V,ie){this.props=O,this.context=V,this.refs=C,this.updater=ie||y}_.prototype.isReactComponent={},_.prototype.setState=function(O,V){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,V,"setState")},_.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function k(){}k.prototype=_.prototype;function I(O,V,ie){this.props=O,this.context=V,this.refs=C,this.updater=ie||y}var E=I.prototype=new k;E.constructor=I,w(E,_.prototype),E.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function W(O,V,ie){var ae,_e={},Ie=null,ce=null;if(V!=null)for(ae in V.ref!==void 0&&(ce=V.ref),V.key!==void 0&&(Ie=""+V.key),V)P.call(V,ae)&&!z.hasOwnProperty(ae)&&(_e[ae]=V[ae]);var Le=arguments.length-2;if(Le===1)_e.children=ie;else if(1<Le){for(var K=Array(Le),Se=0;Se<Le;Se++)K[Se]=arguments[Se+2];_e.children=K}if(O&&O.defaultProps)for(ae in Le=O.defaultProps,Le)_e[ae]===void 0&&(_e[ae]=Le[ae]);return{$$typeof:e,type:O,key:Ie,ref:ce,props:_e,_owner:A.current}}function Y(O,V){return{$$typeof:e,type:O.type,key:V,ref:O.ref,props:O.props,_owner:O._owner}}function oe(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function M(O){var V={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return V[ie]})}var H=/\/+/g;function se(O,V){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):V.toString(36)}function ye(O,V,ie,ae,_e){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var ce=!1;if(O===null)ce=!0;else switch(Ie){case"string":case"number":ce=!0;break;case"object":switch(O.$$typeof){case e:case t:ce=!0}}if(ce)return ce=O,_e=_e(ce),O=ae===""?"."+se(ce,0):ae,j(_e)?(ie="",O!=null&&(ie=O.replace(H,"$&/")+"/"),ye(_e,V,ie,"",function(Se){return Se})):_e!=null&&(oe(_e)&&(_e=Y(_e,ie+(!_e.key||ce&&ce.key===_e.key?"":(""+_e.key).replace(H,"$&/")+"/")+O)),V.push(_e)),1;if(ce=0,ae=ae===""?".":ae+":",j(O))for(var Le=0;Le<O.length;Le++){Ie=O[Le];var K=ae+se(Ie,Le);ce+=ye(Ie,V,ie,K,_e)}else if(K=v(O),typeof K=="function")for(O=K.call(O),Le=0;!(Ie=O.next()).done;)Ie=Ie.value,K=ae+se(Ie,Le++),ce+=ye(Ie,V,ie,K,_e);else if(Ie==="object")throw V=String(O),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return ce}function G(O,V,ie){if(O==null)return O;var ae=[],_e=0;return ye(O,ae,"","",function(Ie){return V.call(ie,Ie,_e++)}),ae}function de(O){if(O._status===-1){var V=O._result;V=V(),V.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=V)}if(O._status===1)return O._result.default;throw O._result}var le={current:null},F={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:F,ReactCurrentOwner:A};function B(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:G,forEach:function(O,V,ie){G(O,function(){V.apply(this,arguments)},ie)},count:function(O){var V=0;return G(O,function(){V++}),V},toArray:function(O){return G(O,function(V){return V})||[]},only:function(O){if(!oe(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=_,Oe.Fragment=n,Oe.Profiler=i,Oe.PureComponent=I,Oe.StrictMode=r,Oe.Suspense=u,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Oe.act=B,Oe.cloneElement=function(O,V,ie){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ae=w({},O.props),_e=O.key,Ie=O.ref,ce=O._owner;if(V!=null){if(V.ref!==void 0&&(Ie=V.ref,ce=A.current),V.key!==void 0&&(_e=""+V.key),O.type&&O.type.defaultProps)var Le=O.type.defaultProps;for(K in V)P.call(V,K)&&!z.hasOwnProperty(K)&&(ae[K]=V[K]===void 0&&Le!==void 0?Le[K]:V[K])}var K=arguments.length-2;if(K===1)ae.children=ie;else if(1<K){Le=Array(K);for(var Se=0;Se<K;Se++)Le[Se]=arguments[Se+2];ae.children=Le}return{$$typeof:e,type:O.type,key:_e,ref:Ie,props:ae,_owner:ce}},Oe.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:s,_context:O},O.Consumer=O},Oe.createElement=W,Oe.createFactory=function(O){var V=W.bind(null,O);return V.type=O,V},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:c,render:O}},Oe.isValidElement=oe,Oe.lazy=function(O){return{$$typeof:p,_payload:{_status:-1,_result:O},_init:de}},Oe.memo=function(O,V){return{$$typeof:h,type:O,compare:V===void 0?null:V}},Oe.startTransition=function(O){var V=F.transition;F.transition={};try{O()}finally{F.transition=V}},Oe.unstable_act=B,Oe.useCallback=function(O,V){return le.current.useCallback(O,V)},Oe.useContext=function(O){return le.current.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O){return le.current.useDeferredValue(O)},Oe.useEffect=function(O,V){return le.current.useEffect(O,V)},Oe.useId=function(){return le.current.useId()},Oe.useImperativeHandle=function(O,V,ie){return le.current.useImperativeHandle(O,V,ie)},Oe.useInsertionEffect=function(O,V){return le.current.useInsertionEffect(O,V)},Oe.useLayoutEffect=function(O,V){return le.current.useLayoutEffect(O,V)},Oe.useMemo=function(O,V){return le.current.useMemo(O,V)},Oe.useReducer=function(O,V,ie){return le.current.useReducer(O,V,ie)},Oe.useRef=function(O){return le.current.useRef(O)},Oe.useState=function(O){return le.current.useState(O)},Oe.useSyncExternalStore=function(O,V,ie){return le.current.useSyncExternalStore(O,V,ie)},Oe.useTransition=function(){return le.current.useTransition()},Oe.version="18.3.1",Oe}var MS;function zo(){return MS||(MS=1,Tg.exports=M4()),Tg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function L4(){if(LS)return Xl;LS=1;var e=zo(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var p,m={},v=null,y=null;h!==void 0&&(v=""+h),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(y=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(m[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)m[p]===void 0&&(m[p]=u[p]);return{$$typeof:t,type:c,key:v,ref:y,props:m,_owner:i.current}}return Xl.Fragment=n,Xl.jsx=o,Xl.jsxs=o,Xl}var FS;function F4(){return FS||(FS=1,jg.exports=L4()),jg.exports}var d=F4(),b=zo();const t0=ni(b),$4=R4({__proto__:null,default:t0},[b]);var Fd={},Ag={exports:{}},An={},Og={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function z4(){return $S||($S=1,(function(e){function t(F,te){var B=F.length;F.push(te);e:for(;0<B;){var O=B-1>>>1,V=F[O];if(0<i(V,te))F[O]=te,F[B]=V,B=O;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var te=F[0],B=F.pop();if(B!==te){F[0]=B;e:for(var O=0,V=F.length,ie=V>>>1;O<ie;){var ae=2*(O+1)-1,_e=F[ae],Ie=ae+1,ce=F[Ie];if(0>i(_e,B))Ie<V&&0>i(ce,_e)?(F[O]=ce,F[Ie]=B,O=Ie):(F[O]=_e,F[ae]=B,O=ae);else if(Ie<V&&0>i(ce,B))F[O]=ce,F[Ie]=B,O=Ie;else break e}}return te}function i(F,te){var B=F.sortIndex-te.sortIndex;return B!==0?B:F.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],h=[],p=1,m=null,v=3,y=!1,w=!1,C=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(F){for(var te=n(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=F)r(h),te.sortIndex=te.expirationTime,t(u,te);else break;te=n(h)}}function j(F){if(C=!1,E(F),!w)if(n(u)!==null)w=!0,de(P);else{var te=n(h);te!==null&&le(j,te.startTime-F)}}function P(F,te){w=!1,C&&(C=!1,k(W),W=-1),y=!0;var B=v;try{for(E(te),m=n(u);m!==null&&(!(m.expirationTime>te)||F&&!M());){var O=m.callback;if(typeof O=="function"){m.callback=null,v=m.priorityLevel;var V=O(m.expirationTime<=te);te=e.unstable_now(),typeof V=="function"?m.callback=V:m===n(u)&&r(u),E(te)}else r(u);m=n(u)}if(m!==null)var ie=!0;else{var ae=n(h);ae!==null&&le(j,ae.startTime-te),ie=!1}return ie}finally{m=null,v=B,y=!1}}var A=!1,z=null,W=-1,Y=5,oe=-1;function M(){return!(e.unstable_now()-oe<Y)}function H(){if(z!==null){var F=e.unstable_now();oe=F;var te=!0;try{te=z(!0,F)}finally{te?se():(A=!1,z=null)}}else A=!1}var se;if(typeof I=="function")se=function(){I(H)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,G=ye.port2;ye.port1.onmessage=H,se=function(){G.postMessage(null)}}else se=function(){_(H,0)};function de(F){z=F,A||(A=!0,se())}function le(F,te){W=_(function(){F(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,de(P))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var B=v;v=te;try{return F()}finally{v=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,te){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var B=v;v=F;try{return te()}finally{v=B}},e.unstable_scheduleCallback=function(F,te,B){var O=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?O+B:O):B=O,F){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,F={id:p++,callback:te,priorityLevel:F,startTime:B,expirationTime:V,sortIndex:-1},B>O?(F.sortIndex=B,t(h,F),n(u)===null&&F===n(h)&&(C?(k(W),W=-1):C=!0,le(j,B-O))):(F.sortIndex=V,t(u,F),w||y||(w=!0,de(P))),F},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(F){var te=v;return function(){var B=v;v=te;try{return F.apply(this,arguments)}finally{v=B}}}})(Dg)),Dg}var zS;function U4(){return zS||(zS=1,Og.exports=z4()),Og.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var US;function B4(){if(US)return An;US=1;var e=zo(),t=U4();function n(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,f=1;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(i[a]=l,a=0;a<l.length;a++)r.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function v(a){return u.call(m,a)?!0:u.call(p,a)?!1:h.test(a)?m[a]=!0:(p[a]=!0,!1)}function y(a,l,f,g){if(f!==null&&f.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function w(a,l,f,g){if(l===null||typeof l>"u"||y(a,l,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function C(a,l,f,g,x,S,N){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=f,this.propertyName=a,this.type=l,this.sanitizeURL=S,this.removeEmptyString=N}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){_[a]=new C(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];_[l]=new C(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){_[a]=new C(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){_[a]=new C(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){_[a]=new C(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){_[a]=new C(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){_[a]=new C(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){_[a]=new C(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){_[a]=new C(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(k,I);_[l]=new C(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(k,I);_[l]=new C(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(k,I);_[l]=new C(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!1,!1)}),_.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){_[a]=new C(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,l,f,g){var x=_.hasOwnProperty(l)?_[l]:null;(x!==null?x.type!==0:g||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(w(l,f,x,g)&&(f=null),g||x===null?v(l)&&(f===null?a.removeAttribute(l):a.setAttribute(l,""+f)):x.mustUseProperty?a[x.propertyName]=f===null?x.type===3?!1:"":f:(l=x.attributeName,g=x.attributeNamespace,f===null?a.removeAttribute(l):(x=x.type,f=x===3||x===4&&f===!0?"":""+f,g?a.setAttributeNS(g,l,f):a.setAttribute(l,f))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),M=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),F=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var B=Object.assign,O;function V(a){if(O===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+a}var ie=!1;function ae(a,l){if(!a||ie)return"";ie=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(U){var g=U}Reflect.construct(a,[],l)}else{try{l.call()}catch(U){g=U}a.call(l.prototype)}else{try{throw Error()}catch(U){g=U}a()}}catch(U){if(U&&g&&typeof U.stack=="string"){for(var x=U.stack.split(`
`),S=g.stack.split(`
`),N=x.length-1,T=S.length-1;1<=N&&0<=T&&x[N]!==S[T];)T--;for(;1<=N&&0<=T;N--,T--)if(x[N]!==S[T]){if(N!==1||T!==1)do if(N--,T--,0>T||x[N]!==S[T]){var D=`
`+x[N].replace(" at new "," at ");return a.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",a.displayName)),D}while(1<=N&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=f}return(a=a?a.displayName||a.name:"")?V(a):""}function _e(a){switch(a.tag){case 5:return V(a.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return a=ae(a.type,!1),a;case 11:return a=ae(a.type.render,!1),a;case 1:return a=ae(a.type,!0),a;default:return""}}function Ie(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case A:return"Portal";case Y:return"Profiler";case W:return"StrictMode";case se:return"Suspense";case ye:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case M:return(a.displayName||"Context")+".Consumer";case oe:return(a._context.displayName||"Context")+".Provider";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case G:return l=a.displayName||null,l!==null?l:Ie(a.type)||"Memo";case de:l=a._payload,a=a._init;try{return Ie(a(l))}catch{}}return null}function ce(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(l);case 8:return l===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Le(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function K(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Se(a){var l=K(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),g=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,S=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return x.call(this)},set:function(N){g=""+N,S.call(this,N)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(N){g=""+N},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Te(a){a._valueTracker||(a._valueTracker=Se(a))}function Z(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),g="";return a&&(g=K(a)?a.checked?"true":"false":a.value),a=g,a!==f?(l.setValue(a),!0):!1}function Pt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function He(a,l){var f=l.checked;return B({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??a._wrapperState.initialChecked})}function cn(a,l){var f=l.defaultValue==null?"":l.defaultValue,g=l.checked!=null?l.checked:l.defaultChecked;f=Le(l.value!=null?l.value:f),a._wrapperState={initialChecked:g,initialValue:f,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function un(a,l){l=l.checked,l!=null&&E(a,"checked",l,!1)}function gr(a,l){un(a,l);var f=Le(l.value),g=l.type;if(f!=null)g==="number"?(f===0&&a.value===""||a.value!=f)&&(a.value=""+f):a.value!==""+f&&(a.value=""+f);else if(g==="submit"||g==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?Fp(a,l.type,f):l.hasOwnProperty("defaultValue")&&Fp(a,l.type,Le(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function ul(a,l,f){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var g=l.type;if(!(g!=="submit"&&g!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,f||l===a.value||(a.value=l),a.defaultValue=l}f=a.name,f!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,f!==""&&(a.name=f)}function Fp(a,l,f){(l!=="number"||Pt(a.ownerDocument)!==a)&&(f==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+f&&(a.defaultValue=""+f))}var dl=Array.isArray;function Da(a,l,f,g){if(a=a.options,l){l={};for(var x=0;x<f.length;x++)l["$"+f[x]]=!0;for(f=0;f<a.length;f++)x=l.hasOwnProperty("$"+a[f].value),a[f].selected!==x&&(a[f].selected=x),x&&g&&(a[f].defaultSelected=!0)}else{for(f=""+Le(f),l=null,x=0;x<a.length;x++){if(a[x].value===f){a[x].selected=!0,g&&(a[x].defaultSelected=!0);return}l!==null||a[x].disabled||(l=a[x])}l!==null&&(l.selected=!0)}}function $p(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Hb(a,l){var f=l.value;if(f==null){if(f=l.children,l=l.defaultValue,f!=null){if(l!=null)throw Error(n(92));if(dl(f)){if(1<f.length)throw Error(n(93));f=f[0]}l=f}l==null&&(l=""),f=l}a._wrapperState={initialValue:Le(f)}}function Vb(a,l){var f=Le(l.value),g=Le(l.defaultValue);f!=null&&(f=""+f,f!==a.value&&(a.value=f),l.defaultValue==null&&a.defaultValue!==f&&(a.defaultValue=f)),g!=null&&(a.defaultValue=""+g)}function Kb(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Gb(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zp(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Gb(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ju,Yb=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,f,g,x){MSApp.execUnsafeLocalFunction(function(){return a(l,f,g,x)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=ju.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function fl(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LM=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(a){LM.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),hl[l]=hl[a]})});function Xb(a,l,f){return l==null||typeof l=="boolean"||l===""?"":f||typeof l!="number"||l===0||hl.hasOwnProperty(a)&&hl[a]?(""+l).trim():l+"px"}function Qb(a,l){a=a.style;for(var f in l)if(l.hasOwnProperty(f)){var g=f.indexOf("--")===0,x=Xb(f,l[f],g);f==="float"&&(f="cssFloat"),g?a.setProperty(f,x):a[f]=x}}var FM=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(a,l){if(l){if(FM[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(n(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(n(61))}if(l.style!=null&&typeof l.style!="object")throw Error(n(62))}}function Bp(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wp=null;function qp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Hp=null,Ra=null,Ma=null;function Jb(a){if(a=Rl(a)){if(typeof Hp!="function")throw Error(n(280));var l=a.stateNode;l&&(l=Zu(l),Hp(a.stateNode,a.type,l))}}function Zb(a){Ra?Ma?Ma.push(a):Ma=[a]:Ra=a}function e_(){if(Ra){var a=Ra,l=Ma;if(Ma=Ra=null,Jb(a),l)for(a=0;a<l.length;a++)Jb(l[a])}}function t_(a,l){return a(l)}function n_(){}var Vp=!1;function r_(a,l,f){if(Vp)return a(l,f);Vp=!0;try{return t_(a,l,f)}finally{Vp=!1,(Ra!==null||Ma!==null)&&(n_(),e_())}}function pl(a,l){var f=a.stateNode;if(f===null)return null;var g=Zu(f);if(g===null)return null;f=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(n(231,l,typeof f));return f}var Kp=!1;if(c)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Kp=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Kp=!1}function $M(a,l,f,g,x,S,N,T,D){var U=Array.prototype.slice.call(arguments,3);try{l.apply(f,U)}catch(J){this.onError(J)}}var gl=!1,Tu=null,Au=!1,Gp=null,zM={onError:function(a){gl=!0,Tu=a}};function UM(a,l,f,g,x,S,N,T,D){gl=!1,Tu=null,$M.apply(zM,arguments)}function BM(a,l,f,g,x,S,N,T,D){if(UM.apply(this,arguments),gl){if(gl){var U=Tu;gl=!1,Tu=null}else throw Error(n(198));Au||(Au=!0,Gp=U)}}function Ls(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function i_(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function s_(a){if(Ls(a)!==a)throw Error(n(188))}function WM(a){var l=a.alternate;if(!l){if(l=Ls(a),l===null)throw Error(n(188));return l!==a?null:a}for(var f=a,g=l;;){var x=f.return;if(x===null)break;var S=x.alternate;if(S===null){if(g=x.return,g!==null){f=g;continue}break}if(x.child===S.child){for(S=x.child;S;){if(S===f)return s_(x),a;if(S===g)return s_(x),l;S=S.sibling}throw Error(n(188))}if(f.return!==g.return)f=x,g=S;else{for(var N=!1,T=x.child;T;){if(T===f){N=!0,f=x,g=S;break}if(T===g){N=!0,g=x,f=S;break}T=T.sibling}if(!N){for(T=S.child;T;){if(T===f){N=!0,f=S,g=x;break}if(T===g){N=!0,g=S,f=x;break}T=T.sibling}if(!N)throw Error(n(189))}}if(f.alternate!==g)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?a:l}function a_(a){return a=WM(a),a!==null?o_(a):null}function o_(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=o_(a);if(l!==null)return l;a=a.sibling}return null}var l_=t.unstable_scheduleCallback,c_=t.unstable_cancelCallback,qM=t.unstable_shouldYield,HM=t.unstable_requestPaint,xt=t.unstable_now,VM=t.unstable_getCurrentPriorityLevel,Yp=t.unstable_ImmediatePriority,u_=t.unstable_UserBlockingPriority,Ou=t.unstable_NormalPriority,KM=t.unstable_LowPriority,d_=t.unstable_IdlePriority,Du=null,Wr=null;function GM(a){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(Du,a,void 0,(a.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:QM,YM=Math.log,XM=Math.LN2;function QM(a){return a>>>=0,a===0?32:31-(YM(a)/XM|0)|0}var Ru=64,Mu=4194304;function vl(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Lu(a,l){var f=a.pendingLanes;if(f===0)return 0;var g=0,x=a.suspendedLanes,S=a.pingedLanes,N=f&268435455;if(N!==0){var T=N&~x;T!==0?g=vl(T):(S&=N,S!==0&&(g=vl(S)))}else N=f&~x,N!==0?g=vl(N):S!==0&&(g=vl(S));if(g===0)return 0;if(l!==0&&l!==g&&(l&x)===0&&(x=g&-g,S=l&-l,x>=S||x===16&&(S&4194240)!==0))return l;if((g&4)!==0&&(g|=f&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=g;0<l;)f=31-vr(l),x=1<<f,g|=a[f],l&=~x;return g}function JM(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZM(a,l){for(var f=a.suspendedLanes,g=a.pingedLanes,x=a.expirationTimes,S=a.pendingLanes;0<S;){var N=31-vr(S),T=1<<N,D=x[N];D===-1?((T&f)===0||(T&g)!==0)&&(x[N]=JM(T,l)):D<=l&&(a.expiredLanes|=T),S&=~T}}function Xp(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function f_(){var a=Ru;return Ru<<=1,(Ru&4194240)===0&&(Ru=64),a}function Qp(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function yl(a,l,f){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-vr(l),a[l]=f}function eL(a,l){var f=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var g=a.eventTimes;for(a=a.expirationTimes;0<f;){var x=31-vr(f),S=1<<x;l[x]=0,g[x]=-1,a[x]=-1,f&=~S}}function Jp(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var g=31-vr(f),x=1<<g;x&l|a[g]&l&&(a[g]|=l),f&=~x}}var Ke=0;function h_(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var p_,Zp,m_,g_,v_,em=!1,Fu=[],Gi=null,Yi=null,Xi=null,xl=new Map,wl=new Map,Qi=[],tL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y_(a,l){switch(a){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":xl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(l.pointerId)}}function bl(a,l,f,g,x,S){return a===null||a.nativeEvent!==S?(a={blockedOn:l,domEventName:f,eventSystemFlags:g,nativeEvent:S,targetContainers:[x]},l!==null&&(l=Rl(l),l!==null&&Zp(l)),a):(a.eventSystemFlags|=g,l=a.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),a)}function nL(a,l,f,g,x){switch(l){case"focusin":return Gi=bl(Gi,a,l,f,g,x),!0;case"dragenter":return Yi=bl(Yi,a,l,f,g,x),!0;case"mouseover":return Xi=bl(Xi,a,l,f,g,x),!0;case"pointerover":var S=x.pointerId;return xl.set(S,bl(xl.get(S)||null,a,l,f,g,x)),!0;case"gotpointercapture":return S=x.pointerId,wl.set(S,bl(wl.get(S)||null,a,l,f,g,x)),!0}return!1}function x_(a){var l=Fs(a.target);if(l!==null){var f=Ls(l);if(f!==null){if(l=f.tag,l===13){if(l=i_(f),l!==null){a.blockedOn=l,v_(a.priority,function(){m_(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function $u(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=nm(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(f===null){f=a.nativeEvent;var g=new f.constructor(f.type,f);Wp=g,f.target.dispatchEvent(g),Wp=null}else return l=Rl(f),l!==null&&Zp(l),a.blockedOn=f,!1;l.shift()}return!0}function w_(a,l,f){$u(a)&&f.delete(l)}function rL(){em=!1,Gi!==null&&$u(Gi)&&(Gi=null),Yi!==null&&$u(Yi)&&(Yi=null),Xi!==null&&$u(Xi)&&(Xi=null),xl.forEach(w_),wl.forEach(w_)}function _l(a,l){a.blockedOn===l&&(a.blockedOn=null,em||(em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rL)))}function Sl(a){function l(x){return _l(x,a)}if(0<Fu.length){_l(Fu[0],a);for(var f=1;f<Fu.length;f++){var g=Fu[f];g.blockedOn===a&&(g.blockedOn=null)}}for(Gi!==null&&_l(Gi,a),Yi!==null&&_l(Yi,a),Xi!==null&&_l(Xi,a),xl.forEach(l),wl.forEach(l),f=0;f<Qi.length;f++)g=Qi[f],g.blockedOn===a&&(g.blockedOn=null);for(;0<Qi.length&&(f=Qi[0],f.blockedOn===null);)x_(f),f.blockedOn===null&&Qi.shift()}var La=j.ReactCurrentBatchConfig,zu=!0;function iL(a,l,f,g){var x=Ke,S=La.transition;La.transition=null;try{Ke=1,tm(a,l,f,g)}finally{Ke=x,La.transition=S}}function sL(a,l,f,g){var x=Ke,S=La.transition;La.transition=null;try{Ke=4,tm(a,l,f,g)}finally{Ke=x,La.transition=S}}function tm(a,l,f,g){if(zu){var x=nm(a,l,f,g);if(x===null)xm(a,l,g,Uu,f),y_(a,g);else if(nL(x,a,l,f,g))g.stopPropagation();else if(y_(a,g),l&4&&-1<tL.indexOf(a)){for(;x!==null;){var S=Rl(x);if(S!==null&&p_(S),S=nm(a,l,f,g),S===null&&xm(a,l,g,Uu,f),S===x)break;x=S}x!==null&&g.stopPropagation()}else xm(a,l,g,null,f)}}var Uu=null;function nm(a,l,f,g){if(Uu=null,a=qp(g),a=Fs(a),a!==null)if(l=Ls(a),l===null)a=null;else if(f=l.tag,f===13){if(a=i_(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Uu=a,null}function b_(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VM()){case Yp:return 1;case u_:return 4;case Ou:case KM:return 16;case d_:return 536870912;default:return 16}default:return 16}}var Ji=null,rm=null,Bu=null;function __(){if(Bu)return Bu;var a,l=rm,f=l.length,g,x="value"in Ji?Ji.value:Ji.textContent,S=x.length;for(a=0;a<f&&l[a]===x[a];a++);var N=f-a;for(g=1;g<=N&&l[f-g]===x[S-g];g++);return Bu=x.slice(a,1<g?1-g:void 0)}function Wu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function qu(){return!0}function S_(){return!1}function Un(a){function l(f,g,x,S,N){this._reactName=f,this._targetInst=x,this.type=g,this.nativeEvent=S,this.target=N,this.currentTarget=null;for(var T in a)a.hasOwnProperty(T)&&(f=a[T],this[T]=f?f(S):S[T]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?qu:S_,this.isPropagationStopped=S_,this}return B(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),l}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},im=Un(Fa),Cl=B({},Fa,{view:0,detail:0}),aL=Un(Cl),sm,am,kl,Hu=B({},Cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lm,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==kl&&(kl&&a.type==="mousemove"?(sm=a.screenX-kl.screenX,am=a.screenY-kl.screenY):am=sm=0,kl=a),sm)},movementY:function(a){return"movementY"in a?a.movementY:am}}),C_=Un(Hu),oL=B({},Hu,{dataTransfer:0}),lL=Un(oL),cL=B({},Cl,{relatedTarget:0}),om=Un(cL),uL=B({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),dL=Un(uL),fL=B({},Fa,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),hL=Un(fL),pL=B({},Fa,{data:0}),k_=Un(pL),mL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yL(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=vL[a])?!!l[a]:!1}function lm(){return yL}var xL=B({},Cl,{key:function(a){if(a.key){var l=mL[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Wu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?gL[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lm,charCode:function(a){return a.type==="keypress"?Wu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wL=Un(xL),bL=B({},Hu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E_=Un(bL),_L=B({},Cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lm}),SL=Un(_L),CL=B({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kL=Un(CL),EL=B({},Hu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),NL=Un(EL),IL=[9,13,27,32],cm=c&&"CompositionEvent"in window,El=null;c&&"documentMode"in document&&(El=document.documentMode);var PL=c&&"TextEvent"in window&&!El,N_=c&&(!cm||El&&8<El&&11>=El),I_=" ",P_=!1;function j_(a,l){switch(a){case"keyup":return IL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T_(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var $a=!1;function jL(a,l){switch(a){case"compositionend":return T_(l);case"keypress":return l.which!==32?null:(P_=!0,I_);case"textInput":return a=l.data,a===I_&&P_?null:a;default:return null}}function TL(a,l){if($a)return a==="compositionend"||!cm&&j_(a,l)?(a=__(),Bu=rm=Ji=null,$a=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return N_&&l.locale!=="ko"?null:l.data;default:return null}}var AL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A_(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!AL[a.type]:l==="textarea"}function O_(a,l,f,g){Zb(g),l=Xu(l,"onChange"),0<l.length&&(f=new im("onChange","change",null,f,g),a.push({event:f,listeners:l}))}var Nl=null,Il=null;function OL(a){Q_(a,0)}function Vu(a){var l=qa(a);if(Z(l))return a}function DL(a,l){if(a==="change")return l}var D_=!1;if(c){var um;if(c){var dm="oninput"in document;if(!dm){var R_=document.createElement("div");R_.setAttribute("oninput","return;"),dm=typeof R_.oninput=="function"}um=dm}else um=!1;D_=um&&(!document.documentMode||9<document.documentMode)}function M_(){Nl&&(Nl.detachEvent("onpropertychange",L_),Il=Nl=null)}function L_(a){if(a.propertyName==="value"&&Vu(Il)){var l=[];O_(l,Il,a,qp(a)),r_(OL,l)}}function RL(a,l,f){a==="focusin"?(M_(),Nl=l,Il=f,Nl.attachEvent("onpropertychange",L_)):a==="focusout"&&M_()}function ML(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Vu(Il)}function LL(a,l){if(a==="click")return Vu(l)}function FL(a,l){if(a==="input"||a==="change")return Vu(l)}function $L(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var yr=typeof Object.is=="function"?Object.is:$L;function Pl(a,l){if(yr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),g=Object.keys(l);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var x=f[g];if(!u.call(l,x)||!yr(a[x],l[x]))return!1}return!0}function F_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $_(a,l){var f=F_(a);a=0;for(var g;f;){if(f.nodeType===3){if(g=a+f.textContent.length,a<=l&&g>=l)return{node:f,offset:l-a};a=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=F_(f)}}function z_(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?z_(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function U_(){for(var a=window,l=Pt();l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Pt(a.document)}return l}function fm(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function zL(a){var l=U_(),f=a.focusedElem,g=a.selectionRange;if(l!==f&&f&&f.ownerDocument&&z_(f.ownerDocument.documentElement,f)){if(g!==null&&fm(f)){if(l=g.start,a=g.end,a===void 0&&(a=l),"selectionStart"in f)f.selectionStart=l,f.selectionEnd=Math.min(a,f.value.length);else if(a=(l=f.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var x=f.textContent.length,S=Math.min(g.start,x);g=g.end===void 0?S:Math.min(g.end,x),!a.extend&&S>g&&(x=g,g=S,S=x),x=$_(f,S);var N=$_(f,g);x&&N&&(a.rangeCount!==1||a.anchorNode!==x.node||a.anchorOffset!==x.offset||a.focusNode!==N.node||a.focusOffset!==N.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),a.removeAllRanges(),S>g?(a.addRange(l),a.extend(N.node,N.offset)):(l.setEnd(N.node,N.offset),a.addRange(l)))}}for(l=[],a=f;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<l.length;f++)a=l[f],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var UL=c&&"documentMode"in document&&11>=document.documentMode,za=null,hm=null,jl=null,pm=!1;function B_(a,l,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;pm||za==null||za!==Pt(g)||(g=za,"selectionStart"in g&&fm(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),jl&&Pl(jl,g)||(jl=g,g=Xu(hm,"onSelect"),0<g.length&&(l=new im("onSelect","select",null,l,f),a.push({event:l,listeners:g}),l.target=za)))}function Ku(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Ua={animationend:Ku("Animation","AnimationEnd"),animationiteration:Ku("Animation","AnimationIteration"),animationstart:Ku("Animation","AnimationStart"),transitionend:Ku("Transition","TransitionEnd")},mm={},W_={};c&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Gu(a){if(mm[a])return mm[a];if(!Ua[a])return a;var l=Ua[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in W_)return mm[a]=l[f];return a}var q_=Gu("animationend"),H_=Gu("animationiteration"),V_=Gu("animationstart"),K_=Gu("transitionend"),G_=new Map,Y_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zi(a,l){G_.set(a,l),s(l,[a])}for(var gm=0;gm<Y_.length;gm++){var vm=Y_[gm],BL=vm.toLowerCase(),WL=vm[0].toUpperCase()+vm.slice(1);Zi(BL,"on"+WL)}Zi(q_,"onAnimationEnd"),Zi(H_,"onAnimationIteration"),Zi(V_,"onAnimationStart"),Zi("dblclick","onDoubleClick"),Zi("focusin","onFocus"),Zi("focusout","onBlur"),Zi(K_,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function X_(a,l,f){var g=a.type||"unknown-event";a.currentTarget=f,BM(g,l,void 0,a),a.currentTarget=null}function Q_(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var g=a[f],x=g.event;g=g.listeners;e:{var S=void 0;if(l)for(var N=g.length-1;0<=N;N--){var T=g[N],D=T.instance,U=T.currentTarget;if(T=T.listener,D!==S&&x.isPropagationStopped())break e;X_(x,T,U),S=D}else for(N=0;N<g.length;N++){if(T=g[N],D=T.instance,U=T.currentTarget,T=T.listener,D!==S&&x.isPropagationStopped())break e;X_(x,T,U),S=D}}}if(Au)throw a=Gp,Au=!1,Gp=null,a}function st(a,l){var f=l[km];f===void 0&&(f=l[km]=new Set);var g=a+"__bubble";f.has(g)||(J_(l,a,2,!1),f.add(g))}function ym(a,l,f){var g=0;l&&(g|=4),J_(f,a,g,l)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Al(a){if(!a[Yu]){a[Yu]=!0,r.forEach(function(f){f!=="selectionchange"&&(qL.has(f)||ym(f,!1,a),ym(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Yu]||(l[Yu]=!0,ym("selectionchange",!1,l))}}function J_(a,l,f,g){switch(b_(l)){case 1:var x=iL;break;case 4:x=sL;break;default:x=tm}f=x.bind(null,l,f,a),x=void 0,!Kp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),g?x!==void 0?a.addEventListener(l,f,{capture:!0,passive:x}):a.addEventListener(l,f,!0):x!==void 0?a.addEventListener(l,f,{passive:x}):a.addEventListener(l,f,!1)}function xm(a,l,f,g,x){var S=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var N=g.tag;if(N===3||N===4){var T=g.stateNode.containerInfo;if(T===x||T.nodeType===8&&T.parentNode===x)break;if(N===4)for(N=g.return;N!==null;){var D=N.tag;if((D===3||D===4)&&(D=N.stateNode.containerInfo,D===x||D.nodeType===8&&D.parentNode===x))return;N=N.return}for(;T!==null;){if(N=Fs(T),N===null)return;if(D=N.tag,D===5||D===6){g=S=N;continue e}T=T.parentNode}}g=g.return}r_(function(){var U=S,J=qp(f),ee=[];e:{var Q=G_.get(a);if(Q!==void 0){var ue=im,pe=a;switch(a){case"keypress":if(Wu(f)===0)break e;case"keydown":case"keyup":ue=wL;break;case"focusin":pe="focus",ue=om;break;case"focusout":pe="blur",ue=om;break;case"beforeblur":case"afterblur":ue=om;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=C_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=lL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=SL;break;case q_:case H_:case V_:ue=dL;break;case K_:ue=kL;break;case"scroll":ue=aL;break;case"wheel":ue=NL;break;case"copy":case"cut":case"paste":ue=hL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=E_}var xe=(l&4)!==0,wt=!xe&&a==="scroll",L=xe?Q!==null?Q+"Capture":null:Q;xe=[];for(var R=U,$;R!==null;){$=R;var ne=$.stateNode;if($.tag===5&&ne!==null&&($=ne,L!==null&&(ne=pl(R,L),ne!=null&&xe.push(Ol(R,ne,$)))),wt)break;R=R.return}0<xe.length&&(Q=new ue(Q,pe,null,f,J),ee.push({event:Q,listeners:xe}))}}if((l&7)===0){e:{if(Q=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",Q&&f!==Wp&&(pe=f.relatedTarget||f.fromElement)&&(Fs(pe)||pe[ai]))break e;if((ue||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,ue?(pe=f.relatedTarget||f.toElement,ue=U,pe=pe?Fs(pe):null,pe!==null&&(wt=Ls(pe),pe!==wt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ue=null,pe=U),ue!==pe)){if(xe=C_,ne="onMouseLeave",L="onMouseEnter",R="mouse",(a==="pointerout"||a==="pointerover")&&(xe=E_,ne="onPointerLeave",L="onPointerEnter",R="pointer"),wt=ue==null?Q:qa(ue),$=pe==null?Q:qa(pe),Q=new xe(ne,R+"leave",ue,f,J),Q.target=wt,Q.relatedTarget=$,ne=null,Fs(J)===U&&(xe=new xe(L,R+"enter",pe,f,J),xe.target=$,xe.relatedTarget=wt,ne=xe),wt=ne,ue&&pe)t:{for(xe=ue,L=pe,R=0,$=xe;$;$=Ba($))R++;for($=0,ne=L;ne;ne=Ba(ne))$++;for(;0<R-$;)xe=Ba(xe),R--;for(;0<$-R;)L=Ba(L),$--;for(;R--;){if(xe===L||L!==null&&xe===L.alternate)break t;xe=Ba(xe),L=Ba(L)}xe=null}else xe=null;ue!==null&&Z_(ee,Q,ue,xe,!1),pe!==null&&wt!==null&&Z_(ee,wt,pe,xe,!0)}}e:{if(Q=U?qa(U):window,ue=Q.nodeName&&Q.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Q.type==="file")var we=DL;else if(A_(Q))if(D_)we=FL;else{we=ML;var ke=RL}else(ue=Q.nodeName)&&ue.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(we=LL);if(we&&(we=we(a,U))){O_(ee,we,f,J);break e}ke&&ke(a,Q,U),a==="focusout"&&(ke=Q._wrapperState)&&ke.controlled&&Q.type==="number"&&Fp(Q,"number",Q.value)}switch(ke=U?qa(U):window,a){case"focusin":(A_(ke)||ke.contentEditable==="true")&&(za=ke,hm=U,jl=null);break;case"focusout":jl=hm=za=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,B_(ee,f,J);break;case"selectionchange":if(UL)break;case"keydown":case"keyup":B_(ee,f,J)}var Ee;if(cm)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else $a?j_(a,f)&&(je="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(je="onCompositionStart");je&&(N_&&f.locale!=="ko"&&($a||je!=="onCompositionStart"?je==="onCompositionEnd"&&$a&&(Ee=__()):(Ji=J,rm="value"in Ji?Ji.value:Ji.textContent,$a=!0)),ke=Xu(U,je),0<ke.length&&(je=new k_(je,a,null,f,J),ee.push({event:je,listeners:ke}),Ee?je.data=Ee:(Ee=T_(f),Ee!==null&&(je.data=Ee)))),(Ee=PL?jL(a,f):TL(a,f))&&(U=Xu(U,"onBeforeInput"),0<U.length&&(J=new k_("onBeforeInput","beforeinput",null,f,J),ee.push({event:J,listeners:U}),J.data=Ee))}Q_(ee,l)})}function Ol(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Xu(a,l){for(var f=l+"Capture",g=[];a!==null;){var x=a,S=x.stateNode;x.tag===5&&S!==null&&(x=S,S=pl(a,f),S!=null&&g.unshift(Ol(a,S,x)),S=pl(a,l),S!=null&&g.push(Ol(a,S,x))),a=a.return}return g}function Ba(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Z_(a,l,f,g,x){for(var S=l._reactName,N=[];f!==null&&f!==g;){var T=f,D=T.alternate,U=T.stateNode;if(D!==null&&D===g)break;T.tag===5&&U!==null&&(T=U,x?(D=pl(f,S),D!=null&&N.unshift(Ol(f,D,T))):x||(D=pl(f,S),D!=null&&N.push(Ol(f,D,T)))),f=f.return}N.length!==0&&a.push({event:l,listeners:N})}var HL=/\r\n?/g,VL=/\u0000|\uFFFD/g;function e1(a){return(typeof a=="string"?a:""+a).replace(HL,`
`).replace(VL,"")}function Qu(a,l,f){if(l=e1(l),e1(a)!==l&&f)throw Error(n(425))}function Ju(){}var wm=null,bm=null;function _m(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Sm=typeof setTimeout=="function"?setTimeout:void 0,KL=typeof clearTimeout=="function"?clearTimeout:void 0,t1=typeof Promise=="function"?Promise:void 0,GL=typeof queueMicrotask=="function"?queueMicrotask:typeof t1<"u"?function(a){return t1.resolve(null).then(a).catch(YL)}:Sm;function YL(a){setTimeout(function(){throw a})}function Cm(a,l){var f=l,g=0;do{var x=f.nextSibling;if(a.removeChild(f),x&&x.nodeType===8)if(f=x.data,f==="/$"){if(g===0){a.removeChild(x),Sl(l);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=x}while(f);Sl(l)}function es(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function n1(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),qr="__reactFiber$"+Wa,Dl="__reactProps$"+Wa,ai="__reactContainer$"+Wa,km="__reactEvents$"+Wa,XL="__reactListeners$"+Wa,QL="__reactHandles$"+Wa;function Fs(a){var l=a[qr];if(l)return l;for(var f=a.parentNode;f;){if(l=f[ai]||f[qr]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=n1(a);a!==null;){if(f=a[qr])return f;a=n1(a)}return l}a=f,f=a.parentNode}return null}function Rl(a){return a=a[qr]||a[ai],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function qa(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Zu(a){return a[Dl]||null}var Em=[],Ha=-1;function ts(a){return{current:a}}function at(a){0>Ha||(a.current=Em[Ha],Em[Ha]=null,Ha--)}function Ze(a,l){Ha++,Em[Ha]=a.current,a.current=l}var ns={},dn=ts(ns),Nn=ts(!1),$s=ns;function Va(a,l){var f=a.type.contextTypes;if(!f)return ns;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===l)return g.__reactInternalMemoizedMaskedChildContext;var x={},S;for(S in f)x[S]=l[S];return g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=x),x}function In(a){return a=a.childContextTypes,a!=null}function ed(){at(Nn),at(dn)}function r1(a,l,f){if(dn.current!==ns)throw Error(n(168));Ze(dn,l),Ze(Nn,f)}function i1(a,l,f){var g=a.stateNode;if(l=l.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var x in g)if(!(x in l))throw Error(n(108,ce(a)||"Unknown",x));return B({},f,g)}function td(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ns,$s=dn.current,Ze(dn,a),Ze(Nn,Nn.current),!0}function s1(a,l,f){var g=a.stateNode;if(!g)throw Error(n(169));f?(a=i1(a,l,$s),g.__reactInternalMemoizedMergedChildContext=a,at(Nn),at(dn),Ze(dn,a)):at(Nn),Ze(Nn,f)}var oi=null,nd=!1,Nm=!1;function a1(a){oi===null?oi=[a]:oi.push(a)}function JL(a){nd=!0,a1(a)}function rs(){if(!Nm&&oi!==null){Nm=!0;var a=0,l=Ke;try{var f=oi;for(Ke=1;a<f.length;a++){var g=f[a];do g=g(!0);while(g!==null)}oi=null,nd=!1}catch(x){throw oi!==null&&(oi=oi.slice(a+1)),l_(Yp,rs),x}finally{Ke=l,Nm=!1}}return null}var Ka=[],Ga=0,rd=null,id=0,Jn=[],Zn=0,zs=null,li=1,ci="";function Us(a,l){Ka[Ga++]=id,Ka[Ga++]=rd,rd=a,id=l}function o1(a,l,f){Jn[Zn++]=li,Jn[Zn++]=ci,Jn[Zn++]=zs,zs=a;var g=li;a=ci;var x=32-vr(g)-1;g&=~(1<<x),f+=1;var S=32-vr(l)+x;if(30<S){var N=x-x%5;S=(g&(1<<N)-1).toString(32),g>>=N,x-=N,li=1<<32-vr(l)+x|f<<x|g,ci=S+a}else li=1<<S|f<<x|g,ci=a}function Im(a){a.return!==null&&(Us(a,1),o1(a,1,0))}function Pm(a){for(;a===rd;)rd=Ka[--Ga],Ka[Ga]=null,id=Ka[--Ga],Ka[Ga]=null;for(;a===zs;)zs=Jn[--Zn],Jn[Zn]=null,ci=Jn[--Zn],Jn[Zn]=null,li=Jn[--Zn],Jn[Zn]=null}var Bn=null,Wn=null,lt=!1,xr=null;function l1(a,l){var f=rr(5,null,null,0);f.elementType="DELETED",f.stateNode=l,f.return=a,l=a.deletions,l===null?(a.deletions=[f],a.flags|=16):l.push(f)}function c1(a,l){switch(a.tag){case 5:var f=a.type;return l=l.nodeType!==1||f.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Bn=a,Wn=es(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Bn=a,Wn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(f=zs!==null?{id:li,overflow:ci}:null,a.memoizedState={dehydrated:l,treeContext:f,retryLane:1073741824},f=rr(18,null,null,0),f.stateNode=l,f.return=a,a.child=f,Bn=a,Wn=null,!0):!1;default:return!1}}function jm(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Tm(a){if(lt){var l=Wn;if(l){var f=l;if(!c1(a,l)){if(jm(a))throw Error(n(418));l=es(f.nextSibling);var g=Bn;l&&c1(a,l)?l1(g,f):(a.flags=a.flags&-4097|2,lt=!1,Bn=a)}}else{if(jm(a))throw Error(n(418));a.flags=a.flags&-4097|2,lt=!1,Bn=a}}}function u1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Bn=a}function sd(a){if(a!==Bn)return!1;if(!lt)return u1(a),lt=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!_m(a.type,a.memoizedProps)),l&&(l=Wn)){if(jm(a))throw d1(),Error(n(418));for(;l;)l1(a,l),l=es(l.nextSibling)}if(u1(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"){if(l===0){Wn=es(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++}a=a.nextSibling}Wn=null}}else Wn=Bn?es(a.stateNode.nextSibling):null;return!0}function d1(){for(var a=Wn;a;)a=es(a.nextSibling)}function Ya(){Wn=Bn=null,lt=!1}function Am(a){xr===null?xr=[a]:xr.push(a)}var ZL=j.ReactCurrentBatchConfig;function Ml(a,l,f){if(a=f.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(n(309));var g=f.stateNode}if(!g)throw Error(n(147,a));var x=g,S=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===S?l.ref:(l=function(N){var T=x.refs;N===null?delete T[S]:T[S]=N},l._stringRef=S,l)}if(typeof a!="string")throw Error(n(284));if(!f._owner)throw Error(n(290,a))}return a}function ad(a,l){throw a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function f1(a){var l=a._init;return l(a._payload)}function h1(a){function l(L,R){if(a){var $=L.deletions;$===null?(L.deletions=[R],L.flags|=16):$.push(R)}}function f(L,R){if(!a)return null;for(;R!==null;)l(L,R),R=R.sibling;return null}function g(L,R){for(L=new Map;R!==null;)R.key!==null?L.set(R.key,R):L.set(R.index,R),R=R.sibling;return L}function x(L,R){return L=ds(L,R),L.index=0,L.sibling=null,L}function S(L,R,$){return L.index=$,a?($=L.alternate,$!==null?($=$.index,$<R?(L.flags|=2,R):$):(L.flags|=2,R)):(L.flags|=1048576,R)}function N(L){return a&&L.alternate===null&&(L.flags|=2),L}function T(L,R,$,ne){return R===null||R.tag!==6?(R=Sg($,L.mode,ne),R.return=L,R):(R=x(R,$),R.return=L,R)}function D(L,R,$,ne){var we=$.type;return we===z?J(L,R,$.props.children,ne,$.key):R!==null&&(R.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===de&&f1(we)===R.type)?(ne=x(R,$.props),ne.ref=Ml(L,R,$),ne.return=L,ne):(ne=jd($.type,$.key,$.props,null,L.mode,ne),ne.ref=Ml(L,R,$),ne.return=L,ne)}function U(L,R,$,ne){return R===null||R.tag!==4||R.stateNode.containerInfo!==$.containerInfo||R.stateNode.implementation!==$.implementation?(R=Cg($,L.mode,ne),R.return=L,R):(R=x(R,$.children||[]),R.return=L,R)}function J(L,R,$,ne,we){return R===null||R.tag!==7?(R=Ys($,L.mode,ne,we),R.return=L,R):(R=x(R,$),R.return=L,R)}function ee(L,R,$){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Sg(""+R,L.mode,$),R.return=L,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case P:return $=jd(R.type,R.key,R.props,null,L.mode,$),$.ref=Ml(L,null,R),$.return=L,$;case A:return R=Cg(R,L.mode,$),R.return=L,R;case de:var ne=R._init;return ee(L,ne(R._payload),$)}if(dl(R)||te(R))return R=Ys(R,L.mode,$,null),R.return=L,R;ad(L,R)}return null}function Q(L,R,$,ne){var we=R!==null?R.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return we!==null?null:T(L,R,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return $.key===we?D(L,R,$,ne):null;case A:return $.key===we?U(L,R,$,ne):null;case de:return we=$._init,Q(L,R,we($._payload),ne)}if(dl($)||te($))return we!==null?null:J(L,R,$,ne,null);ad(L,$)}return null}function ue(L,R,$,ne,we){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return L=L.get($)||null,T(R,L,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:return L=L.get(ne.key===null?$:ne.key)||null,D(R,L,ne,we);case A:return L=L.get(ne.key===null?$:ne.key)||null,U(R,L,ne,we);case de:var ke=ne._init;return ue(L,R,$,ke(ne._payload),we)}if(dl(ne)||te(ne))return L=L.get($)||null,J(R,L,ne,we,null);ad(R,ne)}return null}function pe(L,R,$,ne){for(var we=null,ke=null,Ee=R,je=R=0,Wt=null;Ee!==null&&je<$.length;je++){Ee.index>je?(Wt=Ee,Ee=null):Wt=Ee.sibling;var Be=Q(L,Ee,$[je],ne);if(Be===null){Ee===null&&(Ee=Wt);break}a&&Ee&&Be.alternate===null&&l(L,Ee),R=S(Be,R,je),ke===null?we=Be:ke.sibling=Be,ke=Be,Ee=Wt}if(je===$.length)return f(L,Ee),lt&&Us(L,je),we;if(Ee===null){for(;je<$.length;je++)Ee=ee(L,$[je],ne),Ee!==null&&(R=S(Ee,R,je),ke===null?we=Ee:ke.sibling=Ee,ke=Ee);return lt&&Us(L,je),we}for(Ee=g(L,Ee);je<$.length;je++)Wt=ue(Ee,L,je,$[je],ne),Wt!==null&&(a&&Wt.alternate!==null&&Ee.delete(Wt.key===null?je:Wt.key),R=S(Wt,R,je),ke===null?we=Wt:ke.sibling=Wt,ke=Wt);return a&&Ee.forEach(function(fs){return l(L,fs)}),lt&&Us(L,je),we}function xe(L,R,$,ne){var we=te($);if(typeof we!="function")throw Error(n(150));if($=we.call($),$==null)throw Error(n(151));for(var ke=we=null,Ee=R,je=R=0,Wt=null,Be=$.next();Ee!==null&&!Be.done;je++,Be=$.next()){Ee.index>je?(Wt=Ee,Ee=null):Wt=Ee.sibling;var fs=Q(L,Ee,Be.value,ne);if(fs===null){Ee===null&&(Ee=Wt);break}a&&Ee&&fs.alternate===null&&l(L,Ee),R=S(fs,R,je),ke===null?we=fs:ke.sibling=fs,ke=fs,Ee=Wt}if(Be.done)return f(L,Ee),lt&&Us(L,je),we;if(Ee===null){for(;!Be.done;je++,Be=$.next())Be=ee(L,Be.value,ne),Be!==null&&(R=S(Be,R,je),ke===null?we=Be:ke.sibling=Be,ke=Be);return lt&&Us(L,je),we}for(Ee=g(L,Ee);!Be.done;je++,Be=$.next())Be=ue(Ee,L,je,Be.value,ne),Be!==null&&(a&&Be.alternate!==null&&Ee.delete(Be.key===null?je:Be.key),R=S(Be,R,je),ke===null?we=Be:ke.sibling=Be,ke=Be);return a&&Ee.forEach(function(A4){return l(L,A4)}),lt&&Us(L,je),we}function wt(L,R,$,ne){if(typeof $=="object"&&$!==null&&$.type===z&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case P:e:{for(var we=$.key,ke=R;ke!==null;){if(ke.key===we){if(we=$.type,we===z){if(ke.tag===7){f(L,ke.sibling),R=x(ke,$.props.children),R.return=L,L=R;break e}}else if(ke.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===de&&f1(we)===ke.type){f(L,ke.sibling),R=x(ke,$.props),R.ref=Ml(L,ke,$),R.return=L,L=R;break e}f(L,ke);break}else l(L,ke);ke=ke.sibling}$.type===z?(R=Ys($.props.children,L.mode,ne,$.key),R.return=L,L=R):(ne=jd($.type,$.key,$.props,null,L.mode,ne),ne.ref=Ml(L,R,$),ne.return=L,L=ne)}return N(L);case A:e:{for(ke=$.key;R!==null;){if(R.key===ke)if(R.tag===4&&R.stateNode.containerInfo===$.containerInfo&&R.stateNode.implementation===$.implementation){f(L,R.sibling),R=x(R,$.children||[]),R.return=L,L=R;break e}else{f(L,R);break}else l(L,R);R=R.sibling}R=Cg($,L.mode,ne),R.return=L,L=R}return N(L);case de:return ke=$._init,wt(L,R,ke($._payload),ne)}if(dl($))return pe(L,R,$,ne);if(te($))return xe(L,R,$,ne);ad(L,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,R!==null&&R.tag===6?(f(L,R.sibling),R=x(R,$),R.return=L,L=R):(f(L,R),R=Sg($,L.mode,ne),R.return=L,L=R),N(L)):f(L,R)}return wt}var Xa=h1(!0),p1=h1(!1),od=ts(null),ld=null,Qa=null,Om=null;function Dm(){Om=Qa=ld=null}function Rm(a){var l=od.current;at(od),a._currentValue=l}function Mm(a,l,f){for(;a!==null;){var g=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),a===f)break;a=a.return}}function Ja(a,l){ld=a,Om=Qa=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(Pn=!0),a.firstContext=null)}function er(a){var l=a._currentValue;if(Om!==a)if(a={context:a,memoizedValue:l,next:null},Qa===null){if(ld===null)throw Error(n(308));Qa=a,ld.dependencies={lanes:0,firstContext:a}}else Qa=Qa.next=a;return l}var Bs=null;function Lm(a){Bs===null?Bs=[a]:Bs.push(a)}function m1(a,l,f,g){var x=l.interleaved;return x===null?(f.next=f,Lm(l)):(f.next=x.next,x.next=f),l.interleaved=f,ui(a,g)}function ui(a,l){a.lanes|=l;var f=a.alternate;for(f!==null&&(f.lanes|=l),f=a,a=a.return;a!==null;)a.childLanes|=l,f=a.alternate,f!==null&&(f.childLanes|=l),f=a,a=a.return;return f.tag===3?f.stateNode:null}var is=!1;function Fm(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function g1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function di(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function ss(a,l,f){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Ue&2)!==0){var x=g.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),g.pending=l,ui(a,f)}return x=g.interleaved,x===null?(l.next=l,Lm(g)):(l.next=x.next,x.next=l),g.interleaved=l,ui(a,f)}function cd(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194240)!==0)){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Jp(a,f)}}function v1(a,l){var f=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var x=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var N={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?x=S=N:S=S.next=N,f=f.next}while(f!==null);S===null?x=S=l:S=S.next=l}else x=S=l;f={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:S,shared:g.shared,effects:g.effects},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function ud(a,l,f,g){var x=a.updateQueue;is=!1;var S=x.firstBaseUpdate,N=x.lastBaseUpdate,T=x.shared.pending;if(T!==null){x.shared.pending=null;var D=T,U=D.next;D.next=null,N===null?S=U:N.next=U,N=D;var J=a.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==N&&(T===null?J.firstBaseUpdate=U:T.next=U,J.lastBaseUpdate=D))}if(S!==null){var ee=x.baseState;N=0,J=U=D=null,T=S;do{var Q=T.lane,ue=T.eventTime;if((g&Q)===Q){J!==null&&(J=J.next={eventTime:ue,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var pe=a,xe=T;switch(Q=l,ue=f,xe.tag){case 1:if(pe=xe.payload,typeof pe=="function"){ee=pe.call(ue,ee,Q);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=xe.payload,Q=typeof pe=="function"?pe.call(ue,ee,Q):pe,Q==null)break e;ee=B({},ee,Q);break e;case 2:is=!0}}T.callback!==null&&T.lane!==0&&(a.flags|=64,Q=x.effects,Q===null?x.effects=[T]:Q.push(T))}else ue={eventTime:ue,lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(U=J=ue,D=ee):J=J.next=ue,N|=Q;if(T=T.next,T===null){if(T=x.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,x.lastBaseUpdate=Q,x.shared.pending=null}}while(!0);if(J===null&&(D=ee),x.baseState=D,x.firstBaseUpdate=U,x.lastBaseUpdate=J,l=x.shared.interleaved,l!==null){x=l;do N|=x.lane,x=x.next;while(x!==l)}else S===null&&(x.shared.lanes=0);Hs|=N,a.lanes=N,a.memoizedState=ee}}function y1(a,l,f){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var g=a[l],x=g.callback;if(x!==null){if(g.callback=null,g=f,typeof x!="function")throw Error(n(191,x));x.call(g)}}}var Ll={},Hr=ts(Ll),Fl=ts(Ll),$l=ts(Ll);function Ws(a){if(a===Ll)throw Error(n(174));return a}function $m(a,l){switch(Ze($l,l),Ze(Fl,a),Ze(Hr,Ll),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:zp(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=zp(l,a)}at(Hr),Ze(Hr,l)}function Za(){at(Hr),at(Fl),at($l)}function x1(a){Ws($l.current);var l=Ws(Hr.current),f=zp(l,a.type);l!==f&&(Ze(Fl,a),Ze(Hr,f))}function zm(a){Fl.current===a&&(at(Hr),at(Fl))}var ht=ts(0);function dd(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Um=[];function Bm(){for(var a=0;a<Um.length;a++)Um[a]._workInProgressVersionPrimary=null;Um.length=0}var fd=j.ReactCurrentDispatcher,Wm=j.ReactCurrentBatchConfig,qs=0,pt=null,jt=null,Ut=null,hd=!1,zl=!1,Ul=0,e4=0;function fn(){throw Error(n(321))}function qm(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!yr(a[f],l[f]))return!1;return!0}function Hm(a,l,f,g,x,S){if(qs=S,pt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,fd.current=a===null||a.memoizedState===null?i4:s4,a=f(g,x),zl){S=0;do{if(zl=!1,Ul=0,25<=S)throw Error(n(301));S+=1,Ut=jt=null,l.updateQueue=null,fd.current=a4,a=f(g,x)}while(zl)}if(fd.current=gd,l=jt!==null&&jt.next!==null,qs=0,Ut=jt=pt=null,hd=!1,l)throw Error(n(300));return a}function Vm(){var a=Ul!==0;return Ul=0,a}function Vr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?pt.memoizedState=Ut=a:Ut=Ut.next=a,Ut}function tr(){if(jt===null){var a=pt.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var l=Ut===null?pt.memoizedState:Ut.next;if(l!==null)Ut=l,jt=a;else{if(a===null)throw Error(n(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ut===null?pt.memoizedState=Ut=a:Ut=Ut.next=a}return Ut}function Bl(a,l){return typeof l=="function"?l(a):l}function Km(a){var l=tr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var g=jt,x=g.baseQueue,S=f.pending;if(S!==null){if(x!==null){var N=x.next;x.next=S.next,S.next=N}g.baseQueue=x=S,f.pending=null}if(x!==null){S=x.next,g=g.baseState;var T=N=null,D=null,U=S;do{var J=U.lane;if((qs&J)===J)D!==null&&(D=D.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),g=U.hasEagerState?U.eagerState:a(g,U.action);else{var ee={lane:J,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};D===null?(T=D=ee,N=g):D=D.next=ee,pt.lanes|=J,Hs|=J}U=U.next}while(U!==null&&U!==S);D===null?N=g:D.next=T,yr(g,l.memoizedState)||(Pn=!0),l.memoizedState=g,l.baseState=N,l.baseQueue=D,f.lastRenderedState=g}if(a=f.interleaved,a!==null){x=a;do S=x.lane,pt.lanes|=S,Hs|=S,x=x.next;while(x!==a)}else x===null&&(f.lanes=0);return[l.memoizedState,f.dispatch]}function Gm(a){var l=tr(),f=l.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=a;var g=f.dispatch,x=f.pending,S=l.memoizedState;if(x!==null){f.pending=null;var N=x=x.next;do S=a(S,N.action),N=N.next;while(N!==x);yr(S,l.memoizedState)||(Pn=!0),l.memoizedState=S,l.baseQueue===null&&(l.baseState=S),f.lastRenderedState=S}return[S,g]}function w1(){}function b1(a,l){var f=pt,g=tr(),x=l(),S=!yr(g.memoizedState,x);if(S&&(g.memoizedState=x,Pn=!0),g=g.queue,Ym(C1.bind(null,f,g,a),[a]),g.getSnapshot!==l||S||Ut!==null&&Ut.memoizedState.tag&1){if(f.flags|=2048,Wl(9,S1.bind(null,f,g,x,l),void 0,null),Bt===null)throw Error(n(349));(qs&30)!==0||_1(f,l,x)}return x}function _1(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function S1(a,l,f,g){l.value=f,l.getSnapshot=g,k1(l)&&E1(a)}function C1(a,l,f){return f(function(){k1(l)&&E1(a)})}function k1(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!yr(a,f)}catch{return!0}}function E1(a){var l=ui(a,1);l!==null&&Sr(l,a,1,-1)}function N1(a){var l=Vr();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:a},l.queue=a,a=a.dispatch=r4.bind(null,pt,a),[l.memoizedState,a]}function Wl(a,l,f,g){return a={tag:a,create:l,destroy:f,deps:g,next:null},l=pt.updateQueue,l===null?(l={lastEffect:null,stores:null},pt.updateQueue=l,l.lastEffect=a.next=a):(f=l.lastEffect,f===null?l.lastEffect=a.next=a:(g=f.next,f.next=a,a.next=g,l.lastEffect=a)),a}function I1(){return tr().memoizedState}function pd(a,l,f,g){var x=Vr();pt.flags|=a,x.memoizedState=Wl(1|l,f,void 0,g===void 0?null:g)}function md(a,l,f,g){var x=tr();g=g===void 0?null:g;var S=void 0;if(jt!==null){var N=jt.memoizedState;if(S=N.destroy,g!==null&&qm(g,N.deps)){x.memoizedState=Wl(l,f,S,g);return}}pt.flags|=a,x.memoizedState=Wl(1|l,f,S,g)}function P1(a,l){return pd(8390656,8,a,l)}function Ym(a,l){return md(2048,8,a,l)}function j1(a,l){return md(4,2,a,l)}function T1(a,l){return md(4,4,a,l)}function A1(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function O1(a,l,f){return f=f!=null?f.concat([a]):null,md(4,4,A1.bind(null,l,a),f)}function Xm(){}function D1(a,l){var f=tr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&qm(l,g[1])?g[0]:(f.memoizedState=[a,l],a)}function R1(a,l){var f=tr();l=l===void 0?null:l;var g=f.memoizedState;return g!==null&&l!==null&&qm(l,g[1])?g[0]:(a=a(),f.memoizedState=[a,l],a)}function M1(a,l,f){return(qs&21)===0?(a.baseState&&(a.baseState=!1,Pn=!0),a.memoizedState=f):(yr(f,l)||(f=f_(),pt.lanes|=f,Hs|=f,a.baseState=!0),l)}function t4(a,l){var f=Ke;Ke=f!==0&&4>f?f:4,a(!0);var g=Wm.transition;Wm.transition={};try{a(!1),l()}finally{Ke=f,Wm.transition=g}}function L1(){return tr().memoizedState}function n4(a,l,f){var g=cs(a);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},F1(a))$1(l,f);else if(f=m1(a,l,f,g),f!==null){var x=xn();Sr(f,a,g,x),z1(f,l,g)}}function r4(a,l,f){var g=cs(a),x={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(F1(a))$1(l,x);else{var S=a.alternate;if(a.lanes===0&&(S===null||S.lanes===0)&&(S=l.lastRenderedReducer,S!==null))try{var N=l.lastRenderedState,T=S(N,f);if(x.hasEagerState=!0,x.eagerState=T,yr(T,N)){var D=l.interleaved;D===null?(x.next=x,Lm(l)):(x.next=D.next,D.next=x),l.interleaved=x;return}}catch{}finally{}f=m1(a,l,x,g),f!==null&&(x=xn(),Sr(f,a,g,x),z1(f,l,g))}}function F1(a){var l=a.alternate;return a===pt||l!==null&&l===pt}function $1(a,l){zl=hd=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function z1(a,l,f){if((f&4194240)!==0){var g=l.lanes;g&=a.pendingLanes,f|=g,l.lanes=f,Jp(a,f)}}var gd={readContext:er,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},i4={readContext:er,useCallback:function(a,l){return Vr().memoizedState=[a,l===void 0?null:l],a},useContext:er,useEffect:P1,useImperativeHandle:function(a,l,f){return f=f!=null?f.concat([a]):null,pd(4194308,4,A1.bind(null,l,a),f)},useLayoutEffect:function(a,l){return pd(4194308,4,a,l)},useInsertionEffect:function(a,l){return pd(4,2,a,l)},useMemo:function(a,l){var f=Vr();return l=l===void 0?null:l,a=a(),f.memoizedState=[a,l],a},useReducer:function(a,l,f){var g=Vr();return l=f!==void 0?f(l):l,g.memoizedState=g.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},g.queue=a,a=a.dispatch=n4.bind(null,pt,a),[g.memoizedState,a]},useRef:function(a){var l=Vr();return a={current:a},l.memoizedState=a},useState:N1,useDebugValue:Xm,useDeferredValue:function(a){return Vr().memoizedState=a},useTransition:function(){var a=N1(!1),l=a[0];return a=t4.bind(null,a[1]),Vr().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,f){var g=pt,x=Vr();if(lt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=l(),Bt===null)throw Error(n(349));(qs&30)!==0||_1(g,l,f)}x.memoizedState=f;var S={value:f,getSnapshot:l};return x.queue=S,P1(C1.bind(null,g,S,a),[a]),g.flags|=2048,Wl(9,S1.bind(null,g,S,f,l),void 0,null),f},useId:function(){var a=Vr(),l=Bt.identifierPrefix;if(lt){var f=ci,g=li;f=(g&~(1<<32-vr(g)-1)).toString(32)+f,l=":"+l+"R"+f,f=Ul++,0<f&&(l+="H"+f.toString(32)),l+=":"}else f=e4++,l=":"+l+"r"+f.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},s4={readContext:er,useCallback:D1,useContext:er,useEffect:Ym,useImperativeHandle:O1,useInsertionEffect:j1,useLayoutEffect:T1,useMemo:R1,useReducer:Km,useRef:I1,useState:function(){return Km(Bl)},useDebugValue:Xm,useDeferredValue:function(a){var l=tr();return M1(l,jt.memoizedState,a)},useTransition:function(){var a=Km(Bl)[0],l=tr().memoizedState;return[a,l]},useMutableSource:w1,useSyncExternalStore:b1,useId:L1,unstable_isNewReconciler:!1},a4={readContext:er,useCallback:D1,useContext:er,useEffect:Ym,useImperativeHandle:O1,useInsertionEffect:j1,useLayoutEffect:T1,useMemo:R1,useReducer:Gm,useRef:I1,useState:function(){return Gm(Bl)},useDebugValue:Xm,useDeferredValue:function(a){var l=tr();return jt===null?l.memoizedState=a:M1(l,jt.memoizedState,a)},useTransition:function(){var a=Gm(Bl)[0],l=tr().memoizedState;return[a,l]},useMutableSource:w1,useSyncExternalStore:b1,useId:L1,unstable_isNewReconciler:!1};function wr(a,l){if(a&&a.defaultProps){l=B({},l),a=a.defaultProps;for(var f in a)l[f]===void 0&&(l[f]=a[f]);return l}return l}function Qm(a,l,f,g){l=a.memoizedState,f=f(g,l),f=f==null?l:B({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var vd={isMounted:function(a){return(a=a._reactInternals)?Ls(a)===a:!1},enqueueSetState:function(a,l,f){a=a._reactInternals;var g=xn(),x=cs(a),S=di(g,x);S.payload=l,f!=null&&(S.callback=f),l=ss(a,S,x),l!==null&&(Sr(l,a,x,g),cd(l,a,x))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var g=xn(),x=cs(a),S=di(g,x);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=ss(a,S,x),l!==null&&(Sr(l,a,x,g),cd(l,a,x))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=xn(),g=cs(a),x=di(f,g);x.tag=2,l!=null&&(x.callback=l),l=ss(a,x,g),l!==null&&(Sr(l,a,g,f),cd(l,a,g))}};function U1(a,l,f,g,x,S,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,S,N):l.prototype&&l.prototype.isPureReactComponent?!Pl(f,g)||!Pl(x,S):!0}function B1(a,l,f){var g=!1,x=ns,S=l.contextType;return typeof S=="object"&&S!==null?S=er(S):(x=In(l)?$s:dn.current,g=l.contextTypes,S=(g=g!=null)?Va(a,x):ns),l=new l(f,S),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=vd,a.stateNode=l,l._reactInternals=a,g&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=x,a.__reactInternalMemoizedMaskedChildContext=S),l}function W1(a,l,f,g){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,g),l.state!==a&&vd.enqueueReplaceState(l,l.state,null)}function Jm(a,l,f,g){var x=a.stateNode;x.props=f,x.state=a.memoizedState,x.refs={},Fm(a);var S=l.contextType;typeof S=="object"&&S!==null?x.context=er(S):(S=In(l)?$s:dn.current,x.context=Va(a,S)),x.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Qm(a,l,S,f),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&vd.enqueueReplaceState(x,x.state,null),ud(a,f,x,g),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308)}function eo(a,l){try{var f="",g=l;do f+=_e(g),g=g.return;while(g);var x=f}catch(S){x=`
Error generating stack: `+S.message+`
`+S.stack}return{value:a,source:l,stack:x,digest:null}}function Zm(a,l,f){return{value:a,source:null,stack:f??null,digest:l??null}}function eg(a,l){try{console.error(l.value)}catch(f){setTimeout(function(){throw f})}}var o4=typeof WeakMap=="function"?WeakMap:Map;function q1(a,l,f){f=di(-1,f),f.tag=3,f.payload={element:null};var g=l.value;return f.callback=function(){Cd||(Cd=!0,mg=g),eg(a,l)},f}function H1(a,l,f){f=di(-1,f),f.tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var x=l.value;f.payload=function(){return g(x)},f.callback=function(){eg(a,l)}}var S=a.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){eg(a,l),typeof g!="function"&&(os===null?os=new Set([this]):os.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})}),f}function V1(a,l,f){var g=a.pingCache;if(g===null){g=a.pingCache=new o4;var x=new Set;g.set(l,x)}else x=g.get(l),x===void 0&&(x=new Set,g.set(l,x));x.has(f)||(x.add(f),a=b4.bind(null,a,l,f),l.then(a,a))}function K1(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function G1(a,l,f,g,x){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(l=di(-1,1),l.tag=2,ss(f,l,1))),f.lanes|=1),a):(a.flags|=65536,a.lanes=x,a)}var l4=j.ReactCurrentOwner,Pn=!1;function yn(a,l,f,g){l.child=a===null?p1(l,null,f,g):Xa(l,a.child,f,g)}function Y1(a,l,f,g,x){f=f.render;var S=l.ref;return Ja(l,x),g=Hm(a,l,f,g,S,x),f=Vm(),a!==null&&!Pn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,fi(a,l,x)):(lt&&f&&Im(l),l.flags|=1,yn(a,l,g,x),l.child)}function X1(a,l,f,g,x){if(a===null){var S=f.type;return typeof S=="function"&&!_g(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(l.tag=15,l.type=S,Q1(a,l,S,g,x)):(a=jd(f.type,null,g,l,l.mode,x),a.ref=l.ref,a.return=l,l.child=a)}if(S=a.child,(a.lanes&x)===0){var N=S.memoizedProps;if(f=f.compare,f=f!==null?f:Pl,f(N,g)&&a.ref===l.ref)return fi(a,l,x)}return l.flags|=1,a=ds(S,g),a.ref=l.ref,a.return=l,l.child=a}function Q1(a,l,f,g,x){if(a!==null){var S=a.memoizedProps;if(Pl(S,g)&&a.ref===l.ref)if(Pn=!1,l.pendingProps=g=S,(a.lanes&x)!==0)(a.flags&131072)!==0&&(Pn=!0);else return l.lanes=a.lanes,fi(a,l,x)}return tg(a,l,f,g,x)}function J1(a,l,f){var g=l.pendingProps,x=g.children,S=a!==null?a.memoizedState:null;if(g.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(no,qn),qn|=f;else{if((f&1073741824)===0)return a=S!==null?S.baseLanes|f:f,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Ze(no,qn),qn|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=S!==null?S.baseLanes:f,Ze(no,qn),qn|=g}else S!==null?(g=S.baseLanes|f,l.memoizedState=null):g=f,Ze(no,qn),qn|=g;return yn(a,l,x,f),l.child}function Z1(a,l){var f=l.ref;(a===null&&f!==null||a!==null&&a.ref!==f)&&(l.flags|=512,l.flags|=2097152)}function tg(a,l,f,g,x){var S=In(f)?$s:dn.current;return S=Va(l,S),Ja(l,x),f=Hm(a,l,f,g,S,x),g=Vm(),a!==null&&!Pn?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~x,fi(a,l,x)):(lt&&g&&Im(l),l.flags|=1,yn(a,l,f,x),l.child)}function eS(a,l,f,g,x){if(In(f)){var S=!0;td(l)}else S=!1;if(Ja(l,x),l.stateNode===null)xd(a,l),B1(l,f,g),Jm(l,f,g,x),g=!0;else if(a===null){var N=l.stateNode,T=l.memoizedProps;N.props=T;var D=N.context,U=f.contextType;typeof U=="object"&&U!==null?U=er(U):(U=In(f)?$s:dn.current,U=Va(l,U));var J=f.getDerivedStateFromProps,ee=typeof J=="function"||typeof N.getSnapshotBeforeUpdate=="function";ee||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==g||D!==U)&&W1(l,N,g,U),is=!1;var Q=l.memoizedState;N.state=Q,ud(l,g,N,x),D=l.memoizedState,T!==g||Q!==D||Nn.current||is?(typeof J=="function"&&(Qm(l,f,J,g),D=l.memoizedState),(T=is||U1(l,f,T,g,Q,D,U))?(ee||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=D),N.props=g,N.state=D,N.context=U,g=T):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{N=l.stateNode,g1(a,l),T=l.memoizedProps,U=l.type===l.elementType?T:wr(l.type,T),N.props=U,ee=l.pendingProps,Q=N.context,D=f.contextType,typeof D=="object"&&D!==null?D=er(D):(D=In(f)?$s:dn.current,D=Va(l,D));var ue=f.getDerivedStateFromProps;(J=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(T!==ee||Q!==D)&&W1(l,N,g,D),is=!1,Q=l.memoizedState,N.state=Q,ud(l,g,N,x);var pe=l.memoizedState;T!==ee||Q!==pe||Nn.current||is?(typeof ue=="function"&&(Qm(l,f,ue,g),pe=l.memoizedState),(U=is||U1(l,f,U,g,Q,pe,D)||!1)?(J||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(g,pe,D),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(g,pe,D)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=pe),N.props=g,N.state=pe,N.context=D,g=U):(typeof N.componentDidUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||T===a.memoizedProps&&Q===a.memoizedState||(l.flags|=1024),g=!1)}return ng(a,l,f,g,S,x)}function ng(a,l,f,g,x,S){Z1(a,l);var N=(l.flags&128)!==0;if(!g&&!N)return x&&s1(l,f,!1),fi(a,l,S);g=l.stateNode,l4.current=l;var T=N&&typeof f.getDerivedStateFromError!="function"?null:g.render();return l.flags|=1,a!==null&&N?(l.child=Xa(l,a.child,null,S),l.child=Xa(l,null,T,S)):yn(a,l,T,S),l.memoizedState=g.state,x&&s1(l,f,!0),l.child}function tS(a){var l=a.stateNode;l.pendingContext?r1(a,l.pendingContext,l.pendingContext!==l.context):l.context&&r1(a,l.context,!1),$m(a,l.containerInfo)}function nS(a,l,f,g,x){return Ya(),Am(x),l.flags|=256,yn(a,l,f,g),l.child}var rg={dehydrated:null,treeContext:null,retryLane:0};function ig(a){return{baseLanes:a,cachePool:null,transitions:null}}function rS(a,l,f){var g=l.pendingProps,x=ht.current,S=!1,N=(l.flags&128)!==0,T;if((T=N)||(T=a!==null&&a.memoizedState===null?!1:(x&2)!==0),T?(S=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(x|=1),Ze(ht,x&1),a===null)return Tm(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(N=g.children,a=g.fallback,S?(g=l.mode,S=l.child,N={mode:"hidden",children:N},(g&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=N):S=Td(N,g,0,null),a=Ys(a,g,f,null),S.return=l,a.return=l,S.sibling=a,l.child=S,l.child.memoizedState=ig(f),l.memoizedState=rg,a):sg(l,N));if(x=a.memoizedState,x!==null&&(T=x.dehydrated,T!==null))return c4(a,l,N,g,T,x,f);if(S){S=g.fallback,N=l.mode,x=a.child,T=x.sibling;var D={mode:"hidden",children:g.children};return(N&1)===0&&l.child!==x?(g=l.child,g.childLanes=0,g.pendingProps=D,l.deletions=null):(g=ds(x,D),g.subtreeFlags=x.subtreeFlags&14680064),T!==null?S=ds(T,S):(S=Ys(S,N,f,null),S.flags|=2),S.return=l,g.return=l,g.sibling=S,l.child=g,g=S,S=l.child,N=a.child.memoizedState,N=N===null?ig(f):{baseLanes:N.baseLanes|f,cachePool:null,transitions:N.transitions},S.memoizedState=N,S.childLanes=a.childLanes&~f,l.memoizedState=rg,g}return S=a.child,a=S.sibling,g=ds(S,{mode:"visible",children:g.children}),(l.mode&1)===0&&(g.lanes=f),g.return=l,g.sibling=null,a!==null&&(f=l.deletions,f===null?(l.deletions=[a],l.flags|=16):f.push(a)),l.child=g,l.memoizedState=null,g}function sg(a,l){return l=Td({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function yd(a,l,f,g){return g!==null&&Am(g),Xa(l,a.child,null,f),a=sg(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function c4(a,l,f,g,x,S,N){if(f)return l.flags&256?(l.flags&=-257,g=Zm(Error(n(422))),yd(a,l,N,g)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(S=g.fallback,x=l.mode,g=Td({mode:"visible",children:g.children},x,0,null),S=Ys(S,x,N,null),S.flags|=2,g.return=l,S.return=l,g.sibling=S,l.child=g,(l.mode&1)!==0&&Xa(l,a.child,null,N),l.child.memoizedState=ig(N),l.memoizedState=rg,S);if((l.mode&1)===0)return yd(a,l,N,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var T=g.dgst;return g=T,S=Error(n(419)),g=Zm(S,g,void 0),yd(a,l,N,g)}if(T=(N&a.childLanes)!==0,Pn||T){if(g=Bt,g!==null){switch(N&-N){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(g.suspendedLanes|N))!==0?0:x,x!==0&&x!==S.retryLane&&(S.retryLane=x,ui(a,x),Sr(g,a,x,-1))}return bg(),g=Zm(Error(n(421))),yd(a,l,N,g)}return x.data==="$?"?(l.flags|=128,l.child=a.child,l=_4.bind(null,a),x._reactRetry=l,null):(a=S.treeContext,Wn=es(x.nextSibling),Bn=l,lt=!0,xr=null,a!==null&&(Jn[Zn++]=li,Jn[Zn++]=ci,Jn[Zn++]=zs,li=a.id,ci=a.overflow,zs=l),l=sg(l,g.children),l.flags|=4096,l)}function iS(a,l,f){a.lanes|=l;var g=a.alternate;g!==null&&(g.lanes|=l),Mm(a.return,l,f)}function ag(a,l,f,g,x){var S=a.memoizedState;S===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:x}:(S.isBackwards=l,S.rendering=null,S.renderingStartTime=0,S.last=g,S.tail=f,S.tailMode=x)}function sS(a,l,f){var g=l.pendingProps,x=g.revealOrder,S=g.tail;if(yn(a,l,g.children,f),g=ht.current,(g&2)!==0)g=g&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&iS(a,f,l);else if(a.tag===19)iS(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(Ze(ht,g),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(f=l.child,x=null;f!==null;)a=f.alternate,a!==null&&dd(a)===null&&(x=f),f=f.sibling;f=x,f===null?(x=l.child,l.child=null):(x=f.sibling,f.sibling=null),ag(l,!1,x,f,S);break;case"backwards":for(f=null,x=l.child,l.child=null;x!==null;){if(a=x.alternate,a!==null&&dd(a)===null){l.child=x;break}a=x.sibling,x.sibling=f,f=x,x=a}ag(l,!0,f,null,S);break;case"together":ag(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function xd(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function fi(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Hs|=l.lanes,(f&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,f=ds(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=ds(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function u4(a,l,f){switch(l.tag){case 3:tS(l),Ya();break;case 5:x1(l);break;case 1:In(l.type)&&td(l);break;case 4:$m(l,l.stateNode.containerInfo);break;case 10:var g=l.type._context,x=l.memoizedProps.value;Ze(od,g._currentValue),g._currentValue=x;break;case 13:if(g=l.memoizedState,g!==null)return g.dehydrated!==null?(Ze(ht,ht.current&1),l.flags|=128,null):(f&l.child.childLanes)!==0?rS(a,l,f):(Ze(ht,ht.current&1),a=fi(a,l,f),a!==null?a.sibling:null);Ze(ht,ht.current&1);break;case 19:if(g=(f&l.childLanes)!==0,(a.flags&128)!==0){if(g)return sS(a,l,f);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Ze(ht,ht.current),g)break;return null;case 22:case 23:return l.lanes=0,J1(a,l,f)}return fi(a,l,f)}var aS,og,oS,lS;aS=function(a,l){for(var f=l.child;f!==null;){if(f.tag===5||f.tag===6)a.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},og=function(){},oS=function(a,l,f,g){var x=a.memoizedProps;if(x!==g){a=l.stateNode,Ws(Hr.current);var S=null;switch(f){case"input":x=He(a,x),g=He(a,g),S=[];break;case"select":x=B({},x,{value:void 0}),g=B({},g,{value:void 0}),S=[];break;case"textarea":x=$p(a,x),g=$p(a,g),S=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(a.onclick=Ju)}Up(f,g);var N;f=null;for(U in x)if(!g.hasOwnProperty(U)&&x.hasOwnProperty(U)&&x[U]!=null)if(U==="style"){var T=x[U];for(N in T)T.hasOwnProperty(N)&&(f||(f={}),f[N]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(i.hasOwnProperty(U)?S||(S=[]):(S=S||[]).push(U,null));for(U in g){var D=g[U];if(T=x!=null?x[U]:void 0,g.hasOwnProperty(U)&&D!==T&&(D!=null||T!=null))if(U==="style")if(T){for(N in T)!T.hasOwnProperty(N)||D&&D.hasOwnProperty(N)||(f||(f={}),f[N]="");for(N in D)D.hasOwnProperty(N)&&T[N]!==D[N]&&(f||(f={}),f[N]=D[N])}else f||(S||(S=[]),S.push(U,f)),f=D;else U==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,T=T?T.__html:void 0,D!=null&&T!==D&&(S=S||[]).push(U,D)):U==="children"?typeof D!="string"&&typeof D!="number"||(S=S||[]).push(U,""+D):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(i.hasOwnProperty(U)?(D!=null&&U==="onScroll"&&st("scroll",a),S||T===D||(S=[])):(S=S||[]).push(U,D))}f&&(S=S||[]).push("style",f);var U=S;(l.updateQueue=U)&&(l.flags|=4)}},lS=function(a,l,f,g){f!==g&&(l.flags|=4)};function ql(a,l){if(!lt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function hn(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,g=0;if(l)for(var x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags&14680064,g|=x.flags&14680064,x.return=a,x=x.sibling;else for(x=a.child;x!==null;)f|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=a,x=x.sibling;return a.subtreeFlags|=g,a.childLanes=f,l}function d4(a,l,f){var g=l.pendingProps;switch(Pm(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(l),null;case 1:return In(l.type)&&ed(),hn(l),null;case 3:return g=l.stateNode,Za(),at(Nn),at(dn),Bm(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(a===null||a.child===null)&&(sd(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,xr!==null&&(yg(xr),xr=null))),og(a,l),hn(l),null;case 5:zm(l);var x=Ws($l.current);if(f=l.type,a!==null&&l.stateNode!=null)oS(a,l,f,g,x),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!g){if(l.stateNode===null)throw Error(n(166));return hn(l),null}if(a=Ws(Hr.current),sd(l)){g=l.stateNode,f=l.type;var S=l.memoizedProps;switch(g[qr]=l,g[Dl]=S,a=(l.mode&1)!==0,f){case"dialog":st("cancel",g),st("close",g);break;case"iframe":case"object":case"embed":st("load",g);break;case"video":case"audio":for(x=0;x<Tl.length;x++)st(Tl[x],g);break;case"source":st("error",g);break;case"img":case"image":case"link":st("error",g),st("load",g);break;case"details":st("toggle",g);break;case"input":cn(g,S),st("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!S.multiple},st("invalid",g);break;case"textarea":Hb(g,S),st("invalid",g)}Up(f,S),x=null;for(var N in S)if(S.hasOwnProperty(N)){var T=S[N];N==="children"?typeof T=="string"?g.textContent!==T&&(S.suppressHydrationWarning!==!0&&Qu(g.textContent,T,a),x=["children",T]):typeof T=="number"&&g.textContent!==""+T&&(S.suppressHydrationWarning!==!0&&Qu(g.textContent,T,a),x=["children",""+T]):i.hasOwnProperty(N)&&T!=null&&N==="onScroll"&&st("scroll",g)}switch(f){case"input":Te(g),ul(g,S,!0);break;case"textarea":Te(g),Kb(g);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(g.onclick=Ju)}g=x,l.updateQueue=g,g!==null&&(l.flags|=4)}else{N=x.nodeType===9?x:x.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Gb(f)),a==="http://www.w3.org/1999/xhtml"?f==="script"?(a=N.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof g.is=="string"?a=N.createElement(f,{is:g.is}):(a=N.createElement(f),f==="select"&&(N=a,g.multiple?N.multiple=!0:g.size&&(N.size=g.size))):a=N.createElementNS(a,f),a[qr]=l,a[Dl]=g,aS(a,l,!1,!1),l.stateNode=a;e:{switch(N=Bp(f,g),f){case"dialog":st("cancel",a),st("close",a),x=g;break;case"iframe":case"object":case"embed":st("load",a),x=g;break;case"video":case"audio":for(x=0;x<Tl.length;x++)st(Tl[x],a);x=g;break;case"source":st("error",a),x=g;break;case"img":case"image":case"link":st("error",a),st("load",a),x=g;break;case"details":st("toggle",a),x=g;break;case"input":cn(a,g),x=He(a,g),st("invalid",a);break;case"option":x=g;break;case"select":a._wrapperState={wasMultiple:!!g.multiple},x=B({},g,{value:void 0}),st("invalid",a);break;case"textarea":Hb(a,g),x=$p(a,g),st("invalid",a);break;default:x=g}Up(f,x),T=x;for(S in T)if(T.hasOwnProperty(S)){var D=T[S];S==="style"?Qb(a,D):S==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Yb(a,D)):S==="children"?typeof D=="string"?(f!=="textarea"||D!=="")&&fl(a,D):typeof D=="number"&&fl(a,""+D):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(i.hasOwnProperty(S)?D!=null&&S==="onScroll"&&st("scroll",a):D!=null&&E(a,S,D,N))}switch(f){case"input":Te(a),ul(a,g,!1);break;case"textarea":Te(a),Kb(a);break;case"option":g.value!=null&&a.setAttribute("value",""+Le(g.value));break;case"select":a.multiple=!!g.multiple,S=g.value,S!=null?Da(a,!!g.multiple,S,!1):g.defaultValue!=null&&Da(a,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(a.onclick=Ju)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return hn(l),null;case 6:if(a&&l.stateNode!=null)lS(a,l,a.memoizedProps,g);else{if(typeof g!="string"&&l.stateNode===null)throw Error(n(166));if(f=Ws($l.current),Ws(Hr.current),sd(l)){if(g=l.stateNode,f=l.memoizedProps,g[qr]=l,(S=g.nodeValue!==f)&&(a=Bn,a!==null))switch(a.tag){case 3:Qu(g.nodeValue,f,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Qu(g.nodeValue,f,(a.mode&1)!==0)}S&&(l.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[qr]=l,l.stateNode=g}return hn(l),null;case 13:if(at(ht),g=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(lt&&Wn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)d1(),Ya(),l.flags|=98560,S=!1;else if(S=sd(l),g!==null&&g.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[qr]=l}else Ya(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;hn(l),S=!1}else xr!==null&&(yg(xr),xr=null),S=!0;if(!S)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=f,l):(g=g!==null,g!==(a!==null&&a.memoizedState!==null)&&g&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(ht.current&1)!==0?Tt===0&&(Tt=3):bg())),l.updateQueue!==null&&(l.flags|=4),hn(l),null);case 4:return Za(),og(a,l),a===null&&Al(l.stateNode.containerInfo),hn(l),null;case 10:return Rm(l.type._context),hn(l),null;case 17:return In(l.type)&&ed(),hn(l),null;case 19:if(at(ht),S=l.memoizedState,S===null)return hn(l),null;if(g=(l.flags&128)!==0,N=S.rendering,N===null)if(g)ql(S,!1);else{if(Tt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(N=dd(a),N!==null){for(l.flags|=128,ql(S,!1),g=N.updateQueue,g!==null&&(l.updateQueue=g,l.flags|=4),l.subtreeFlags=0,g=f,f=l.child;f!==null;)S=f,a=g,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=a,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,a=N.dependencies,S.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),f=f.sibling;return Ze(ht,ht.current&1|2),l.child}a=a.sibling}S.tail!==null&&xt()>ro&&(l.flags|=128,g=!0,ql(S,!1),l.lanes=4194304)}else{if(!g)if(a=dd(N),a!==null){if(l.flags|=128,g=!0,f=a.updateQueue,f!==null&&(l.updateQueue=f,l.flags|=4),ql(S,!0),S.tail===null&&S.tailMode==="hidden"&&!N.alternate&&!lt)return hn(l),null}else 2*xt()-S.renderingStartTime>ro&&f!==1073741824&&(l.flags|=128,g=!0,ql(S,!1),l.lanes=4194304);S.isBackwards?(N.sibling=l.child,l.child=N):(f=S.last,f!==null?f.sibling=N:l.child=N,S.last=N)}return S.tail!==null?(l=S.tail,S.rendering=l,S.tail=l.sibling,S.renderingStartTime=xt(),l.sibling=null,f=ht.current,Ze(ht,g?f&1|2:f&1),l):(hn(l),null);case 22:case 23:return wg(),g=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==g&&(l.flags|=8192),g&&(l.mode&1)!==0?(qn&1073741824)!==0&&(hn(l),l.subtreeFlags&6&&(l.flags|=8192)):hn(l),null;case 24:return null;case 25:return null}throw Error(n(156,l.tag))}function f4(a,l){switch(Pm(l),l.tag){case 1:return In(l.type)&&ed(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Za(),at(Nn),at(dn),Bm(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return zm(l),null;case 13:if(at(ht),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Ya()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return at(ht),null;case 4:return Za(),null;case 10:return Rm(l.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var wd=!1,pn=!1,h4=typeof WeakSet=="function"?WeakSet:Set,fe=null;function to(a,l){var f=a.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){mt(a,l,g)}else f.current=null}function lg(a,l,f){try{f()}catch(g){mt(a,l,g)}}var cS=!1;function p4(a,l){if(wm=zu,a=U_(),fm(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var x=g.anchorOffset,S=g.focusNode;g=g.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var N=0,T=-1,D=-1,U=0,J=0,ee=a,Q=null;t:for(;;){for(var ue;ee!==f||x!==0&&ee.nodeType!==3||(T=N+x),ee!==S||g!==0&&ee.nodeType!==3||(D=N+g),ee.nodeType===3&&(N+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)Q=ee,ee=ue;for(;;){if(ee===a)break t;if(Q===f&&++U===x&&(T=N),Q===S&&++J===g&&(D=N),(ue=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=ue}f=T===-1||D===-1?null:{start:T,end:D}}else f=null}f=f||{start:0,end:0}}else f=null;for(bm={focusedElem:a,selectionRange:f},zu=!1,fe=l;fe!==null;)if(l=fe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,fe=a;else for(;fe!==null;){l=fe;try{var pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var xe=pe.memoizedProps,wt=pe.memoizedState,L=l.stateNode,R=L.getSnapshotBeforeUpdate(l.elementType===l.type?xe:wr(l.type,xe),wt);L.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var $=l.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ne){mt(l,l.return,ne)}if(a=l.sibling,a!==null){a.return=l.return,fe=a;break}fe=l.return}return pe=cS,cS=!1,pe}function Hl(a,l,f){var g=l.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&a)===a){var S=x.destroy;x.destroy=void 0,S!==void 0&&lg(l,f,S)}x=x.next}while(x!==g)}}function bd(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var f=l=l.next;do{if((f.tag&a)===a){var g=f.create;f.destroy=g()}f=f.next}while(f!==l)}}function cg(a){var l=a.ref;if(l!==null){var f=a.stateNode;switch(a.tag){case 5:a=f;break;default:a=f}typeof l=="function"?l(a):l.current=a}}function uS(a){var l=a.alternate;l!==null&&(a.alternate=null,uS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[qr],delete l[Dl],delete l[km],delete l[XL],delete l[QL])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function dS(a){return a.tag===5||a.tag===3||a.tag===4}function fS(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||dS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ug(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.nodeType===8?f.parentNode.insertBefore(a,l):f.insertBefore(a,l):(f.nodeType===8?(l=f.parentNode,l.insertBefore(a,f)):(l=f,l.appendChild(a)),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Ju));else if(g!==4&&(a=a.child,a!==null))for(ug(a,l,f),a=a.sibling;a!==null;)ug(a,l,f),a=a.sibling}function dg(a,l,f){var g=a.tag;if(g===5||g===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(g!==4&&(a=a.child,a!==null))for(dg(a,l,f),a=a.sibling;a!==null;)dg(a,l,f),a=a.sibling}var tn=null,br=!1;function as(a,l,f){for(f=f.child;f!==null;)hS(a,l,f),f=f.sibling}function hS(a,l,f){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(Du,f)}catch{}switch(f.tag){case 5:pn||to(f,l);case 6:var g=tn,x=br;tn=null,as(a,l,f),tn=g,br=x,tn!==null&&(br?(a=tn,f=f.stateNode,a.nodeType===8?a.parentNode.removeChild(f):a.removeChild(f)):tn.removeChild(f.stateNode));break;case 18:tn!==null&&(br?(a=tn,f=f.stateNode,a.nodeType===8?Cm(a.parentNode,f):a.nodeType===1&&Cm(a,f),Sl(a)):Cm(tn,f.stateNode));break;case 4:g=tn,x=br,tn=f.stateNode.containerInfo,br=!0,as(a,l,f),tn=g,br=x;break;case 0:case 11:case 14:case 15:if(!pn&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var S=x,N=S.destroy;S=S.tag,N!==void 0&&((S&2)!==0||(S&4)!==0)&&lg(f,l,N),x=x.next}while(x!==g)}as(a,l,f);break;case 1:if(!pn&&(to(f,l),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(T){mt(f,l,T)}as(a,l,f);break;case 21:as(a,l,f);break;case 22:f.mode&1?(pn=(g=pn)||f.memoizedState!==null,as(a,l,f),pn=g):as(a,l,f);break;default:as(a,l,f)}}function pS(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var f=a.stateNode;f===null&&(f=a.stateNode=new h4),l.forEach(function(g){var x=S4.bind(null,a,g);f.has(g)||(f.add(g),g.then(x,x))})}}function _r(a,l){var f=l.deletions;if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];try{var S=a,N=l,T=N;e:for(;T!==null;){switch(T.tag){case 5:tn=T.stateNode,br=!1;break e;case 3:tn=T.stateNode.containerInfo,br=!0;break e;case 4:tn=T.stateNode.containerInfo,br=!0;break e}T=T.return}if(tn===null)throw Error(n(160));hS(S,N,x),tn=null,br=!1;var D=x.alternate;D!==null&&(D.return=null),x.return=null}catch(U){mt(x,l,U)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)mS(l,a),l=l.sibling}function mS(a,l){var f=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(_r(l,a),Kr(a),g&4){try{Hl(3,a,a.return),bd(3,a)}catch(xe){mt(a,a.return,xe)}try{Hl(5,a,a.return)}catch(xe){mt(a,a.return,xe)}}break;case 1:_r(l,a),Kr(a),g&512&&f!==null&&to(f,f.return);break;case 5:if(_r(l,a),Kr(a),g&512&&f!==null&&to(f,f.return),a.flags&32){var x=a.stateNode;try{fl(x,"")}catch(xe){mt(a,a.return,xe)}}if(g&4&&(x=a.stateNode,x!=null)){var S=a.memoizedProps,N=f!==null?f.memoizedProps:S,T=a.type,D=a.updateQueue;if(a.updateQueue=null,D!==null)try{T==="input"&&S.type==="radio"&&S.name!=null&&un(x,S),Bp(T,N);var U=Bp(T,S);for(N=0;N<D.length;N+=2){var J=D[N],ee=D[N+1];J==="style"?Qb(x,ee):J==="dangerouslySetInnerHTML"?Yb(x,ee):J==="children"?fl(x,ee):E(x,J,ee,U)}switch(T){case"input":gr(x,S);break;case"textarea":Vb(x,S);break;case"select":var Q=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!S.multiple;var ue=S.value;ue!=null?Da(x,!!S.multiple,ue,!1):Q!==!!S.multiple&&(S.defaultValue!=null?Da(x,!!S.multiple,S.defaultValue,!0):Da(x,!!S.multiple,S.multiple?[]:"",!1))}x[Dl]=S}catch(xe){mt(a,a.return,xe)}}break;case 6:if(_r(l,a),Kr(a),g&4){if(a.stateNode===null)throw Error(n(162));x=a.stateNode,S=a.memoizedProps;try{x.nodeValue=S}catch(xe){mt(a,a.return,xe)}}break;case 3:if(_r(l,a),Kr(a),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Sl(l.containerInfo)}catch(xe){mt(a,a.return,xe)}break;case 4:_r(l,a),Kr(a);break;case 13:_r(l,a),Kr(a),x=a.child,x.flags&8192&&(S=x.memoizedState!==null,x.stateNode.isHidden=S,!S||x.alternate!==null&&x.alternate.memoizedState!==null||(pg=xt())),g&4&&pS(a);break;case 22:if(J=f!==null&&f.memoizedState!==null,a.mode&1?(pn=(U=pn)||J,_r(l,a),pn=U):_r(l,a),Kr(a),g&8192){if(U=a.memoizedState!==null,(a.stateNode.isHidden=U)&&!J&&(a.mode&1)!==0)for(fe=a,J=a.child;J!==null;){for(ee=fe=J;fe!==null;){switch(Q=fe,ue=Q.child,Q.tag){case 0:case 11:case 14:case 15:Hl(4,Q,Q.return);break;case 1:to(Q,Q.return);var pe=Q.stateNode;if(typeof pe.componentWillUnmount=="function"){g=Q,f=Q.return;try{l=g,pe.props=l.memoizedProps,pe.state=l.memoizedState,pe.componentWillUnmount()}catch(xe){mt(g,f,xe)}}break;case 5:to(Q,Q.return);break;case 22:if(Q.memoizedState!==null){yS(ee);continue}}ue!==null?(ue.return=Q,fe=ue):yS(ee)}J=J.sibling}e:for(J=null,ee=a;;){if(ee.tag===5){if(J===null){J=ee;try{x=ee.stateNode,U?(S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(T=ee.stateNode,D=ee.memoizedProps.style,N=D!=null&&D.hasOwnProperty("display")?D.display:null,T.style.display=Xb("display",N))}catch(xe){mt(a,a.return,xe)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=U?"":ee.memoizedProps}catch(xe){mt(a,a.return,xe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===a)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===a)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===a)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:_r(l,a),Kr(a),g&4&&pS(a);break;case 21:break;default:_r(l,a),Kr(a)}}function Kr(a){var l=a.flags;if(l&2){try{e:{for(var f=a.return;f!==null;){if(dS(f)){var g=f;break e}f=f.return}throw Error(n(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(fl(x,""),g.flags&=-33);var S=fS(a);dg(a,S,x);break;case 3:case 4:var N=g.stateNode.containerInfo,T=fS(a);ug(a,T,N);break;default:throw Error(n(161))}}catch(D){mt(a,a.return,D)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function m4(a,l,f){fe=a,gS(a)}function gS(a,l,f){for(var g=(a.mode&1)!==0;fe!==null;){var x=fe,S=x.child;if(x.tag===22&&g){var N=x.memoizedState!==null||wd;if(!N){var T=x.alternate,D=T!==null&&T.memoizedState!==null||pn;T=wd;var U=pn;if(wd=N,(pn=D)&&!U)for(fe=x;fe!==null;)N=fe,D=N.child,N.tag===22&&N.memoizedState!==null?xS(x):D!==null?(D.return=N,fe=D):xS(x);for(;S!==null;)fe=S,gS(S),S=S.sibling;fe=x,wd=T,pn=U}vS(a)}else(x.subtreeFlags&8772)!==0&&S!==null?(S.return=x,fe=S):vS(a)}}function vS(a){for(;fe!==null;){var l=fe;if((l.flags&8772)!==0){var f=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:pn||bd(5,l);break;case 1:var g=l.stateNode;if(l.flags&4&&!pn)if(f===null)g.componentDidMount();else{var x=l.elementType===l.type?f.memoizedProps:wr(l.type,f.memoizedProps);g.componentDidUpdate(x,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var S=l.updateQueue;S!==null&&y1(l,S,g);break;case 3:var N=l.updateQueue;if(N!==null){if(f=null,l.child!==null)switch(l.child.tag){case 5:f=l.child.stateNode;break;case 1:f=l.child.stateNode}y1(l,N,f)}break;case 5:var T=l.stateNode;if(f===null&&l.flags&4){f=T;var D=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&f.focus();break;case"img":D.src&&(f.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var U=l.alternate;if(U!==null){var J=U.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Sl(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}pn||l.flags&512&&cg(l)}catch(Q){mt(l,l.return,Q)}}if(l===a){fe=null;break}if(f=l.sibling,f!==null){f.return=l.return,fe=f;break}fe=l.return}}function yS(a){for(;fe!==null;){var l=fe;if(l===a){fe=null;break}var f=l.sibling;if(f!==null){f.return=l.return,fe=f;break}fe=l.return}}function xS(a){for(;fe!==null;){var l=fe;try{switch(l.tag){case 0:case 11:case 15:var f=l.return;try{bd(4,l)}catch(D){mt(l,f,D)}break;case 1:var g=l.stateNode;if(typeof g.componentDidMount=="function"){var x=l.return;try{g.componentDidMount()}catch(D){mt(l,x,D)}}var S=l.return;try{cg(l)}catch(D){mt(l,S,D)}break;case 5:var N=l.return;try{cg(l)}catch(D){mt(l,N,D)}}}catch(D){mt(l,l.return,D)}if(l===a){fe=null;break}var T=l.sibling;if(T!==null){T.return=l.return,fe=T;break}fe=l.return}}var g4=Math.ceil,_d=j.ReactCurrentDispatcher,fg=j.ReactCurrentOwner,nr=j.ReactCurrentBatchConfig,Ue=0,Bt=null,Et=null,nn=0,qn=0,no=ts(0),Tt=0,Vl=null,Hs=0,Sd=0,hg=0,Kl=null,jn=null,pg=0,ro=1/0,hi=null,Cd=!1,mg=null,os=null,kd=!1,ls=null,Ed=0,Gl=0,gg=null,Nd=-1,Id=0;function xn(){return(Ue&6)!==0?xt():Nd!==-1?Nd:Nd=xt()}function cs(a){return(a.mode&1)===0?1:(Ue&2)!==0&&nn!==0?nn&-nn:ZL.transition!==null?(Id===0&&(Id=f_()),Id):(a=Ke,a!==0||(a=window.event,a=a===void 0?16:b_(a.type)),a)}function Sr(a,l,f,g){if(50<Gl)throw Gl=0,gg=null,Error(n(185));yl(a,f,g),((Ue&2)===0||a!==Bt)&&(a===Bt&&((Ue&2)===0&&(Sd|=f),Tt===4&&us(a,nn)),Tn(a,g),f===1&&Ue===0&&(l.mode&1)===0&&(ro=xt()+500,nd&&rs()))}function Tn(a,l){var f=a.callbackNode;ZM(a,l);var g=Lu(a,a===Bt?nn:0);if(g===0)f!==null&&c_(f),a.callbackNode=null,a.callbackPriority=0;else if(l=g&-g,a.callbackPriority!==l){if(f!=null&&c_(f),l===1)a.tag===0?JL(bS.bind(null,a)):a1(bS.bind(null,a)),GL(function(){(Ue&6)===0&&rs()}),f=null;else{switch(h_(g)){case 1:f=Yp;break;case 4:f=u_;break;case 16:f=Ou;break;case 536870912:f=d_;break;default:f=Ou}f=PS(f,wS.bind(null,a))}a.callbackPriority=l,a.callbackNode=f}}function wS(a,l){if(Nd=-1,Id=0,(Ue&6)!==0)throw Error(n(327));var f=a.callbackNode;if(io()&&a.callbackNode!==f)return null;var g=Lu(a,a===Bt?nn:0);if(g===0)return null;if((g&30)!==0||(g&a.expiredLanes)!==0||l)l=Pd(a,g);else{l=g;var x=Ue;Ue|=2;var S=SS();(Bt!==a||nn!==l)&&(hi=null,ro=xt()+500,Ks(a,l));do try{x4();break}catch(T){_S(a,T)}while(!0);Dm(),_d.current=S,Ue=x,Et!==null?l=0:(Bt=null,nn=0,l=Tt)}if(l!==0){if(l===2&&(x=Xp(a),x!==0&&(g=x,l=vg(a,x))),l===1)throw f=Vl,Ks(a,0),us(a,g),Tn(a,xt()),f;if(l===6)us(a,g);else{if(x=a.current.alternate,(g&30)===0&&!v4(x)&&(l=Pd(a,g),l===2&&(S=Xp(a),S!==0&&(g=S,l=vg(a,S))),l===1))throw f=Vl,Ks(a,0),us(a,g),Tn(a,xt()),f;switch(a.finishedWork=x,a.finishedLanes=g,l){case 0:case 1:throw Error(n(345));case 2:Gs(a,jn,hi);break;case 3:if(us(a,g),(g&130023424)===g&&(l=pg+500-xt(),10<l)){if(Lu(a,0)!==0)break;if(x=a.suspendedLanes,(x&g)!==g){xn(),a.pingedLanes|=a.suspendedLanes&x;break}a.timeoutHandle=Sm(Gs.bind(null,a,jn,hi),l);break}Gs(a,jn,hi);break;case 4:if(us(a,g),(g&4194240)===g)break;for(l=a.eventTimes,x=-1;0<g;){var N=31-vr(g);S=1<<N,N=l[N],N>x&&(x=N),g&=~S}if(g=x,g=xt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*g4(g/1960))-g,10<g){a.timeoutHandle=Sm(Gs.bind(null,a,jn,hi),g);break}Gs(a,jn,hi);break;case 5:Gs(a,jn,hi);break;default:throw Error(n(329))}}}return Tn(a,xt()),a.callbackNode===f?wS.bind(null,a):null}function vg(a,l){var f=Kl;return a.current.memoizedState.isDehydrated&&(Ks(a,l).flags|=256),a=Pd(a,l),a!==2&&(l=jn,jn=f,l!==null&&yg(l)),a}function yg(a){jn===null?jn=a:jn.push.apply(jn,a)}function v4(a){for(var l=a;;){if(l.flags&16384){var f=l.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var x=f[g],S=x.getSnapshot;x=x.value;try{if(!yr(S(),x))return!1}catch{return!1}}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function us(a,l){for(l&=~hg,l&=~Sd,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var f=31-vr(l),g=1<<f;a[f]=-1,l&=~g}}function bS(a){if((Ue&6)!==0)throw Error(n(327));io();var l=Lu(a,0);if((l&1)===0)return Tn(a,xt()),null;var f=Pd(a,l);if(a.tag!==0&&f===2){var g=Xp(a);g!==0&&(l=g,f=vg(a,g))}if(f===1)throw f=Vl,Ks(a,0),us(a,l),Tn(a,xt()),f;if(f===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Gs(a,jn,hi),Tn(a,xt()),null}function xg(a,l){var f=Ue;Ue|=1;try{return a(l)}finally{Ue=f,Ue===0&&(ro=xt()+500,nd&&rs())}}function Vs(a){ls!==null&&ls.tag===0&&(Ue&6)===0&&io();var l=Ue;Ue|=1;var f=nr.transition,g=Ke;try{if(nr.transition=null,Ke=1,a)return a()}finally{Ke=g,nr.transition=f,Ue=l,(Ue&6)===0&&rs()}}function wg(){qn=no.current,at(no)}function Ks(a,l){a.finishedWork=null,a.finishedLanes=0;var f=a.timeoutHandle;if(f!==-1&&(a.timeoutHandle=-1,KL(f)),Et!==null)for(f=Et.return;f!==null;){var g=f;switch(Pm(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&ed();break;case 3:Za(),at(Nn),at(dn),Bm();break;case 5:zm(g);break;case 4:Za();break;case 13:at(ht);break;case 19:at(ht);break;case 10:Rm(g.type._context);break;case 22:case 23:wg()}f=f.return}if(Bt=a,Et=a=ds(a.current,null),nn=qn=l,Tt=0,Vl=null,hg=Sd=Hs=0,jn=Kl=null,Bs!==null){for(l=0;l<Bs.length;l++)if(f=Bs[l],g=f.interleaved,g!==null){f.interleaved=null;var x=g.next,S=f.pending;if(S!==null){var N=S.next;S.next=x,g.next=N}f.pending=g}Bs=null}return a}function _S(a,l){do{var f=Et;try{if(Dm(),fd.current=gd,hd){for(var g=pt.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}hd=!1}if(qs=0,Ut=jt=pt=null,zl=!1,Ul=0,fg.current=null,f===null||f.return===null){Tt=1,Vl=l,Et=null;break}e:{var S=a,N=f.return,T=f,D=l;if(l=nn,T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var U=D,J=T,ee=J.tag;if((J.mode&1)===0&&(ee===0||ee===11||ee===15)){var Q=J.alternate;Q?(J.updateQueue=Q.updateQueue,J.memoizedState=Q.memoizedState,J.lanes=Q.lanes):(J.updateQueue=null,J.memoizedState=null)}var ue=K1(N);if(ue!==null){ue.flags&=-257,G1(ue,N,T,S,l),ue.mode&1&&V1(S,U,l),l=ue,D=U;var pe=l.updateQueue;if(pe===null){var xe=new Set;xe.add(D),l.updateQueue=xe}else pe.add(D);break e}else{if((l&1)===0){V1(S,U,l),bg();break e}D=Error(n(426))}}else if(lt&&T.mode&1){var wt=K1(N);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),G1(wt,N,T,S,l),Am(eo(D,T));break e}}S=D=eo(D,T),Tt!==4&&(Tt=2),Kl===null?Kl=[S]:Kl.push(S),S=N;do{switch(S.tag){case 3:S.flags|=65536,l&=-l,S.lanes|=l;var L=q1(S,D,l);v1(S,L);break e;case 1:T=D;var R=S.type,$=S.stateNode;if((S.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(os===null||!os.has($)))){S.flags|=65536,l&=-l,S.lanes|=l;var ne=H1(S,T,l);v1(S,ne);break e}}S=S.return}while(S!==null)}kS(f)}catch(we){l=we,Et===f&&f!==null&&(Et=f=f.return);continue}break}while(!0)}function SS(){var a=_d.current;return _d.current=gd,a===null?gd:a}function bg(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Bt===null||(Hs&268435455)===0&&(Sd&268435455)===0||us(Bt,nn)}function Pd(a,l){var f=Ue;Ue|=2;var g=SS();(Bt!==a||nn!==l)&&(hi=null,Ks(a,l));do try{y4();break}catch(x){_S(a,x)}while(!0);if(Dm(),Ue=f,_d.current=g,Et!==null)throw Error(n(261));return Bt=null,nn=0,Tt}function y4(){for(;Et!==null;)CS(Et)}function x4(){for(;Et!==null&&!qM();)CS(Et)}function CS(a){var l=IS(a.alternate,a,qn);a.memoizedProps=a.pendingProps,l===null?kS(a):Et=l,fg.current=null}function kS(a){var l=a;do{var f=l.alternate;if(a=l.return,(l.flags&32768)===0){if(f=d4(f,l,qn),f!==null){Et=f;return}}else{if(f=f4(f,l),f!==null){f.flags&=32767,Et=f;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Tt=6,Et=null;return}}if(l=l.sibling,l!==null){Et=l;return}Et=l=a}while(l!==null);Tt===0&&(Tt=5)}function Gs(a,l,f){var g=Ke,x=nr.transition;try{nr.transition=null,Ke=1,w4(a,l,f,g)}finally{nr.transition=x,Ke=g}return null}function w4(a,l,f,g){do io();while(ls!==null);if((Ue&6)!==0)throw Error(n(327));f=a.finishedWork;var x=a.finishedLanes;if(f===null)return null;if(a.finishedWork=null,a.finishedLanes=0,f===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var S=f.lanes|f.childLanes;if(eL(a,S),a===Bt&&(Et=Bt=null,nn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||kd||(kd=!0,PS(Ou,function(){return io(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=nr.transition,nr.transition=null;var N=Ke;Ke=1;var T=Ue;Ue|=4,fg.current=null,p4(a,f),mS(f,a),zL(bm),zu=!!wm,bm=wm=null,a.current=f,m4(f),HM(),Ue=T,Ke=N,nr.transition=S}else a.current=f;if(kd&&(kd=!1,ls=a,Ed=x),S=a.pendingLanes,S===0&&(os=null),GM(f.stateNode),Tn(a,xt()),l!==null)for(g=a.onRecoverableError,f=0;f<l.length;f++)x=l[f],g(x.value,{componentStack:x.stack,digest:x.digest});if(Cd)throw Cd=!1,a=mg,mg=null,a;return(Ed&1)!==0&&a.tag!==0&&io(),S=a.pendingLanes,(S&1)!==0?a===gg?Gl++:(Gl=0,gg=a):Gl=0,rs(),null}function io(){if(ls!==null){var a=h_(Ed),l=nr.transition,f=Ke;try{if(nr.transition=null,Ke=16>a?16:a,ls===null)var g=!1;else{if(a=ls,ls=null,Ed=0,(Ue&6)!==0)throw Error(n(331));var x=Ue;for(Ue|=4,fe=a.current;fe!==null;){var S=fe,N=S.child;if((fe.flags&16)!==0){var T=S.deletions;if(T!==null){for(var D=0;D<T.length;D++){var U=T[D];for(fe=U;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Hl(8,J,S)}var ee=J.child;if(ee!==null)ee.return=J,fe=ee;else for(;fe!==null;){J=fe;var Q=J.sibling,ue=J.return;if(uS(J),J===U){fe=null;break}if(Q!==null){Q.return=ue,fe=Q;break}fe=ue}}}var pe=S.alternate;if(pe!==null){var xe=pe.child;if(xe!==null){pe.child=null;do{var wt=xe.sibling;xe.sibling=null,xe=wt}while(xe!==null)}}fe=S}}if((S.subtreeFlags&2064)!==0&&N!==null)N.return=S,fe=N;else e:for(;fe!==null;){if(S=fe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Hl(9,S,S.return)}var L=S.sibling;if(L!==null){L.return=S.return,fe=L;break e}fe=S.return}}var R=a.current;for(fe=R;fe!==null;){N=fe;var $=N.child;if((N.subtreeFlags&2064)!==0&&$!==null)$.return=N,fe=$;else e:for(N=R;fe!==null;){if(T=fe,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:bd(9,T)}}catch(we){mt(T,T.return,we)}if(T===N){fe=null;break e}var ne=T.sibling;if(ne!==null){ne.return=T.return,fe=ne;break e}fe=T.return}}if(Ue=x,rs(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(Du,a)}catch{}g=!0}return g}finally{Ke=f,nr.transition=l}}return!1}function ES(a,l,f){l=eo(f,l),l=q1(a,l,1),a=ss(a,l,1),l=xn(),a!==null&&(yl(a,1,l),Tn(a,l))}function mt(a,l,f){if(a.tag===3)ES(a,a,f);else for(;l!==null;){if(l.tag===3){ES(l,a,f);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(os===null||!os.has(g))){a=eo(f,a),a=H1(l,a,1),l=ss(l,a,1),a=xn(),l!==null&&(yl(l,1,a),Tn(l,a));break}}l=l.return}}function b4(a,l,f){var g=a.pingCache;g!==null&&g.delete(l),l=xn(),a.pingedLanes|=a.suspendedLanes&f,Bt===a&&(nn&f)===f&&(Tt===4||Tt===3&&(nn&130023424)===nn&&500>xt()-pg?Ks(a,0):hg|=f),Tn(a,l)}function NS(a,l){l===0&&((a.mode&1)===0?l=1:(l=Mu,Mu<<=1,(Mu&130023424)===0&&(Mu=4194304)));var f=xn();a=ui(a,l),a!==null&&(yl(a,l,f),Tn(a,f))}function _4(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),NS(a,f)}function S4(a,l){var f=0;switch(a.tag){case 13:var g=a.stateNode,x=a.memoizedState;x!==null&&(f=x.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(l),NS(a,f)}var IS;IS=function(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps||Nn.current)Pn=!0;else{if((a.lanes&f)===0&&(l.flags&128)===0)return Pn=!1,u4(a,l,f);Pn=(a.flags&131072)!==0}else Pn=!1,lt&&(l.flags&1048576)!==0&&o1(l,id,l.index);switch(l.lanes=0,l.tag){case 2:var g=l.type;xd(a,l),a=l.pendingProps;var x=Va(l,dn.current);Ja(l,f),x=Hm(null,l,g,a,x,f);var S=Vm();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,In(g)?(S=!0,td(l)):S=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Fm(l),x.updater=vd,l.stateNode=x,x._reactInternals=l,Jm(l,g,a,f),l=ng(null,l,g,!0,S,f)):(l.tag=0,lt&&S&&Im(l),yn(null,l,x,f),l=l.child),l;case 16:g=l.elementType;e:{switch(xd(a,l),a=l.pendingProps,x=g._init,g=x(g._payload),l.type=g,x=l.tag=k4(g),a=wr(g,a),x){case 0:l=tg(null,l,g,a,f);break e;case 1:l=eS(null,l,g,a,f);break e;case 11:l=Y1(null,l,g,a,f);break e;case 14:l=X1(null,l,g,wr(g.type,a),f);break e}throw Error(n(306,g,""))}return l;case 0:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:wr(g,x),tg(a,l,g,x,f);case 1:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:wr(g,x),eS(a,l,g,x,f);case 3:e:{if(tS(l),a===null)throw Error(n(387));g=l.pendingProps,S=l.memoizedState,x=S.element,g1(a,l),ud(l,g,null,f);var N=l.memoizedState;if(g=N.element,S.isDehydrated)if(S={element:g,isDehydrated:!1,cache:N.cache,pendingSuspenseBoundaries:N.pendingSuspenseBoundaries,transitions:N.transitions},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){x=eo(Error(n(423)),l),l=nS(a,l,g,f,x);break e}else if(g!==x){x=eo(Error(n(424)),l),l=nS(a,l,g,f,x);break e}else for(Wn=es(l.stateNode.containerInfo.firstChild),Bn=l,lt=!0,xr=null,f=p1(l,null,g,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ya(),g===x){l=fi(a,l,f);break e}yn(a,l,g,f)}l=l.child}return l;case 5:return x1(l),a===null&&Tm(l),g=l.type,x=l.pendingProps,S=a!==null?a.memoizedProps:null,N=x.children,_m(g,x)?N=null:S!==null&&_m(g,S)&&(l.flags|=32),Z1(a,l),yn(a,l,N,f),l.child;case 6:return a===null&&Tm(l),null;case 13:return rS(a,l,f);case 4:return $m(l,l.stateNode.containerInfo),g=l.pendingProps,a===null?l.child=Xa(l,null,g,f):yn(a,l,g,f),l.child;case 11:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:wr(g,x),Y1(a,l,g,x,f);case 7:return yn(a,l,l.pendingProps,f),l.child;case 8:return yn(a,l,l.pendingProps.children,f),l.child;case 12:return yn(a,l,l.pendingProps.children,f),l.child;case 10:e:{if(g=l.type._context,x=l.pendingProps,S=l.memoizedProps,N=x.value,Ze(od,g._currentValue),g._currentValue=N,S!==null)if(yr(S.value,N)){if(S.children===x.children&&!Nn.current){l=fi(a,l,f);break e}}else for(S=l.child,S!==null&&(S.return=l);S!==null;){var T=S.dependencies;if(T!==null){N=S.child;for(var D=T.firstContext;D!==null;){if(D.context===g){if(S.tag===1){D=di(-1,f&-f),D.tag=2;var U=S.updateQueue;if(U!==null){U=U.shared;var J=U.pending;J===null?D.next=D:(D.next=J.next,J.next=D),U.pending=D}}S.lanes|=f,D=S.alternate,D!==null&&(D.lanes|=f),Mm(S.return,f,l),T.lanes|=f;break}D=D.next}}else if(S.tag===10)N=S.type===l.type?null:S.child;else if(S.tag===18){if(N=S.return,N===null)throw Error(n(341));N.lanes|=f,T=N.alternate,T!==null&&(T.lanes|=f),Mm(N,f,l),N=S.sibling}else N=S.child;if(N!==null)N.return=S;else for(N=S;N!==null;){if(N===l){N=null;break}if(S=N.sibling,S!==null){S.return=N.return,N=S;break}N=N.return}S=N}yn(a,l,x.children,f),l=l.child}return l;case 9:return x=l.type,g=l.pendingProps.children,Ja(l,f),x=er(x),g=g(x),l.flags|=1,yn(a,l,g,f),l.child;case 14:return g=l.type,x=wr(g,l.pendingProps),x=wr(g.type,x),X1(a,l,g,x,f);case 15:return Q1(a,l,l.type,l.pendingProps,f);case 17:return g=l.type,x=l.pendingProps,x=l.elementType===g?x:wr(g,x),xd(a,l),l.tag=1,In(g)?(a=!0,td(l)):a=!1,Ja(l,f),B1(l,g,x),Jm(l,g,x,f),ng(null,l,g,!0,a,f);case 19:return sS(a,l,f);case 22:return J1(a,l,f)}throw Error(n(156,l.tag))};function PS(a,l){return l_(a,l)}function C4(a,l,f,g){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(a,l,f,g){return new C4(a,l,f,g)}function _g(a){return a=a.prototype,!(!a||!a.isReactComponent)}function k4(a){if(typeof a=="function")return _g(a)?1:0;if(a!=null){if(a=a.$$typeof,a===H)return 11;if(a===G)return 14}return 2}function ds(a,l){var f=a.alternate;return f===null?(f=rr(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&14680064,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f}function jd(a,l,f,g,x,S){var N=2;if(g=a,typeof a=="function")_g(a)&&(N=1);else if(typeof a=="string")N=5;else e:switch(a){case z:return Ys(f.children,x,S,l);case W:N=8,x|=8;break;case Y:return a=rr(12,f,l,x|2),a.elementType=Y,a.lanes=S,a;case se:return a=rr(13,f,l,x),a.elementType=se,a.lanes=S,a;case ye:return a=rr(19,f,l,x),a.elementType=ye,a.lanes=S,a;case le:return Td(f,x,S,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case oe:N=10;break e;case M:N=9;break e;case H:N=11;break e;case G:N=14;break e;case de:N=16,g=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return l=rr(N,f,l,x),l.elementType=a,l.type=g,l.lanes=S,l}function Ys(a,l,f,g){return a=rr(7,a,g,l),a.lanes=f,a}function Td(a,l,f,g){return a=rr(22,a,g,l),a.elementType=le,a.lanes=f,a.stateNode={isHidden:!1},a}function Sg(a,l,f){return a=rr(6,a,null,l),a.lanes=f,a}function Cg(a,l,f){return l=rr(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function E4(a,l,f,g,x){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qp(0),this.expirationTimes=Qp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qp(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function kg(a,l,f,g,x,S,N,T,D){return a=new E4(a,l,f,T,D),l===1?(l=1,S===!0&&(l|=8)):l=0,S=rr(3,null,null,l),a.current=S,S.stateNode=a,S.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(S),a}function N4(a,l,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:g==null?null:""+g,children:a,containerInfo:l,implementation:f}}function jS(a){if(!a)return ns;a=a._reactInternals;e:{if(Ls(a)!==a||a.tag!==1)throw Error(n(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(In(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(n(171))}if(a.tag===1){var f=a.type;if(In(f))return i1(a,f,l)}return l}function TS(a,l,f,g,x,S,N,T,D){return a=kg(f,g,!0,a,x,S,N,T,D),a.context=jS(null),f=a.current,g=xn(),x=cs(f),S=di(g,x),S.callback=l??null,ss(f,S,x),a.current.lanes=x,yl(a,x,g),Tn(a,g),a}function Ad(a,l,f,g){var x=l.current,S=xn(),N=cs(x);return f=jS(f),l.context===null?l.context=f:l.pendingContext=f,l=di(S,N),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=ss(x,l,N),a!==null&&(Sr(a,x,N,S),cd(a,x,N)),N}function Od(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function AS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function Eg(a,l){AS(a,l),(a=a.alternate)&&AS(a,l)}function I4(){return null}var OS=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ng(a){this._internalRoot=a}Dd.prototype.render=Ng.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));Ad(a,l,null,null)},Dd.prototype.unmount=Ng.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Vs(function(){Ad(null,a,null,null)}),l[ai]=null}};function Dd(a){this._internalRoot=a}Dd.prototype.unstable_scheduleHydration=function(a){if(a){var l=g_();a={blockedOn:null,target:a,priority:l};for(var f=0;f<Qi.length&&l!==0&&l<Qi[f].priority;f++);Qi.splice(f,0,a),f===0&&x_(a)}};function Ig(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Rd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function DS(){}function P4(a,l,f,g,x){if(x){if(typeof g=="function"){var S=g;g=function(){var U=Od(N);S.call(U)}}var N=TS(l,g,a,0,null,!1,!1,"",DS);return a._reactRootContainer=N,a[ai]=N.current,Al(a.nodeType===8?a.parentNode:a),Vs(),N}for(;x=a.lastChild;)a.removeChild(x);if(typeof g=="function"){var T=g;g=function(){var U=Od(D);T.call(U)}}var D=kg(a,0,!1,null,null,!1,!1,"",DS);return a._reactRootContainer=D,a[ai]=D.current,Al(a.nodeType===8?a.parentNode:a),Vs(function(){Ad(l,D,f,g)}),D}function Md(a,l,f,g,x){var S=f._reactRootContainer;if(S){var N=S;if(typeof x=="function"){var T=x;x=function(){var D=Od(N);T.call(D)}}Ad(l,N,a,x)}else N=P4(f,l,a,x,g);return Od(N)}p_=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var f=vl(l.pendingLanes);f!==0&&(Jp(l,f|1),Tn(l,xt()),(Ue&6)===0&&(ro=xt()+500,rs()))}break;case 13:Vs(function(){var g=ui(a,1);if(g!==null){var x=xn();Sr(g,a,1,x)}}),Eg(a,1)}},Zp=function(a){if(a.tag===13){var l=ui(a,134217728);if(l!==null){var f=xn();Sr(l,a,134217728,f)}Eg(a,134217728)}},m_=function(a){if(a.tag===13){var l=cs(a),f=ui(a,l);if(f!==null){var g=xn();Sr(f,a,l,g)}Eg(a,l)}},g_=function(){return Ke},v_=function(a,l){var f=Ke;try{return Ke=a,l()}finally{Ke=f}},Hp=function(a,l,f){switch(l){case"input":if(gr(a,f),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<f.length;l++){var g=f[l];if(g!==a&&g.form===a.form){var x=Zu(g);if(!x)throw Error(n(90));Z(g),gr(g,x)}}}break;case"textarea":Vb(a,f);break;case"select":l=f.value,l!=null&&Da(a,!!f.multiple,l,!1)}},t_=xg,n_=Vs;var j4={usingClientEntryPoint:!1,Events:[Rl,qa,Zu,Zb,e_,xg]},Yl={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T4={bundleType:Yl.bundleType,version:Yl.version,rendererPackageName:Yl.rendererPackageName,rendererConfig:Yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=a_(a),a===null?null:a.stateNode},findFiberByHostInstance:Yl.findFiberByHostInstance||I4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Du=Ld.inject(T4),Wr=Ld}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j4,An.createPortal=function(a,l){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(l))throw Error(n(200));return N4(a,l,null,f)},An.createRoot=function(a,l){if(!Ig(a))throw Error(n(299));var f=!1,g="",x=OS;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=kg(a,1,!1,null,null,f,!1,g,x),a[ai]=l.current,Al(a.nodeType===8?a.parentNode:a),new Ng(l)},An.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=a_(l),a=a===null?null:a.stateNode,a},An.flushSync=function(a){return Vs(a)},An.hydrate=function(a,l,f){if(!Rd(l))throw Error(n(200));return Md(null,a,l,!0,f)},An.hydrateRoot=function(a,l,f){if(!Ig(a))throw Error(n(405));var g=f!=null&&f.hydratedSources||null,x=!1,S="",N=OS;if(f!=null&&(f.unstable_strictMode===!0&&(x=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(N=f.onRecoverableError)),l=TS(l,null,a,1,f??null,x,!1,S,N),a[ai]=l.current,Al(a),g)for(a=0;a<g.length;a++)f=g[a],x=f._getVersion,x=x(f._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[f,x]:l.mutableSourceEagerHydrationData.push(f,x);return new Dd(l)},An.render=function(a,l,f){if(!Rd(l))throw Error(n(200));return Md(null,a,l,!1,f)},An.unmountComponentAtNode=function(a){if(!Rd(a))throw Error(n(40));return a._reactRootContainer?(Vs(function(){Md(null,null,a,!1,function(){a._reactRootContainer=null,a[ai]=null})}),!0):!1},An.unstable_batchedUpdates=xg,An.unstable_renderSubtreeIntoContainer=function(a,l,f,g){if(!Rd(f))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Md(a,l,f,!1,g)},An.version="18.3.1-next-f1338f8080-20240426",An}var BS;function NP(){if(BS)return Ag.exports;BS=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ag.exports=B4(),Ag.exports}var WS;function W4(){if(WS)return Fd;WS=1;var e=NP();return Fd.createRoot=e.createRoot,Fd.hydrateRoot=e.hydrateRoot,Fd}var q4=W4();const H4=ni(q4);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var qS="popstate";function V4(e={}){function t(r,i){let{pathname:s,search:o,hash:c}=r.location;return Dy("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kc(i)}return G4(t,n,null,e)}function dt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function K4(){return Math.random().toString(36).substring(2,10)}function HS(e,t){return{usr:e.state,key:e.key,idx:t}}function Dy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Uo(t):t,state:n,key:t&&t.key||r||K4()}}function kc({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Uo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function G4(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",u=null,h=p();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function p(){return(o.state||{idx:null}).idx}function m(){c="POP";let _=p(),k=_==null?null:_-h;h=_,u&&u({action:c,location:C.location,delta:k})}function v(_,k){c="PUSH";let I=Dy(C.location,_,k);h=p()+1;let E=HS(I,h),j=C.createHref(I);try{o.pushState(E,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(j)}s&&u&&u({action:c,location:C.location,delta:1})}function y(_,k){c="REPLACE";let I=Dy(C.location,_,k);h=p();let E=HS(I,h),j=C.createHref(I);o.replaceState(E,"",j),s&&u&&u({action:c,location:C.location,delta:0})}function w(_){return Y4(_)}let C={get action(){return c},get location(){return e(i,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(qS,m),u=_,()=>{i.removeEventListener(qS,m),u=null}},createHref(_){return t(i,_)},createURL:w,encodeLocation(_){let k=w(_);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:y,go(_){return o.go(_)}};return C}function Y4(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:kc(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function IP(e,t,n="/"){return X4(e,t,n,!1)}function X4(e,t,n,r){let i=typeof t=="string"?Uo(t):t,s=Ni(i.pathname||"/",n);if(s==null)return null;let o=PP(e);Q4(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=l3(s);c=a3(o[u],h,r)}return c}function PP(e,t=[],n=[],r="",i=!1){let s=(o,c,u=i,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&u)return;dt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let m=_i([r,p.relativePath]),v=n.concat(p);o.children&&o.children.length>0&&(dt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),PP(o.children,t,v,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:i3(m,o.index),routesMeta:v})};return e.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let h of jP(o.path))s(o,c,!0,h)}),t}function jP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jP(r.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function Q4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var J4=/^:[\w-]+$/,Z4=3,e3=2,t3=1,n3=10,r3=-2,VS=e=>e==="*";function i3(e,t){let n=e.split("/"),r=n.length;return n.some(VS)&&(r+=r3),t&&(r+=e3),n.filter(i=>!VS(i)).reduce((i,s)=>i+(J4.test(s)?Z4:s===""?t3:n3),r)}function s3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function a3(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",m=wf({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),v=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=wf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:_i([s,m.pathname]),pathnameBase:h3(_i([s,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(s=_i([s,m.pathnameBase]))}return o}function wf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=o3(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:m},v)=>{if(p==="*"){let w=c[v]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=c[v];return m&&!y?h[p]=void 0:h[p]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:e}}function o3(e,t=!1,n=!0){dr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function l3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ni(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var c3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u3=e=>c3.test(e);function d3(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Uo(e):e,s;if(n)if(u3(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),dr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=KS(n.substring(1),"/"):s=KS(n,t)}else s=t;return{pathname:s,search:p3(r),hash:m3(i)}}function KS(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Rg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function n0(e){let t=f3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function r0(e,t,n,r=!1){let i;typeof e=="string"?i=Uo(e):(i={...e},dt(!i.pathname||!i.pathname.includes("?"),Rg("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Rg("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Rg("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=n;else{let m=t.length-1;if(!r&&o.startsWith("..")){let v=o.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}c=m>=0?t[m]:"/"}let u=d3(i,c),h=o&&o!=="/"&&o.endsWith("/"),p=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var _i=e=>e.join("/").replace(/\/\/+/g,"/"),h3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TP=["POST","PUT","PATCH","DELETE"];new Set(TP);var v3=["GET",...TP];new Set(v3);var Bo=b.createContext(null);Bo.displayName="DataRouter";var Lh=b.createContext(null);Lh.displayName="DataRouterState";b.createContext(!1);var AP=b.createContext({isTransitioning:!1});AP.displayName="ViewTransition";var y3=b.createContext(new Map);y3.displayName="Fetchers";var x3=b.createContext(null);x3.displayName="Await";var Lr=b.createContext(null);Lr.displayName="Navigation";var Qc=b.createContext(null);Qc.displayName="Location";var Fr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var i0=b.createContext(null);i0.displayName="RouteError";function w3(e,{relative:t}={}){dt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Lr),{hash:i,pathname:s,search:o}=Jc(e,{relative:t}),c=s;return n!=="/"&&(c=s==="/"?n:_i([n,s])),r.createHref({pathname:c,search:o,hash:i})}function Wo(){return b.useContext(Qc)!=null}function zi(){return dt(Wo(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Qc).location}var OP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DP(e){b.useContext(Lr).static||b.useLayoutEffect(e)}function ri(){let{isDataRoute:e}=b.useContext(Fr);return e?O3():b3()}function b3(){dt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Bo),{basename:t,navigator:n}=b.useContext(Lr),{matches:r}=b.useContext(Fr),{pathname:i}=zi(),s=JSON.stringify(n0(r)),o=b.useRef(!1);return DP(()=>{o.current=!0}),b.useCallback((u,h={})=>{if(dr(o.current,OP),!o.current)return;if(typeof u=="number"){n.go(u);return}let p=r0(u,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:_i([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}b.createContext(null);function s0(){let{matches:e}=b.useContext(Fr),t=e[e.length-1];return t?t.params:{}}function Jc(e,{relative:t}={}){let{matches:n}=b.useContext(Fr),{pathname:r}=zi(),i=JSON.stringify(n0(n));return b.useMemo(()=>r0(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function _3(e,t){return RP(e,t)}function RP(e,t,n,r,i){var I;dt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=b.useContext(Lr),{matches:o}=b.useContext(Fr),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",p=c?c.pathnameBase:"/",m=c&&c.route;{let E=m&&m.path||"";MP(h,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let v=zi(),y;if(t){let E=typeof t=="string"?Uo(t):t;dt(p==="/"||((I=E.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=v;let w=y.pathname||"/",C=w;if(p!=="/"){let E=p.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=IP(e,{pathname:C});dr(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),dr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=N3(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:_i([p,s.encodeLocation?s.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:_i([p,s.encodeLocation?s.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return t&&k?b.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},k):k}function S3(){let e=A3(),t=g3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:s},"ErrorBoundary")," or"," ",b.createElement("code",{style:s},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:i},n):null,o)}var C3=b.createElement(S3,null),k3=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Fr.Provider,{value:this.props.routeContext},b.createElement(i0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E3({routeContext:e,match:t,children:n}){let r=b.useContext(Bo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Fr.Provider,{value:e},n)}function N3(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let p=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);dt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,u=-1;if(n)for(let p=0;p<s.length;p++){let m=s[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=p),m.route.id){let{loaderData:v,errors:y}=n,w=m.route.loader&&!v.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=n&&r?(p,m)=>{var v,y;r(p,{location:n.location,params:((y=(v=n.matches)==null?void 0:v[0])==null?void 0:y.params)??{},errorInfo:m})}:void 0;return s.reduceRight((p,m,v)=>{let y,w=!1,C=null,_=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,C=m.route.errorElement||C3,c&&(u<0&&v===0?(MP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,_=null):u===v&&(w=!0,_=m.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,v+1)),I=()=>{let E;return y?E=C:w?E=_:m.route.Component?E=b.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,b.createElement(E3,{match:m,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?b.createElement(k3,{location:n.location,revalidation:n.revalidation,component:C,error:y,children:I(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:h}):I()},null)}function a0(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I3(e){let t=b.useContext(Bo);return dt(t,a0(e)),t}function P3(e){let t=b.useContext(Lh);return dt(t,a0(e)),t}function j3(e){let t=b.useContext(Fr);return dt(t,a0(e)),t}function o0(e){let t=j3(e),n=t.matches[t.matches.length-1];return dt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function T3(){return o0("useRouteId")}function A3(){var r;let e=b.useContext(i0),t=P3("useRouteError"),n=o0("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function O3(){let{router:e}=I3("useNavigate"),t=o0("useNavigate"),n=b.useRef(!1);return DP(()=>{n.current=!0}),b.useCallback(async(i,s={})=>{dr(n.current,OP),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var GS={};function MP(e,t,n){!t&&!GS[e]&&(GS[e]=!0,dr(!1,n))}b.memo(D3);function D3({routes:e,future:t,state:n,unstable_onError:r}){return RP(e,void 0,n,r,t)}function R3({to:e,replace:t,state:n,relative:r}){dt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=b.useContext(Lr);dr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=b.useContext(Fr),{pathname:o}=zi(),c=ri(),u=r0(e,n0(s),o,r==="path"),h=JSON.stringify(u);return b.useEffect(()=>{c(JSON.parse(h),{replace:t,state:n,relative:r})},[c,h,r,t,n]),null}function On(e){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function M3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Uo(n));let{pathname:u="/",search:h="",hash:p="",state:m=null,key:v="default"}=n,y=b.useMemo(()=>{let w=Ni(u,o);return w==null?null:{location:{pathname:w,search:h,hash:p,state:m,key:v},navigationType:r}},[o,u,h,p,m,v,r]);return dr(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:b.createElement(Lr.Provider,{value:c},b.createElement(Qc.Provider,{children:t,value:y}))}function YS({children:e,location:t}){return _3(Ry(e),t)}function Ry(e,t=[]){let n=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let s=[...t,i];if(r.type===b.Fragment){n.push.apply(n,Ry(r.props.children,s));return}dt(r.type===On,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ry(r.props.children,s)),n.push(o)}),n}var uf="get",df="application/x-www-form-urlencoded";function Fh(e){return e!=null&&typeof e.tagName=="string"}function L3(e){return Fh(e)&&e.tagName.toLowerCase()==="button"}function F3(e){return Fh(e)&&e.tagName.toLowerCase()==="form"}function $3(e){return Fh(e)&&e.tagName.toLowerCase()==="input"}function z3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U3(e,t){return e.button===0&&(!t||t==="_self")&&!z3(e)}var $d=null;function B3(){if($d===null)try{new FormData(document.createElement("form"),0),$d=!1}catch{$d=!0}return $d}var W3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mg(e){return e!=null&&!W3.has(e)?(dr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${df}"`),null):e}function q3(e,t){let n,r,i,s,o;if(F3(e)){let c=e.getAttribute("action");r=c?Ni(c,t):null,n=e.getAttribute("method")||uf,i=Mg(e.getAttribute("enctype"))||df,s=new FormData(e)}else if(L3(e)||$3(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||c.getAttribute("action");if(r=u?Ni(u,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||uf,i=Mg(e.getAttribute("formenctype"))||Mg(c.getAttribute("enctype"))||df,s=new FormData(c,e),!B3()){let{name:h,type:p,value:m}=e;if(p==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,m)}}else{if(Fh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uf,r=null,i=df,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function l0(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function H3(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ni(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function V3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function G3(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await V3(s,n);return o.links?o.links():[]}return[]}));return J3(r.flat(1).filter(K3).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function XS(e,t,n,r,i,s){let o=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,c=(u,h)=>{var p;return n[h].pathname!==u.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,h)=>o(u,h)||c(u,h)):s==="data"?t.filter((u,h)=>{var m;let p=r.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let v=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function Y3(e,t,{includeHydrateFallback:n}={}){return X3(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function X3(e){return[...new Set(e)]}function Q3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function J3(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(Q3(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function LP(){let e=b.useContext(Bo);return l0(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Z3(){let e=b.useContext(Lh);return l0(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var c0=b.createContext(void 0);c0.displayName="FrameworkContext";function FP(){let e=b.useContext(c0);return l0(e,"You must render this element inside a <HydratedRouter> element"),e}function eF(e,t){let n=b.useContext(c0),[r,i]=b.useState(!1),[s,o]=b.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:m}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=k=>{k.forEach(I=>{o(I.isIntersecting)})},_=new IntersectionObserver(C,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),b.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,v,{}]:[s,v,{onFocus:Ql(c,y),onBlur:Ql(u,w),onMouseEnter:Ql(h,y),onMouseLeave:Ql(p,w),onTouchStart:Ql(m,y)}]:[!1,v,{}]}function Ql(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tF({page:e,...t}){let{router:n}=LP(),r=b.useMemo(()=>IP(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(rF,{page:e,matches:r,...t}):null}function nF(e){let{manifest:t,routeModules:n}=FP(),[r,i]=b.useState([]);return b.useEffect(()=>{let s=!1;return G3(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function rF({page:e,matches:t,...n}){let r=zi(),{manifest:i,routeModules:s}=FP(),{basename:o}=LP(),{loaderData:c,matches:u}=Z3(),h=b.useMemo(()=>XS(e,t,u,i,r,"data"),[e,t,u,i,r]),p=b.useMemo(()=>XS(e,t,u,i,r,"assets"),[e,t,u,i,r]),m=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(t.forEach(k=>{var E;let I=i.routes[k.route.id];!I||!I.hasLoader||(!h.some(j=>j.route.id===k.route.id)&&k.route.id in c&&((E=s[k.route.id])!=null&&E.shouldRevalidate)||I.hasClientLoader?C=!0:w.add(k.route.id))}),w.size===0)return[];let _=H3(e,o,"data");return C&&w.size>0&&_.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[_.pathname+_.search]},[o,c,r,i,h,t,e,s]),v=b.useMemo(()=>Y3(p,i),[p,i]),y=nF(p);return b.createElement(b.Fragment,null,m.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:C})=>b.createElement("link",{key:w,nonce:n.nonce,...C})))}function iF(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$P&&(window.__reactRouterVersion="7.9.6")}catch{}function sF({basename:e,children:t,window:n}){let r=b.useRef();r.current==null&&(r.current=V4({window:n,v5Compat:!0}));let i=r.current,[s,o]=b.useState({action:i.action,location:i.location}),c=b.useCallback(u=>{b.startTransition(()=>o(u))},[o]);return b.useLayoutEffect(()=>i.listen(c),[i,c]),b.createElement(M3,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var zP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qo=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:u,to:h,preventScrollReset:p,viewTransition:m,...v},y){let{basename:w}=b.useContext(Lr),C=typeof h=="string"&&zP.test(h),_,k=!1;if(typeof h=="string"&&C&&(_=h,$P))try{let Y=new URL(window.location.href),oe=h.startsWith("//")?new URL(Y.protocol+h):new URL(h),M=Ni(oe.pathname,w);oe.origin===Y.origin&&M!=null?h=M+oe.search+oe.hash:k=!0}catch{dr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=w3(h,{relative:i}),[E,j,P]=eF(r,v),A=cF(h,{replace:o,state:c,target:u,preventScrollReset:p,relative:i,viewTransition:m});function z(Y){t&&t(Y),Y.defaultPrevented||A(Y)}let W=b.createElement("a",{...v,...P,href:_||I,onClick:k||s?t:z,ref:iF(y,j),target:u,"data-discover":!C&&n==="render"?"true":void 0});return E&&!C?b.createElement(b.Fragment,null,W,b.createElement(tF,{page:I})):W});qo.displayName="Link";var aF=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:u,...h},p){let m=Jc(o,{relative:h.relative}),v=zi(),y=b.useContext(Lh),{navigator:w,basename:C}=b.useContext(Lr),_=y!=null&&pF(m)&&c===!0,k=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,I=v.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(I=I.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&C&&(E=Ni(E,C)||E);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let P=I===k||!i&&I.startsWith(k)&&I.charAt(j)==="/",A=E!=null&&(E===k||!i&&E.startsWith(k)&&E.charAt(k.length)==="/"),z={isActive:P,isPending:A,isTransitioning:_},W=P?t:void 0,Y;typeof r=="function"?Y=r(z):Y=[r,P?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let oe=typeof s=="function"?s(z):s;return b.createElement(qo,{...h,"aria-current":W,className:Y,ref:p,style:oe,to:o,viewTransition:c},typeof u=="function"?u(z):u)});aF.displayName="NavLink";var oF=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=uf,action:c,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:m,...v},y)=>{let w=fF(),C=hF(c,{relative:h}),_=o.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&zP.test(c),I=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let j=E.nativeEvent.submitter,P=(j==null?void 0:j.getAttribute("formmethod"))||o;w(j||E.currentTarget,{fetcherKey:t,method:P,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:m})};return b.createElement("form",{ref:y,method:_,action:C,onSubmit:r?u:I,...v,"data-discover":!k&&e==="render"?"true":void 0})});oF.displayName="Form";function lF(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UP(e){let t=b.useContext(Bo);return dt(t,lF(e)),t}function cF(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=ri(),u=zi(),h=Jc(e,{relative:s});return b.useCallback(p=>{if(U3(p,t)){p.preventDefault();let m=n!==void 0?n:kc(u)===kc(h);c(e,{replace:m,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[u,c,h,n,r,t,e,i,s,o])}var uF=0,dF=()=>`__${String(++uF)}__`;function fF(){let{router:e}=UP("useSubmit"),{basename:t}=b.useContext(Lr),n=T3();return b.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:u,body:h}=q3(r,t);if(i.navigate===!1){let p=i.fetcherKey||dF();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function hF(e,{relative:t}={}){let{basename:n}=b.useContext(Lr),r=b.useContext(Fr);dt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Jc(e||".",{relative:t})},o=zi();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let p=c.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:_i([n,s.pathname])),kc(s)}function pF(e,{relative:t}={}){let n=b.useContext(AP);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=UP("useViewTransitionState"),i=Jc(e,{relative:t});if(!n.isTransitioning)return!1;let s=Ni(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ni(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wf(i.pathname,o)!=null||wf(i.pathname,s)!=null}var BP=NP();const mF=()=>{};var QS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=function(e,t){if(!e)throw Ho(t)},Ho=function(e){return new Error("Firebase Database ("+WP.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},gF=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],c=e[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},u0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,c=o?e[i+1]:0,u=i+2<e.length,h=u?e[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|h>>6,y=h&63;u||(y=64,o||(v=64)),r.push(n[p],n[m],n[v],n[y])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],c=i<e.length?n[e.charAt(i)]:0;++i;const h=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new vF;const v=s<<2|c>>4;if(r.push(v),h!==64){const y=c<<4&240|h>>2;if(r.push(y),m!==64){const w=h<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HP=function(e){const t=qP(e);return u0.encodeByteArray(t,!0)},bf=function(e){return HP(e).replace(/\./g,"")},_f=function(e){try{return u0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e){return VP(void 0,e)}function VP(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!xF(n)||(e[n]=VP(e[n],t[n]));return e}function xF(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=()=>wF().__FIREBASE_DEFAULTS__,_F=()=>{if(typeof process>"u"||typeof QS>"u")return;const e=QS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},SF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&_f(e[1]);return t&&JSON.parse(t)},d0=()=>{try{return mF()||bF()||_F()||SF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},KP=e=>{var t,n;return(n=(t=d0())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},CF=e=>{const t=KP(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},GP=()=>{var e;return(e=d0())==null?void 0:e.config},YP=e=>{var t;return(t=d0())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XP(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[bf(JSON.stringify(n)),bf(JSON.stringify(o)),""].join(".")}const vc={};function EF(){const e={prod:[],emulator:[]};for(const t of Object.keys(vc))vc[t]?e.emulator.push(t):e.prod.push(t);return e}function NF(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let JS=!1;function QP(e,t){if(typeof window>"u"||typeof document>"u"||!Vo(window.location.host)||vc[e]===t||vc[e]||JS)return;vc[e]=t;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=EF().prod.length>0;function o(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function u(v,y){v.setAttribute("width","24"),v.setAttribute("id",y),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{JS=!0,o()},v}function p(v,y){v.setAttribute("id",y),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=NF(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),_=document.getElementById(C)||document.createElement("a"),k=n("preprendIcon"),I=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const E=v.element;c(E),p(_,C);const j=h();u(I,k),E.append(I,w,_,j),document.body.appendChild(E)}s?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kn())}function IF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JP(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function ZP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PF(){const e=kn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function jF(){return WP.NODE_ADMIN===!0}function ej(){try{return typeof indexedDB=="object"}catch{return!1}}function tj(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}function TF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF="FirebaseError";class ii extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=AF,Object.setPrototypeOf(this,ii.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ka.prototype.create)}}class ka{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?OF(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new ii(i,c,r)}}function OF(e,t){return e.replace(DF,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const DF=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(e){return JSON.parse(e)}function Xt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ec(_f(s[0])||""),n=Ec(_f(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},RF=function(e){const t=nj(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},MF=function(e){const t=nj(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Eo(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function My(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sf(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Ns(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(ZS(s)&&ZS(o)){if(!Ns(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ZS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function hc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function pc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let m=0;m<16;m++)r[m]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)r[m]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let m=16;m<80;m++){const v=r[m-3]^r[m-8]^r[m-14]^r[m-16];r[m]=(v<<1|v>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],c=this.chain_[3],u=this.chain_[4],h,p;for(let m=0;m<80;m++){m<40?m<20?(h=c^s&(o^c),p=1518500249):(h=s^o^c,p=1859775393):m<60?(h=s&o|c&(s|o),p=2400959708):(h=s^o^c,p=3395469782);const v=(i<<5|i>>>27)+h+u+p+r[m]&4294967295;u=c,c=o,o=(s<<30|s>>>2)&4294967295,s=i,i=v}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function FF(e,t){const n=new $F(e,t);return n.subscribe.bind(n)}class $F{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zF(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=Lg),i.error===void 0&&(i.error=Lg),i.complete===void 0&&(i.complete=Lg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Lg(){}function $h(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,re(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},zh=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=1e3,WF=2,qF=14400*1e3,HF=.5;function eC(e,t=BF,n=WF){const r=t*Math.pow(n,e),i=Math.round(HF*r*(Math.random()-.5)*2);return Math.min(qF,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(e){return e&&e._delegate?e._delegate:e}class Ar{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VF=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Zc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GF(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KF(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function KF(e){return e===Js?void 0:e}function GF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new VF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Xe||(Xe={}));const XF={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},QF=Xe.INFO,JF={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},ZF=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=JF[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uh{constructor(t){this.name=t,this._logLevel=QF,this._logHandler=ZF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Xe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...t),this._logHandler(this,Xe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...t),this._logHandler(this,Xe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...t),this._logHandler(this,Xe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...t),this._logHandler(this,Xe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...t),this._logHandler(this,Xe.ERROR,...t)}}const e$=(e,t)=>t.some(n=>e instanceof n);let tC,nC;function t$(){return tC||(tC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n$(){return nC||(nC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rj=new WeakMap,Ly=new WeakMap,ij=new WeakMap,Fg=new WeakMap,h0=new WeakMap;function r$(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Ss(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&rj.set(n,e)}).catch(()=>{}),h0.set(t,e),t}function i$(e){if(Ly.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});Ly.set(e,t)}let Fy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ly.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ij.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ss(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function s$(e){Fy=e(Fy)}function a$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call($g(this),t,...n);return ij.set(r,t.sort?t.sort():[t]),Ss(r)}:n$().includes(e)?function(...t){return e.apply($g(this),t),Ss(rj.get(this))}:function(...t){return Ss(e.apply($g(this),t))}}function o$(e){return typeof e=="function"?a$(e):(e instanceof IDBTransaction&&i$(e),e$(e,t$())?new Proxy(e,Fy):e)}function Ss(e){if(e instanceof IDBRequest)return r$(e);if(Fg.has(e))return Fg.get(e);const t=o$(e);return t!==e&&(Fg.set(e,t),h0.set(t,e)),t}const $g=e=>h0.get(e);function sj(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),c=Ss(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ss(o.result),u.oldVersion,u.newVersion,Ss(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const l$=["get","getKey","getAll","getAllKeys","count"],c$=["put","add","delete","clear"],zg=new Map;function rC(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zg.get(t))return zg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=c$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||l$.includes(n)))return;const s=async function(o,...c){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&u.done]))[0]};return zg.set(t,s),s}s$(e=>({...e,get:(t,n,r)=>rC(t,n)||e.get(t,n,r),has:(t,n)=>!!rC(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d$(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const $y="@firebase/app",iC="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Uh("@firebase/app"),f$="@firebase/app-compat",h$="@firebase/analytics-compat",p$="@firebase/analytics",m$="@firebase/app-check-compat",g$="@firebase/app-check",v$="@firebase/auth",y$="@firebase/auth-compat",x$="@firebase/database",w$="@firebase/data-connect",b$="@firebase/database-compat",_$="@firebase/functions",S$="@firebase/functions-compat",C$="@firebase/installations",k$="@firebase/installations-compat",E$="@firebase/messaging",N$="@firebase/messaging-compat",I$="@firebase/performance",P$="@firebase/performance-compat",j$="@firebase/remote-config",T$="@firebase/remote-config-compat",A$="@firebase/storage",O$="@firebase/storage-compat",D$="@firebase/firestore",R$="@firebase/ai",M$="@firebase/firestore-compat",L$="firebase",F$="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="[DEFAULT]",$$={[$y]:"fire-core",[f$]:"fire-core-compat",[p$]:"fire-analytics",[h$]:"fire-analytics-compat",[g$]:"fire-app-check",[m$]:"fire-app-check-compat",[v$]:"fire-auth",[y$]:"fire-auth-compat",[x$]:"fire-rtdb",[w$]:"fire-data-connect",[b$]:"fire-rtdb-compat",[_$]:"fire-fn",[S$]:"fire-fn-compat",[C$]:"fire-iid",[k$]:"fire-iid-compat",[E$]:"fire-fcm",[N$]:"fire-fcm-compat",[I$]:"fire-perf",[P$]:"fire-perf-compat",[j$]:"fire-rc",[T$]:"fire-rc-compat",[A$]:"fire-gcs",[O$]:"fire-gcs-compat",[D$]:"fire-fst",[M$]:"fire-fst-compat",[R$]:"fire-vertex","fire-js":"fire-js",[L$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new Map,z$=new Map,Uy=new Map;function sC(e,t){try{e.container.addComponent(t)}catch(n){Ii.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Jr(e){const t=e.name;if(Uy.has(t))return Ii.debug(`There were multiple attempts to register component ${t}.`),!1;Uy.set(t,e);for(const n of Cf.values())sC(n,e);for(const n of z$.values())sC(n,e);return!0}function Ea(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function or(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cs=new ka("app","Firebase",U$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=F$;function aj(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:zy,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Cs.create("bad-app-name",{appName:String(i)});if(n||(n=GP()),!n)throw Cs.create("no-options");const s=Cf.get(i);if(s){if(Ns(n,s.options)&&Ns(r,s.config))return s;throw Cs.create("duplicate-app",{appName:i})}const o=new YF(i);for(const u of Uy.values())o.addComponent(u);const c=new B$(n,r,o);return Cf.set(i,c),c}function p0(e=zy){const t=Cf.get(e);if(!t&&e===zy&&GP())return aj();if(!t)throw Cs.create("no-app",{appName:e});return t}function ur(e,t,n){let r=$$[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${t}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ii.warn(o.join(" "));return}Jr(new Ar(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="firebase-heartbeat-database",q$=1,Nc="firebase-heartbeat-store";let Ug=null;function oj(){return Ug||(Ug=sj(W$,q$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(e=>{throw Cs.create("idb-open",{originalErrorMessage:e.message})})),Ug}async function H$(e){try{const n=(await oj()).transaction(Nc),r=await n.objectStore(Nc).get(lj(e));return await n.done,r}catch(t){if(t instanceof ii)Ii.warn(t.message);else{const n=Cs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ii.warn(n.message)}}}async function aC(e,t){try{const r=(await oj()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(t,lj(e)),await r.done}catch(n){if(n instanceof ii)Ii.warn(n.message);else{const r=Cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(r.message)}}}function lj(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$=1024,K$=30;class G${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oC();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>K$){const o=Q$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oC(),{heartbeatsToSend:r,unsentEntries:i}=Y$(this._heartbeatsCache.heartbeats),s=bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ii.warn(n),""}}}function oC(){return new Date().toISOString().substring(0,10)}function Y$(e,t=V$){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lC(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lC(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ej()?tj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return aC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return aC(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function lC(e){return bf(JSON.stringify({version:2,heartbeats:e})).length}function Q$(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(e){Jr(new Ar("platform-logger",t=>new u$(t),"PRIVATE")),Jr(new Ar("heartbeat",t=>new G$(t),"PRIVATE")),ur($y,iC,e),ur($y,iC,"esm2020"),ur("fire-js","")}J$("");var Z$="firebase",e6="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(Z$,e6,"app");const cj="@firebase/installations",m0="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=1e4,dj=`w:${m0}`,fj="FIS_v2",t6="https://firebaseinstallations.googleapis.com/v1",n6=3600*1e3,r6="installations",i6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fa=new ka(r6,i6,s6);function hj(e){return e instanceof ii&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj({projectId:e}){return`${t6}/projects/${e}/installations`}function mj(e){return{token:e.token,requestStatus:2,expiresIn:o6(e.expiresIn),creationTime:Date.now()}}async function gj(e,t){const r=(await t.json()).error;return fa.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vj({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function a6(e,{refreshToken:t}){const n=vj(e);return n.append("Authorization",l6(t)),n}async function yj(e){const t=await e();return t.status>=500&&t.status<600?e():t}function o6(e){return Number(e.replace("s","000"))}function l6(e){return`${fj} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=pj(e),i=vj(e),s=t.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:fj,appId:e.appId,sdkVersion:dj},c={method:"POST",headers:i,body:JSON.stringify(o)},u=await yj(()=>fetch(r,c));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:mj(h.authToken)}}else throw await gj("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^[cdef][\w-]{21}$/,By="";function f6(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=h6(e);return d6.test(n)?n:By}catch{return By}}function h6(e){return u6(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new Map;function bj(e,t){const n=Bh(e);_j(n,t),p6(n,t)}function _j(e,t){const n=wj.get(e);if(n)for(const r of n)r(t)}function p6(e,t){const n=m6();n&&n.postMessage({key:e,fid:t}),g6()}let ra=null;function m6(){return!ra&&"BroadcastChannel"in self&&(ra=new BroadcastChannel("[Firebase] FID Change"),ra.onmessage=e=>{_j(e.data.key,e.data.fid)}),ra}function g6(){wj.size===0&&ra&&(ra.close(),ra=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="firebase-installations-database",y6=1,ha="firebase-installations-store";let Bg=null;function g0(){return Bg||(Bg=sj(v6,y6,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ha)}}})),Bg}async function kf(e,t){const n=Bh(e),i=(await g0()).transaction(ha,"readwrite"),s=i.objectStore(ha),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&bj(e,t.fid),t}async function Sj(e){const t=Bh(e),r=(await g0()).transaction(ha,"readwrite");await r.objectStore(ha).delete(t),await r.done}async function Wh(e,t){const n=Bh(e),i=(await g0()).transaction(ha,"readwrite"),s=i.objectStore(ha),o=await s.get(n),c=t(o);return c===void 0?await s.delete(n):await s.put(c,n),await i.done,c&&(!o||o.fid!==c.fid)&&bj(e,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(e){let t;const n=await Wh(e.appConfig,r=>{const i=x6(r),s=w6(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===By?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function x6(e){const t=e||{fid:f6(),registrationStatus:0};return Cj(t)}function w6(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fa.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=b6(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_6(e)}:{installationEntry:t}}async function b6(e,t){try{const n=await c6(e,t);return kf(e.appConfig,n)}catch(n){throw hj(n)&&n.customData.serverCode===409?await Sj(e.appConfig):await kf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function _6(e){let t=await cC(e.appConfig);for(;t.registrationStatus===1;)await xj(100),t=await cC(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await v0(e);return r||n}return t}function cC(e){return Wh(e,t=>{if(!t)throw fa.create("installation-not-found");return Cj(t)})}function Cj(e){return S6(e)?{fid:e.fid,registrationStatus:0}:e}function S6(e){return e.registrationStatus===1&&e.registrationTime+uj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6({appConfig:e,heartbeatServiceProvider:t},n){const r=k6(e,n),i=a6(e,n),s=t.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:dj,appId:e.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},u=await yj(()=>fetch(r,c));if(u.ok){const h=await u.json();return mj(h)}else throw await gj("Generate Auth Token",u)}function k6(e,{fid:t}){return`${pj(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(e,t=!1){let n;const r=await Wh(e.appConfig,s=>{if(!kj(s))throw fa.create("not-registered");const o=s.authToken;if(!t&&I6(o))return s;if(o.requestStatus===1)return n=E6(e,t),s;{if(!navigator.onLine)throw fa.create("app-offline");const c=j6(s);return n=N6(e,c),c}});return n?await n:r.authToken}async function E6(e,t){let n=await uC(e.appConfig);for(;n.authToken.requestStatus===1;)await xj(100),n=await uC(e.appConfig);const r=n.authToken;return r.requestStatus===0?y0(e,t):r}function uC(e){return Wh(e,t=>{if(!kj(t))throw fa.create("not-registered");const n=t.authToken;return T6(n)?{...t,authToken:{requestStatus:0}}:t})}async function N6(e,t){try{const n=await C6(e,t),r={...t,authToken:n};return await kf(e.appConfig,r),n}catch(n){if(hj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Sj(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await kf(e.appConfig,r)}throw n}}function kj(e){return e!==void 0&&e.registrationStatus===2}function I6(e){return e.requestStatus===2&&!P6(e)}function P6(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+n6}function j6(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function T6(e){return e.requestStatus===1&&e.requestTime+uj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(e){const t=e,{installationEntry:n,registrationPromise:r}=await v0(t);return r?r.catch(console.error):y0(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(e,t=!1){const n=e;return await D6(n),(await y0(n,t)).token}async function D6(e){const{registrationPromise:t}=await v0(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(e){if(!e||!e.options)throw Wg("App Configuration");if(!e.name)throw Wg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Wg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Wg(e){return fa.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="installations",M6="installations-internal",L6=e=>{const t=e.getProvider("app").getImmediate(),n=R6(t),r=Ea(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F6=e=>{const t=e.getProvider("app").getImmediate(),n=Ea(t,Ej).getImmediate();return{getId:()=>A6(n),getToken:i=>O6(n,i)}};function $6(){Jr(new Ar(Ej,L6,"PUBLIC")),Jr(new Ar(M6,F6,"PRIVATE"))}$6();ur(cj,m0);ur(cj,m0,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="analytics",z6="firebase_id",U6="origin",B6=60*1e3,W6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sn=new Uh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Kn=new ka("analytics","Analytics",q6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(e){if(!e.startsWith(x0)){const t=Kn.create("invalid-gtag-resource",{gtagURL:e});return Sn.warn(t.message),""}return e}function Nj(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function V6(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function K6(e,t){const n=V6("firebase-js-sdk-policy",{createScriptURL:H6}),r=document.createElement("script"),i=`${x0}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function G6(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Y6(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const u=(await Nj(n)).find(h=>h.measurementId===i);u&&await t[u.appId]}}catch(c){Sn.error(c)}e("config",i,s)}async function X6(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await Nj(n);for(const u of o){const h=c.find(m=>m.measurementId===u),p=h&&t[h.appId];if(p)s.push(p);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){Sn.error(s)}}function Q6(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[c,u]=o;await X6(e,t,n,c,u)}else if(s==="config"){const[c,u]=o;await Y6(e,t,n,r,c,u)}else if(s==="consent"){const[c,u]=o;e("consent",c,u)}else if(s==="get"){const[c,u,h]=o;e("get",c,u,h)}else if(s==="set"){const[c]=o;e("set",c)}else e(s,...o)}catch(c){Sn.error(c)}}return i}function J6(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Q6(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Z6(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(x0)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=30,tz=1e3;class nz{constructor(t={},n=tz){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Ij=new nz;function rz(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function iz(e){var o;const{appId:t,apiKey:n}=e,r={method:"GET",headers:rz(n)},i=W6.replace("{app-id}",t),s=await fetch(i,r);if(s.status!==200&&s.status!==304){let c="";try{const u=await s.json();(o=u.error)!=null&&o.message&&(c=u.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()}async function sz(e,t=Ij,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Kn.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new lz;return setTimeout(async()=>{c.abort()},B6),Pj({appId:r,apiKey:i,measurementId:s},o,c,t)}async function Pj(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=Ij){var c;const{appId:s,measurementId:o}=e;try{await az(r,t)}catch(u){if(o)return Sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:o};throw u}try{const u=await iz(e);return i.deleteThrottleMetadata(s),u}catch(u){const h=u;if(!oz(h)){if(i.deleteThrottleMetadata(s),o)return Sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:s,measurementId:o};throw u}const p=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?eC(n,i.intervalMillis,ez):eC(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(s,m),Sn.debug(`Calling attemptFetch again in ${p} millis`),Pj(e,m,r,i)}}function az(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function oz(e){if(!(e instanceof ii)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class lz{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function cz(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o={...r,send_to:s};e("event",n,o)}}async function uz(e,t,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(){if(ej())try{await tj()}catch(e){return Sn.warn(Kn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Sn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fz(e,t,n,r,i,s,o){const c=sz(e);c.then(v=>{n[v.measurementId]=v.appId,e.options.measurementId&&v.measurementId!==e.options.measurementId&&Sn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Sn.error(v)),t.push(c);const u=dz().then(v=>{if(v)return r.getId()}),[h,p]=await Promise.all([c,u]);Z6(s)||K6(s,h.measurementId),i("js",new Date);const m=(o==null?void 0:o.config)??{};return m[U6]="firebase",m.update=!0,p!=null&&(m[z6]=p),i("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(t){this.app=t}_delete(){return delete mo[this.app.options.appId],Promise.resolve()}}let mo={},dC=[];const fC={};let qg="dataLayer",pz="gtag",hC,w0,pC=!1;function mz(){const e=[];if(JP()&&e.push("This is a browser extension environment."),TF()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:t});Sn.warn(n.message)}}function gz(e,t,n){mz();const r=e.options.appId;if(!r)throw Kn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Kn.create("no-api-key");if(mo[r]!=null)throw Kn.create("already-exists",{id:r});if(!pC){G6(qg);const{wrappedGtag:s,gtagCore:o}=J6(mo,dC,fC,qg,pz);w0=s,hC=o,pC=!0}return mo[r]=fz(e,dC,fC,t,hC,qg,n),new hz(e)}function vz(e=p0()){e=Jt(e);const t=Ea(e,Ef);return t.isInitialized()?t.getImmediate():yz(e)}function yz(e,t={}){const n=Ea(e,Ef);if(n.isInitialized()){const i=n.getImmediate();if(Ns(t,n.getOptions()))return i;throw Kn.create("already-initialized")}return n.initialize({options:t})}function xz(e,t,n){e=Jt(e),uz(w0,mo[e.app.options.appId],t,n).catch(r=>Sn.error(r))}function wz(e,t,n,r){e=Jt(e),cz(w0,mo[e.app.options.appId],t,n,r).catch(i=>Sn.error(i))}const mC="@firebase/analytics",gC="0.10.19";function bz(){Jr(new Ar(Ef,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return gz(r,i,n)},"PUBLIC")),Jr(new Ar("analytics-internal",e,"PRIVATE")),ur(mC,gC),ur(mC,gC,"esm2020");function e(t){try{const n=t.getProvider(Ef).getImmediate();return{logEvent:(r,i,s)=>wz(n,r,i,s),setUserProperties:(r,i)=>xz(n,r,i)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}}}bz();var vC={};const yC="@firebase/database",xC="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jj="";function _z(e){jj=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Xt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Ec(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return si(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Sz(t)}}catch{}return new Cz},ia=Tj("localStorage"),kz=Tj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=new Uh("@firebase/database"),Ez=(function(){let e=1;return function(){return e++}})(),Aj=function(e){const t=UF(e),n=new LF;n.update(t);const r=n.digest();return u0.encodeByteArray(r)},eu=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=eu.apply(null,r):typeof r=="object"?t+=Xt(r):t+=r,t+=" "}return t};let yc=null,wC=!0;const Nz=function(e,t){re(!0,"Can't turn on custom loggers persistently."),go.logLevel=Xe.VERBOSE,yc=go.log.bind(go)},an=function(...e){if(wC===!0&&(wC=!1,yc===null&&kz.get("logging_enabled")===!0&&Nz()),yc){const t=eu.apply(null,e);yc(t)}},tu=function(e){return function(...t){an(e,...t)}},Wy=function(...e){const t="FIREBASE INTERNAL ERROR: "+eu(...e);go.error(t)},Pi=function(...e){const t=`FIREBASE FATAL ERROR: ${eu(...e)}`;throw go.error(t),new Error(t)},Cn=function(...e){const t="FIREBASE WARNING: "+eu(...e);go.warn(t)},Iz=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},b0=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Pz=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},No="[MIN_NAME]",pa="[MAX_NAME]",Na=function(e,t){if(e===t)return 0;if(e===No||t===pa)return-1;if(t===No||e===pa)return 1;{const n=bC(e),r=bC(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},jz=function(e,t){return e===t?0:e<t?-1:1},Jl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Xt(t))},_0=function(e){if(typeof e!="object"||e===null)return Xt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Xt(t[r]),n+=":",n+=_0(e[t[r]]);return n+="}",n},Oj=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ln(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Dj=function(e){re(!b0(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,c,u;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(c=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=c+r,o=Math.round(e*Math.pow(2,n-c)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const h=[];for(u=n;u;u-=1)h.push(o%2?1:0),o=Math.floor(o/2);for(u=t;u;u-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();const p=h.join("");let m="";for(u=0;u<64;u+=8){let v=parseInt(p.substr(u,8),2).toString(16);v.length===1&&(v="0"+v),m=m+v}return m.toLowerCase()},Tz=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Az=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Oz(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const Dz=new RegExp("^-?(0*)\\d{1,10}$"),Rz=-2147483648,Mz=2147483647,bC=function(e){if(Dz.test(e)){const t=Number(e);if(t>=Rz&&t<=Mz)return t}return null},Yo=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Cn("Exception was thrown by user callback.",n),t},Math.floor(0))}},Lz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xc=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,or(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(an("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(t)}}class ff{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ff.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="5",Rj="v",Mj="s",Lj="r",Fj="f",$j=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,zj="ls",Uj="p",qy="ac",Bj="websocket",Wj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(t,n,r,i,s=!1,o="",c=!1,u=!1,h=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=u,this.emulatorOptions=h,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ia.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ia.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function zz(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function Hj(e,t,n){re(typeof t=="string","typeof type must == string"),re(typeof n=="object","typeof params must == object");let r;if(t===Bj)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===Wj)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);zz(e)&&(n.ns=e.namespace);const i=[];return ln(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.counters_={}}incrementCounter(t,n=1){si(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return yF(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg={},Vg={};function C0(e){const t=e.toString();return Hg[t]||(Hg[t]=new Uz),Hg[t]}function Bz(e,t){const n=e.toString();return Vg[n]||(Vg[n]=t()),Vg[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Yo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="start",qz="close",Hz="pLPCommand",Vz="pRTLPCB",Vj="id",Kj="pw",Gj="ser",Kz="cb",Gz="seg",Yz="ts",Xz="d",Qz="dframe",Yj=1870,Xj=30,Jz=Yj-Xj,Zz=25e3,eU=3e4;class uo{constructor(t,n,r,i,s,o,c){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tu(t),this.stats_=C0(n),this.urlFn=u=>(this.appCheckToken&&(u[qy]=this.appCheckToken),Hj(n,Wj,u))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wz(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eU)),Pz(()=>{if(this.isClosed_)return;this.scriptTagHolder=new k0((...s)=>{const[o,c,u,h,p]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_C)this.id=c,this.password=u;else if(o===qz)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,c]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,c)},()=>{this.onClosed_()},this.urlFn);const r={};r[_C]="t",r[Gj]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Kz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Rj]=S0,this.transportSessionId&&(r[Mj]=this.transportSessionId),this.lastSessionId&&(r[zj]=this.lastSessionId),this.applicationId&&(r[Uj]=this.applicationId),this.appCheckToken&&(r[qy]=this.appCheckToken),typeof location<"u"&&location.hostname&&$j.test(location.hostname)&&(r[Lj]=Fj);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uo.forceAllow_=!0}static forceDisallow(){uo.forceDisallow_=!0}static isAvailable(){return uo.forceAllow_?!0:!uo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Tz()&&!Az()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=Xt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=HP(n),i=Oj(r,Jz);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[Qz]="t",r[Vj]=t,r[Kj]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=Xt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class k0{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ez(),window[Hz+this.uniqueCallbackIdentifier]=t,window[Vz+this.uniqueCallbackIdentifier]=n,this.myIFrame=k0.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(c){an("frame writing exception"),c.stack&&an(c.stack),an(c)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||an("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Vj]=this.myID,t[Kj]=this.myPW,t[Gj]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Xj+r.length<=Yj;){const o=this.pendingSegs.shift();r=r+"&"+Gz+i+"="+o.seg+"&"+Yz+i+"="+o.ts+"&"+Xz+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Zz)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{an("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=16384,nU=45e3;let Nf=null;typeof MozWebSocket<"u"?Nf=MozWebSocket:typeof WebSocket<"u"&&(Nf=WebSocket);class Cr{constructor(t,n,r,i,s,o,c){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tu(this.connId),this.stats_=C0(n),this.connURL=Cr.connectionURL_(n,o,c,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[Rj]=S0,typeof location<"u"&&location.hostname&&$j.test(location.hostname)&&(o[Lj]=Fj),n&&(o[Mj]=n),r&&(o[zj]=r),i&&(o[qy]=i),s&&(o[Uj]=s),Hj(t,Bj,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ia.set("previous_websocket_failure",!0);try{let r;jF(),this.mySock=new Nf(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Nf!==null&&!Cr.forceDisallow_}static previouslyFailed(){return ia.isInMemoryStorage||ia.get("previous_websocket_failure")===!0}markConnectionHealthy(){ia.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ec(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(re(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=Xt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Oj(n,tU);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nU))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Cr.responsesRequiredToBeHealthy=2;Cr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{static get ALL_TRANSPORTS(){return[uo,Cr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const n=Cr&&Cr.isAvailable();let r=n&&!Cr.previouslyFailed();if(t.webSocketOnly&&(n||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Cr];else{const i=this.transports_=[];for(const s of Ic.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ic.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ic.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=6e4,iU=5e3,sU=10*1024,aU=100*1024,Kg="t",SC="d",oU="s",CC="r",lU="e",kC="o",EC="a",NC="n",IC="p",cU="h";class uU{constructor(t,n,r,i,s,o,c,u,h,p){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=c,this.onDisconnect_=u,this.onKill_=h,this.lastSessionId=p,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tu("c:"+this.id+":"),this.transportManager_=new Ic(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=xc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Kg in t){const n=t[Kg];n===EC?this.upgradeIfSecondaryHealthy_():n===CC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===kC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=Jl("t",t),r=Jl("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:EC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:NC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=Jl("t",t),r=Jl("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=Jl(Kg,t);if(SC in t){const r=t[SC];if(n===cU){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===NC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===oU?this.onConnectionShutdown_(r):n===CC?this.onReset_(r):n===lU?Wy("Server Error: "+r):n===kC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Wy("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),S0!==r&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rU))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IC,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ia.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jj=class{constructor(t){this.allowedEvents_=t,this.listeners_={},re(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){re(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If extends Jj{static getInstance(){return new If}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!f0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return re(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=32,jC=768;let Qe=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function qe(){return new Qe("")}function De(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Is(e){return e.pieces_.length-e.pieceNum_}function nt(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Qe(e.pieces_,t)}function E0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function dU(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Pc(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function Zj(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Qe(t,0)}function vt(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Qe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Qe(n,0)}function Me(e){return e.pieceNum_>=e.pieces_.length}function Rn(e,t){const n=De(e),r=De(t);if(n===null)return t;if(n===r)return Rn(nt(e),nt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fU(e,t){const n=Pc(e,0),r=Pc(t,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Na(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function N0(e,t){if(Is(e)!==Is(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function lr(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Is(e)>Is(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class hU{constructor(t,n){this.errorPrefix_=n,this.parts_=Pc(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zh(this.parts_[r]);eT(this)}}function pU(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=zh(t),eT(e)}function mU(e){const t=e.parts_.pop();e.byteLength_-=zh(t),e.parts_.length>0&&(e.byteLength_-=1)}function eT(e){if(e.byteLength_>jC)throw new Error(e.errorPrefix_+"has a key path longer than "+jC+" bytes ("+e.byteLength_+").");if(e.parts_.length>PC)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+PC+") or object contains a cycle "+Zs(e))}function Zs(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Jj{static getInstance(){return new I0}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return re(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=1e3,gU=300*1e3,TC=30*1e3,vU=1.3,yU=3e4,xU="server_kill",AC=3;class Si extends Qj{constructor(t,n,r,i,s,o,c,u){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=Si.nextPersistentConnectionId_++,this.log_=tu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Zl,this.maxReconnectDelay_=gU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");I0.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&If.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(Xt(s)),re(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Zc,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const c=o.d;o.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),re(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const c={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,c=>{const u=c.d,h=c.s;Si.warnOnListenWarnings_(u,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",c),h!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(h,u))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&si(t,"w")){const r=Eo(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||MF(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TC)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=RF(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),re(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Xt(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):Wy("Unrecognized action received from server: "+Xt(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){re(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yU&&(this.reconnectDelay_=Zl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vU)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Si.nextConnectionId_++,s=this.lastSessionId;let o=!1,c=null;const u=function(){c?c.close():(o=!0,r())},h=function(m){re(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:u,sendRequest:h};const p=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,v]=await Promise.all([this.authTokenProvider_.getToken(p),this.appCheckTokenProvider_.getToken(p)]);o?an("getToken() completed but was canceled"):(an("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=v&&v.token,c=new uU(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,y=>{Cn(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(xU)},s))}catch(m){this.log_("Failed to get token: "+m),o||(this.repoInfo_.nodeAdmin&&Cn(m),u())}}}interrupt(t){an("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){an("Resuming connection for reason: "+t),delete this.interruptReasons_[t],My(this.interruptReasons_)&&(this.reconnectDelay_=Zl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>_0(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new Qe(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){an("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AC&&(this.reconnectDelay_=TC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){an("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+jj.replace(/\./g,"-")]=1,f0()?t["framework.cordova"]=1:ZP()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=If.getInstance().currentlyOnline();return My(this.interruptReasons_)&&t}}Si.nextPersistentConnectionId_=0;Si.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Re(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Re(No,t),i=new Re(No,n);return this.compare(r,i)!==0}minPost(){return Re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd;class tT extends qh{static get __EMPTY_NODE(){return zd}static set __EMPTY_NODE(t){zd=t}compare(t,n){return Na(t.name,n.name)}isDefinedOn(t){throw Ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Re.MIN}maxPost(){return new Re(pa,zd)}makePost(t,n){return re(typeof t=="string","KeyIndex indexValue must always be a string."),new Re(t,zd)}toString(){return".key"}}const vo=new tT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Gt{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Gt.RED,this.left=i??Mn.EMPTY_NODE,this.right=s??Mn.EMPTY_NODE}copy(t,n,r,i,s){return new Gt(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mn.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Mn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Gt.RED=!0;Gt.BLACK=!1;class wU{copy(t,n,r,i,s){return this}insert(t,n,r){return new Gt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Mn{constructor(t,n=Mn.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Mn(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(t){return new Mn(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ud(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ud(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ud(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ud(this.root_,null,this.comparator_,!0,t)}}Mn.EMPTY_NODE=new wU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(e,t){return Na(e.name,t.name)}function P0(e,t){return Na(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;function _U(e){Hy=e}const nT=function(e){return typeof e=="number"?"number:"+Dj(e):"string:"+e},rT=function(e){if(e.isLeafNode()){const t=e.val();re(typeof t=="string"||typeof t=="number"||typeof t=="object"&&si(t,".sv"),"Priority must be a string or number.")}else re(e===Hy||e.isEmpty(),"priority of unexpected type.");re(e===Hy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OC;class Vt{static set __childrenNodeConstructor(t){OC=t}static get __childrenNodeConstructor(){return OC}constructor(t,n=Vt.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,re(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),rT(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Vt(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Me(t)?this:De(t)===".priority"?this.priorityNode_:Vt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Vt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=De(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(re(r!==".priority"||Is(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Vt.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+nT(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=Dj(this.value_):t+=this.value_,this.lazyHash_=Aj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Vt.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Vt.__childrenNodeConstructor?-1:(re(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Vt.VALUE_TYPE_ORDER.indexOf(n),s=Vt.VALUE_TYPE_ORDER.indexOf(r);return re(i>=0,"Unknown leaf type: "+n),re(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Vt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iT,sT;function SU(e){iT=e}function CU(e){sT=e}class kU extends qh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Na(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Re.MIN}maxPost(){return new Re(pa,new Vt("[PRIORITY-POST]",sT))}makePost(t,n){const r=iT(t);return new Re(n,new Vt("[PRIORITY-POST]",r))}toString(){return".priority"}}const yt=new kU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=Math.log(2);class NU{constructor(t){const n=s=>parseInt(Math.log(s)/EU,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Pf=function(e,t,n,r){e.sort(t);const i=function(u,h){const p=h-u;let m,v;if(p===0)return null;if(p===1)return m=e[u],v=n?n(m):m,new Gt(v,m.node,Gt.BLACK,null,null);{const y=parseInt(p/2,10)+u,w=i(u,y),C=i(y+1,h);return m=e[y],v=n?n(m):m,new Gt(v,m.node,Gt.BLACK,w,C)}},s=function(u){let h=null,p=null,m=e.length;const v=function(w,C){const _=m-w,k=m;m-=w;const I=i(_+1,k),E=e[_],j=n?n(E):E;y(new Gt(j,E.node,C,null,I))},y=function(w){h?(h.left=w,h=w):(p=w,h=w)};for(let w=0;w<u.count;++w){const C=u.nextBitIsOne(),_=Math.pow(2,u.count-(w+1));C?v(_,Gt.BLACK):(v(_,Gt.BLACK),v(_,Gt.RED))}return p},o=new NU(e.length),c=s(o);return new Mn(r||t,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gg;const so={};class vi{static get Default(){return re(so&&yt,"ChildrenNode.ts has not been loaded"),Gg=Gg||new vi({".priority":so},{".priority":yt}),Gg}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){const n=Eo(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Mn?n:null}hasIndex(t){return si(this.indexSet_,t.toString())}addIndex(t,n){re(t!==vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Re.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let c;i?c=Pf(r,t.getCompare()):c=so;const u=t.toString(),h={...this.indexSet_};h[u]=t;const p={...this.indexes_};return p[u]=c,new vi(p,h)}addToIndexes(t,n){const r=Sf(this.indexes_,(i,s)=>{const o=Eo(this.indexSet_,s);if(re(o,"Missing index implementation for "+s),i===so)if(o.isDefinedOn(t.node)){const c=[],u=n.getIterator(Re.Wrap);let h=u.getNext();for(;h;)h.name!==t.name&&c.push(h),h=u.getNext();return c.push(t),Pf(c,o.getCompare())}else return so;else{const c=n.get(t.name);let u=i;return c&&(u=u.remove(new Re(t.name,c))),u.insert(t,t.node)}});return new vi(r,this.indexSet_)}removeFromIndexes(t,n){const r=Sf(this.indexes_,i=>{if(i===so)return i;{const s=n.get(t.name);return s?i.remove(new Re(t.name,s)):i}});return new vi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class Pe{static get EMPTY_NODE(){return ec||(ec=new Pe(new Mn(P0),null,vi.Default))}constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rT(this.priorityNode_),this.children_.isEmpty()&&re(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ec}updatePriority(t){return this.children_.isEmpty()?this:new Pe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?ec:n}}getChild(t){const n=De(t);return n===null?this:this.getImmediateChild(n).getChild(nt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(re(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Re(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?ec:this.priorityNode_;return new Pe(i,o,s)}}updateChild(t,n){const r=De(t);if(r===null)return n;{re(De(t)!==".priority"||Is(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(nt(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(yt,(o,c)=>{n[o]=c.val(t),r++,s&&Pe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const c in n)o[c]=n[c];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+nT(this.getPriority().val())+":"),this.forEachChild(yt,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":Aj(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Re(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Re(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Re(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Re.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===nu?-1:0}withIndex(t){if(t===vo||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Pe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===vo||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yt),i=n.getIterator(yt);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===vo?null:this.indexMap_.get(t.toString())}}Pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class IU extends Pe{constructor(){super(new Mn(P0),Pe.EMPTY_NODE,vi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Pe.EMPTY_NODE}isEmpty(){return!1}}const nu=new IU;Object.defineProperties(Re,{MIN:{value:new Re(No,Pe.EMPTY_NODE)},MAX:{value:new Re(pa,nu)}});tT.__EMPTY_NODE=Pe.EMPTY_NODE;Vt.__childrenNodeConstructor=Pe;_U(nu);CU(nu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=!0;function Yt(e,t=null){if(e===null)return Pe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),re(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Vt(n,Yt(t))}if(!(e instanceof Array)&&PU){const n=[];let r=!1;if(ln(e,(o,c)=>{if(o.substring(0,1)!=="."){const u=Yt(c);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),n.push(new Re(o,u)))}}),n.length===0)return Pe.EMPTY_NODE;const s=Pf(n,bU,o=>o.name,P0);if(r){const o=Pf(n,yt.getCompare());return new Pe(s,Yt(t),new vi({".priority":o},{".priority":yt}))}else return new Pe(s,Yt(t),vi.Default)}else{let n=Pe.EMPTY_NODE;return ln(e,(r,i)=>{if(si(e,r)&&r.substring(0,1)!=="."){const s=Yt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Yt(t))}}SU(Yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU extends qh{constructor(t){super(),this.indexPath_=t,re(!Me(t)&&De(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Na(t.name,n.name):s}makePost(t,n){const r=Yt(t),i=Pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Re(n,i)}maxPost(){const t=Pe.EMPTY_NODE.updateChild(this.indexPath_,nu);return new Re(pa,t)}toString(){return Pc(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU extends qh{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Na(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Re.MIN}maxPost(){return Re.MAX}makePost(t,n){const r=Yt(t);return new Re(n,r)}toString(){return".value"}}const AU=new TU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(e){return{type:"value",snapshotNode:e}}function Io(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function jc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Tc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function OU(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){re(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=t.getImmediateChild(n);return c.getChild(i).equals(r.getChild(i))&&c.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(jc(n,c)):re(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?o.trackChildChange(Io(n,r)):o.trackChildChange(Tc(n,r,c))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(yt,(i,s)=>{n.hasChild(i)||r.trackChildChange(jc(i,s))}),n.isLeafNode()||n.forEachChild(yt,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(Tc(i,s,o))}else r.trackChildChange(Io(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Pe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t){this.indexedFilter_=new j0(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ac.getStartPost_(t),this.endPost_=Ac.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Re(n,r))||(r=Pe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Pe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Pe.EMPTY_NODE);const s=this;return n.forEachChild(yt,(o,c)=>{s.matches(new Re(o,c))||(i=i.updateImmediateChild(o,Pe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ac(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Re(n,r))||(r=Pe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Pe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Pe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const c=s.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))i=i.updateImmediateChild(c.name,c.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Pe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const c=s.getNext();o<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?o++:i=i.updateImmediateChild(c.name,Pe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const m=this.index_.getCompare();o=(v,y)=>m(y,v)}else o=this.index_.getCompare();const c=t;re(c.numChildren()===this.limit_,"");const u=new Re(n,r),h=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),p=this.rangedFilter_.matches(u);if(c.hasChild(n)){const m=c.getImmediateChild(n);let v=i.getChildAfterChild(this.index_,h,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=i.getChildAfterChild(this.index_,v,this.reverse_);const y=v==null?1:o(v,u);if(p&&!r.isEmpty()&&y>=0)return s!=null&&s.trackChildChange(Tc(n,r,m)),c.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(jc(n,m));const C=c.updateImmediateChild(n,Pe.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(s!=null&&s.trackChildChange(Io(v.name,v.node)),C.updateImmediateChild(v.name,v.node)):C}}else return r.isEmpty()?t:p&&o(h,u)>=0?(s!=null&&(s.trackChildChange(jc(h.name,h.node)),s.trackChildChange(Io(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(h.name,Pe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return re(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return re(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:No}hasEnd(){return this.endSet_}getIndexEndValue(){return re(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return re(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pa}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return re(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const t=new T0;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function RU(e){return e.loadsAllData()?new j0(e.getIndex()):e.hasLimit()?new DU(e):new Ac(e)}function DC(e){const t={};if(e.isDefault())return t;let n;if(e.index_===yt?n="$priority":e.index_===AU?n="$value":e.index_===vo?n="$key":(re(e.index_ instanceof jU,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Xt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=Xt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Xt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Xt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Xt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function RC(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==yt&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends Qj{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(re(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=tu("p:rest:"),this.listens_={}}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=jf.getListenId_(t,r),c={};this.listens_[o]=c;const u=DC(t._queryParams);this.restRequest_(s+".json",u,(h,p)=>{let m=p;if(h===404&&(m=null,h=null),h===null&&this.onDataUpdate_(s,m,!1,r),Eo(this.listens_,o)===c){let v;h?h===401?v="permission_denied":v="rest_error:"+h:v="ok",i(v,null)}})}unlisten(t,n){const r=jf.getListenId_(t,n);delete this.listens_[r]}get(t){const n=DC(t._queryParams),r=t._path.toString(),i=new Zc;return this.restRequest_(r+".json",n,(s,o)=>{let c=o;s===404&&(c=null,s=null),s===null?(this.onDataUpdate_(r,c,!1,null),i.resolve(c)):i.reject(new Error(c))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ko(n);this.log_("Sending REST request for "+o);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(r&&c.readyState===4){this.log_("REST Response for "+o+" received. status:",c.status,"response:",c.responseText);let u=null;if(c.status>=200&&c.status<300){try{u=Ec(c.responseText)}catch{Cn("Failed to parse JSON response for "+o+": "+c.responseText)}r(null,u)}else c.status!==401&&c.status!==404&&Cn("Got unsuccessful REST response for "+o+" Status: "+c.status),r(c.status);r=null}},c.open("GET",o,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(){this.rootNode_=Pe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){return{value:null,children:new Map}}function oT(e,t,n){if(Me(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=De(t);e.children.has(r)||e.children.set(r,Tf());const i=e.children.get(r);t=nt(t),oT(i,t,n)}}function Vy(e,t,n){e.value!==null?n(t,e.value):LU(e,(r,i)=>{const s=new Qe(t.toString()+"/"+r);Vy(i,s,n)})}function LU(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n={...t};return this.last_&&ln(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=10*1e3,$U=30*1e3,zU=300*1e3;class UU{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new FU(t);const r=MC+($U-MC)*Math.random();xc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ln(t,(i,s)=>{s>0&&si(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),xc(this.reportStats_.bind(this),Math.floor(Math.random()*2*zU))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Nr||(Nr={}));function A0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function O0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function D0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Nr.ACK_USER_WRITE,this.source=A0()}operationForChild(t){if(Me(this.path)){if(this.affectedTree.value!=null)return re(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Qe(t));return new Af(qe(),n,this.revert)}}else return re(De(this.path)===t,"operationForChild called for unrelated child."),new Af(nt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,n){this.source=t,this.path=n,this.type=Nr.LISTEN_COMPLETE}operationForChild(t){return Me(this.path)?new Oc(this.source,qe()):new Oc(this.source,nt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Nr.OVERWRITE}operationForChild(t){return Me(this.path)?new ma(this.source,qe(),this.snap.getImmediateChild(t)):new ma(this.source,nt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Nr.MERGE}operationForChild(t){if(Me(this.path)){const n=this.children.subtree(new Qe(t));return n.isEmpty()?null:n.value?new ma(this.source,qe(),n.value):new Po(this.source,qe(),n)}else return re(De(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Po(this.source,nt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Me(t))return this.isFullyInitialized()&&!this.filtered_;const n=De(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function WU(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(OU(o.childName,o.snapshotNode))}),tc(e,i,"child_removed",t,r,n),tc(e,i,"child_added",t,r,n),tc(e,i,"child_moved",s,r,n),tc(e,i,"child_changed",t,r,n),tc(e,i,"value",t,r,n),i}function tc(e,t,n,r,i,s){const o=r.filter(c=>c.type===n);o.sort((c,u)=>HU(e,c,u)),o.forEach(c=>{const u=qU(e,c,s);i.forEach(h=>{h.respondsTo(c.type)&&t.push(h.createEvent(u,e.query_))})})}function qU(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function HU(e,t,n){if(t.childName==null||n.childName==null)throw Ho("Should only compare child_ events.");const r=new Re(t.childName,t.snapshotNode),i=new Re(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e,t){return{eventCache:e,serverCache:t}}function wc(e,t,n,r){return Hh(new ga(t,n,r),e.serverCache)}function lT(e,t,n,r){return Hh(e.eventCache,new ga(t,n,r))}function Ky(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function va(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg;const VU=()=>(Yg||(Yg=new Mn(jz)),Yg);class et{static fromObject(t){let n=new et(null);return ln(t,(r,i)=>{n=n.set(new Qe(r),i)}),n}constructor(t,n=VU()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:qe(),value:this.value};if(Me(t))return null;{const r=De(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(nt(t),n);return s!=null?{path:vt(new Qe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Me(t))return this;{const n=De(t),r=this.children.get(n);return r!==null?r.subtree(nt(t)):new et(null)}}set(t,n){if(Me(t))return new et(n,this.children);{const r=De(t),s=(this.children.get(r)||new et(null)).set(nt(t),n),o=this.children.insert(r,s);return new et(this.value,o)}}remove(t){if(Me(t))return this.children.isEmpty()?new et(null):new et(null,this.children);{const n=De(t),r=this.children.get(n);if(r){const i=r.remove(nt(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new et(null):new et(this.value,s)}else return this}}get(t){if(Me(t))return this.value;{const n=De(t),r=this.children.get(n);return r?r.get(nt(t)):null}}setTree(t,n){if(Me(t))return n;{const r=De(t),s=(this.children.get(r)||new et(null)).setTree(nt(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new et(this.value,o)}}fold(t){return this.fold_(qe(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(vt(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,qe(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Me(t))return null;{const s=De(t),o=this.children.get(s);return o?o.findOnPath_(nt(t),vt(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,qe(),n)}foreachOnPath_(t,n,r){if(Me(t))return this;{this.value&&r(n,this.value);const i=De(t),s=this.children.get(i);return s?s.foreachOnPath_(nt(t),vt(n,i),r):new et(null)}}foreach(t){this.foreach_(qe(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(vt(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(t){this.writeTree_=t}static empty(){return new Pr(new et(null))}}function bc(e,t,n){if(Me(t))return new Pr(new et(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=Rn(i,t);return s=s.updateChild(o,n),new Pr(e.writeTree_.set(i,s))}else{const i=new et(n),s=e.writeTree_.setTree(t,i);return new Pr(s)}}}function Gy(e,t,n){let r=e;return ln(n,(i,s)=>{r=bc(r,vt(t,i),s)}),r}function LC(e,t){if(Me(t))return Pr.empty();{const n=e.writeTree_.setTree(t,new et(null));return new Pr(n)}}function Yy(e,t){return Ia(e,t)!=null}function Ia(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Rn(n.path,t)):null}function FC(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(r,i)=>{t.push(new Re(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Re(r,i.value))}),t}function ks(e,t){if(Me(t))return e;{const n=Ia(e,t);return n!=null?new Pr(new et(n)):new Pr(e.writeTree_.subtree(t))}}function Xy(e){return e.writeTree_.isEmpty()}function jo(e,t){return cT(qe(),e.writeTree_,t)}function cT(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(re(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=cT(vt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(vt(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(e,t){return hT(t,e)}function KU(e,t,n,r,i){re(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=bc(e.visibleWrites,t,n)),e.lastWriteId=r}function GU(e,t,n,r){re(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Gy(e.visibleWrites,t,n),e.lastWriteId=r}function YU(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function XU(e,t){const n=e.allWrites.findIndex(c=>c.writeId===t);re(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const c=e.allWrites[o];c.visible&&(o>=n&&QU(c,r.path)?i=!1:lr(r.path,c.path)&&(s=!0)),o--}if(i){if(s)return JU(e),!0;if(r.snap)e.visibleWrites=LC(e.visibleWrites,r.path);else{const c=r.children;ln(c,u=>{e.visibleWrites=LC(e.visibleWrites,vt(r.path,u))})}return!0}else return!1}function QU(e,t){if(e.snap)return lr(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&lr(vt(e.path,n),t))return!0;return!1}function JU(e){e.visibleWrites=uT(e.allWrites,ZU,qe()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function ZU(e){return e.visible}function uT(e,t,n){let r=Pr.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let c;if(s.snap)lr(n,o)?(c=Rn(n,o),r=bc(r,c,s.snap)):lr(o,n)&&(c=Rn(o,n),r=bc(r,qe(),s.snap.getChild(c)));else if(s.children){if(lr(n,o))c=Rn(n,o),r=Gy(r,c,s.children);else if(lr(o,n))if(c=Rn(o,n),Me(c))r=Gy(r,qe(),s.children);else{const u=Eo(s.children,De(c));if(u){const h=u.getChild(nt(c));r=bc(r,qe(),h)}}}else throw Ho("WriteRecord should have .snap or .children")}}return r}function dT(e,t,n,r,i){if(!r&&!i){const s=Ia(e.visibleWrites,t);if(s!=null)return s;{const o=ks(e.visibleWrites,t);if(Xy(o))return n;if(n==null&&!Yy(o,qe()))return null;{const c=n||Pe.EMPTY_NODE;return jo(o,c)}}}else{const s=ks(e.visibleWrites,t);if(!i&&Xy(s))return n;if(!i&&n==null&&!Yy(s,qe()))return null;{const o=function(h){return(h.visible||i)&&(!r||!~r.indexOf(h.writeId))&&(lr(h.path,t)||lr(t,h.path))},c=uT(e.allWrites,o,t),u=n||Pe.EMPTY_NODE;return jo(c,u)}}}function eB(e,t,n){let r=Pe.EMPTY_NODE;const i=Ia(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(yt,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ks(e.visibleWrites,t);return n.forEachChild(yt,(o,c)=>{const u=jo(ks(s,new Qe(o)),c);r=r.updateImmediateChild(o,u)}),FC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ks(e.visibleWrites,t);return FC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function tB(e,t,n,r,i){re(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=vt(t,n);if(Yy(e.visibleWrites,s))return null;{const o=ks(e.visibleWrites,s);return Xy(o)?i.getChild(n):jo(o,i.getChild(n))}}function nB(e,t,n,r){const i=vt(t,n),s=Ia(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ks(e.visibleWrites,i);return jo(o,r.getNode().getImmediateChild(n))}else return null}function rB(e,t){return Ia(e.visibleWrites,t)}function iB(e,t,n,r,i,s,o){let c;const u=ks(e.visibleWrites,t),h=Ia(u,qe());if(h!=null)c=h;else if(n!=null)c=jo(u,n);else return[];if(c=c.withIndex(o),!c.isEmpty()&&!c.isLeafNode()){const p=[],m=o.getCompare(),v=s?c.getReverseIteratorFrom(r,o):c.getIteratorFrom(r,o);let y=v.getNext();for(;y&&p.length<i;)m(y,r)!==0&&p.push(y),y=v.getNext();return p}else return[]}function sB(){return{visibleWrites:Pr.empty(),allWrites:[],lastWriteId:-1}}function Of(e,t,n,r){return dT(e.writeTree,e.treePath,t,n,r)}function M0(e,t){return eB(e.writeTree,e.treePath,t)}function $C(e,t,n,r){return tB(e.writeTree,e.treePath,t,n,r)}function Df(e,t){return rB(e.writeTree,vt(e.treePath,t))}function aB(e,t,n,r,i,s){return iB(e.writeTree,e.treePath,t,n,r,i,s)}function L0(e,t,n){return nB(e.writeTree,e.treePath,t,n)}function fT(e,t){return hT(vt(e.treePath,t),e.writeTree)}function hT(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;re(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),re(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Tc(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,jc(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Io(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Tc(r,t.snapshotNode,i.oldSnap));else throw Ho("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const pT=new lB;class F0{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new ga(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return L0(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=aB(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cB(e){return{filter:e}}function uB(e,t){re(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),re(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function dB(e,t,n,r,i){const s=new oB;let o,c;if(n.type===Nr.OVERWRITE){const h=n;h.source.fromUser?o=Qy(e,t,h.path,h.snap,r,i,s):(re(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered()&&!Me(h.path),o=Rf(e,t,h.path,h.snap,r,i,c,s))}else if(n.type===Nr.MERGE){const h=n;h.source.fromUser?o=hB(e,t,h.path,h.children,r,i,s):(re(h.source.fromServer,"Unknown source."),c=h.source.tagged||t.serverCache.isFiltered(),o=Jy(e,t,h.path,h.children,r,i,c,s))}else if(n.type===Nr.ACK_USER_WRITE){const h=n;h.revert?o=gB(e,t,h.path,r,i,s):o=pB(e,t,h.path,h.affectedTree,r,i,s)}else if(n.type===Nr.LISTEN_COMPLETE)o=mB(e,t,n.path,r,s);else throw Ho("Unknown operation type: "+n.type);const u=s.getChanges();return fB(t,o,u),{viewCache:o,changes:u}}function fB(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Ky(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(aT(Ky(t)))}}function mT(e,t,n,r,i,s){const o=t.eventCache;if(Df(r,n)!=null)return t;{let c,u;if(Me(n))if(re(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const h=va(t),p=h instanceof Pe?h:Pe.EMPTY_NODE,m=M0(r,p);c=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const h=Of(r,va(t));c=e.filter.updateFullNode(t.eventCache.getNode(),h,s)}else{const h=De(n);if(h===".priority"){re(Is(n)===1,"Can't have a priority with additional path components");const p=o.getNode();u=t.serverCache.getNode();const m=$C(r,n,p,u);m!=null?c=e.filter.updatePriority(p,m):c=o.getNode()}else{const p=nt(n);let m;if(o.isCompleteForChild(h)){u=t.serverCache.getNode();const v=$C(r,n,o.getNode(),u);v!=null?m=o.getNode().getImmediateChild(h).updateChild(p,v):m=o.getNode().getImmediateChild(h)}else m=L0(r,h,t.serverCache);m!=null?c=e.filter.updateChild(o.getNode(),h,m,p,i,s):c=o.getNode()}}return wc(t,c,o.isFullyInitialized()||Me(n),e.filter.filtersNodes())}}function Rf(e,t,n,r,i,s,o,c){const u=t.serverCache;let h;const p=o?e.filter:e.filter.getIndexedFilter();if(Me(n))h=p.updateFullNode(u.getNode(),r,null);else if(p.filtersNodes()&&!u.isFiltered()){const y=u.getNode().updateChild(n,r);h=p.updateFullNode(u.getNode(),y,null)}else{const y=De(n);if(!u.isCompleteForPath(n)&&Is(n)>1)return t;const w=nt(n),_=u.getNode().getImmediateChild(y).updateChild(w,r);y===".priority"?h=p.updatePriority(u.getNode(),_):h=p.updateChild(u.getNode(),y,_,w,pT,null)}const m=lT(t,h,u.isFullyInitialized()||Me(n),p.filtersNodes()),v=new F0(i,m,s);return mT(e,m,n,i,v,c)}function Qy(e,t,n,r,i,s,o){const c=t.eventCache;let u,h;const p=new F0(i,t,s);if(Me(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=wc(t,h,!0,e.filter.filtersNodes());else{const m=De(n);if(m===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),u=wc(t,h,c.isFullyInitialized(),c.isFiltered());else{const v=nt(n),y=c.getNode().getImmediateChild(m);let w;if(Me(v))w=r;else{const C=p.getCompleteChild(m);C!=null?E0(v)===".priority"&&C.getChild(Zj(v)).isEmpty()?w=C:w=C.updateChild(v,r):w=Pe.EMPTY_NODE}if(y.equals(w))u=t;else{const C=e.filter.updateChild(c.getNode(),m,w,v,p,o);u=wc(t,C,c.isFullyInitialized(),e.filter.filtersNodes())}}}return u}function zC(e,t){return e.eventCache.isCompleteForChild(t)}function hB(e,t,n,r,i,s,o){let c=t;return r.foreach((u,h)=>{const p=vt(n,u);zC(t,De(p))&&(c=Qy(e,c,p,h,i,s,o))}),r.foreach((u,h)=>{const p=vt(n,u);zC(t,De(p))||(c=Qy(e,c,p,h,i,s,o))}),c}function UC(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Jy(e,t,n,r,i,s,o,c){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t,h;Me(n)?h=r:h=new et(null).setTree(n,r);const p=t.serverCache.getNode();return h.children.inorderTraversal((m,v)=>{if(p.hasChild(m)){const y=t.serverCache.getNode().getImmediateChild(m),w=UC(e,y,v);u=Rf(e,u,new Qe(m),w,i,s,o,c)}}),h.children.inorderTraversal((m,v)=>{const y=!t.serverCache.isCompleteForChild(m)&&v.value===null;if(!p.hasChild(m)&&!y){const w=t.serverCache.getNode().getImmediateChild(m),C=UC(e,w,v);u=Rf(e,u,new Qe(m),C,i,s,o,c)}}),u}function pB(e,t,n,r,i,s,o){if(Df(i,n)!=null)return t;const c=t.serverCache.isFiltered(),u=t.serverCache;if(r.value!=null){if(Me(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Rf(e,t,n,u.getNode().getChild(n),i,s,c,o);if(Me(n)){let h=new et(null);return u.getNode().forEachChild(vo,(p,m)=>{h=h.set(new Qe(p),m)}),Jy(e,t,n,h,i,s,c,o)}else return t}else{let h=new et(null);return r.foreach((p,m)=>{const v=vt(n,p);u.isCompleteForPath(v)&&(h=h.set(p,u.getNode().getChild(v)))}),Jy(e,t,n,h,i,s,c,o)}}function mB(e,t,n,r,i){const s=t.serverCache,o=lT(t,s.getNode(),s.isFullyInitialized()||Me(n),s.isFiltered());return mT(e,o,n,r,pT,i)}function gB(e,t,n,r,i,s){let o;if(Df(r,n)!=null)return t;{const c=new F0(r,t,i),u=t.eventCache.getNode();let h;if(Me(n)||De(n)===".priority"){let p;if(t.serverCache.isFullyInitialized())p=Of(r,va(t));else{const m=t.serverCache.getNode();re(m instanceof Pe,"serverChildren would be complete if leaf node"),p=M0(r,m)}p=p,h=e.filter.updateFullNode(u,p,s)}else{const p=De(n);let m=L0(r,p,t.serverCache);m==null&&t.serverCache.isCompleteForChild(p)&&(m=u.getImmediateChild(p)),m!=null?h=e.filter.updateChild(u,p,m,nt(n),c,s):t.eventCache.getNode().hasChild(p)?h=e.filter.updateChild(u,p,Pe.EMPTY_NODE,nt(n),c,s):h=u,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Of(r,va(t)),o.isLeafNode()&&(h=e.filter.updateFullNode(h,o,s)))}return o=t.serverCache.isFullyInitialized()||Df(r,qe())!=null,wc(t,h,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new j0(r.getIndex()),s=RU(r);this.processor_=cB(s);const o=n.serverCache,c=n.eventCache,u=i.updateFullNode(Pe.EMPTY_NODE,o.getNode(),null),h=s.updateFullNode(Pe.EMPTY_NODE,c.getNode(),null),p=new ga(u,o.isFullyInitialized(),i.filtersNodes()),m=new ga(h,c.isFullyInitialized(),s.filtersNodes());this.viewCache_=Hh(m,p),this.eventGenerator_=new BU(this.query_)}get query(){return this.query_}}function yB(e){return e.viewCache_.serverCache.getNode()}function xB(e,t){const n=va(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Me(t)&&!n.getImmediateChild(De(t)).isEmpty())?n.getChild(t):null}function BC(e){return e.eventRegistrations_.length===0}function wB(e,t){e.eventRegistrations_.push(t)}function WC(e,t,n){const r=[];if(n){re(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function qC(e,t,n,r){t.type===Nr.MERGE&&t.source.queryId!==null&&(re(va(e.viewCache_),"We should always have a full cache before handling merges"),re(Ky(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=dB(e.processor_,i,t,n,r);return uB(e.processor_,s.viewCache),re(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,gT(e,s.changes,s.viewCache.eventCache.getNode(),null)}function bB(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(yt,(s,o)=>{r.push(Io(s,o))}),n.isFullyInitialized()&&r.push(aT(n.getNode())),gT(e,r,n.getNode(),t)}function gT(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return WU(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;class _B{constructor(){this.views=new Map}}function SB(e){re(!Mf,"__referenceConstructor has already been defined"),Mf=e}function CB(){return re(Mf,"Reference.ts has not been loaded"),Mf}function kB(e){return e.views.size===0}function $0(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return re(s!=null,"SyncTree gave us an op for an invalid query."),qC(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(qC(o,t,n,r));return s}}function EB(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let c=Of(n,i?r:null),u=!1;c?u=!0:r instanceof Pe?(c=M0(n,r),u=!1):(c=Pe.EMPTY_NODE,u=!1);const h=Hh(new ga(c,u,!1),new ga(r,i,!1));return new vB(t,h)}return o}function NB(e,t,n,r,i,s){const o=EB(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),wB(o,n),bB(o,n)}function IB(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const c=Ps(e);if(i==="default")for(const[u,h]of e.views.entries())o=o.concat(WC(h,n,r)),BC(h)&&(e.views.delete(u),h.query._queryParams.loadsAllData()||s.push(h.query));else{const u=e.views.get(i);u&&(o=o.concat(WC(u,n,r)),BC(u)&&(e.views.delete(i),u.query._queryParams.loadsAllData()||s.push(u.query)))}return c&&!Ps(e)&&s.push(new(CB())(t._repo,t._path)),{removed:s,events:o}}function vT(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function yo(e,t){let n=null;for(const r of e.views.values())n=n||xB(r,t);return n}function yT(e,t){if(t._queryParams.loadsAllData())return Vh(e);{const r=t._queryIdentifier;return e.views.get(r)}}function xT(e,t){return yT(e,t)!=null}function Ps(e){return Vh(e)!=null}function Vh(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf;function PB(e){re(!Lf,"__referenceConstructor has already been defined"),Lf=e}function jB(){return re(Lf,"Reference.ts has not been loaded"),Lf}let TB=1;class HC{constructor(t){this.listenProvider_=t,this.syncPointTree_=new et(null),this.pendingWriteTree_=sB(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wT(e,t,n,r,i){return KU(e.pendingWriteTree_,t,n,r,i),i?Xo(e,new ma(A0(),t,n)):[]}function AB(e,t,n,r){GU(e.pendingWriteTree_,t,n,r);const i=et.fromObject(n);return Xo(e,new Po(A0(),t,i))}function _s(e,t,n=!1){const r=YU(e.pendingWriteTree_,t);if(XU(e.pendingWriteTree_,t)){let s=new et(null);return r.snap!=null?s=s.set(qe(),!0):ln(r.children,o=>{s=s.set(new Qe(o),!0)}),Xo(e,new Af(r.path,s,n))}else return[]}function Kh(e,t,n){return Xo(e,new ma(O0(),t,n))}function OB(e,t,n){const r=et.fromObject(n);return Xo(e,new Po(O0(),t,r))}function DB(e,t){return Xo(e,new Oc(O0(),t))}function RB(e,t,n){const r=U0(e,n);if(r){const i=B0(r),s=i.path,o=i.queryId,c=Rn(s,t),u=new Oc(D0(o),c);return W0(e,s,u)}else return[]}function Zy(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let c=[];if(o&&(t._queryIdentifier==="default"||xT(o,t))){const u=IB(o,t,n,r);kB(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const h=u.removed;if(c=u.events,!i){const p=h.findIndex(v=>v._queryParams.loadsAllData())!==-1,m=e.syncPointTree_.findOnPath(s,(v,y)=>Ps(y));if(p&&!m){const v=e.syncPointTree_.subtree(s);if(!v.isEmpty()){const y=FB(v);for(let w=0;w<y.length;++w){const C=y[w],_=C.query,k=ST(e,C);e.listenProvider_.startListening(_c(_),Ff(e,_),k.hashFn,k.onComplete)}}}!m&&h.length>0&&!r&&(p?e.listenProvider_.stopListening(_c(t),null):h.forEach(v=>{const y=e.queryToTagMap.get(Gh(v));e.listenProvider_.stopListening(_c(v),y)}))}$B(e,h)}return c}function MB(e,t,n,r){const i=U0(e,r);if(i!=null){const s=B0(i),o=s.path,c=s.queryId,u=Rn(o,t),h=new ma(D0(c),u,n);return W0(e,o,h)}else return[]}function LB(e,t,n,r){const i=U0(e,r);if(i){const s=B0(i),o=s.path,c=s.queryId,u=Rn(o,t),h=et.fromObject(n),p=new Po(D0(c),u,h);return W0(e,o,p)}else return[]}function VC(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(v,y)=>{const w=Rn(v,i);s=s||yo(y,w),o=o||Ps(y)});let c=e.syncPointTree_.get(i);c?(o=o||Ps(c),s=s||yo(c,qe())):(c=new _B,e.syncPointTree_=e.syncPointTree_.set(i,c));let u;s!=null?u=!0:(u=!1,s=Pe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((y,w)=>{const C=yo(w,qe());C&&(s=s.updateImmediateChild(y,C))}));const h=xT(c,t);if(!h&&!t._queryParams.loadsAllData()){const v=Gh(t);re(!e.queryToTagMap.has(v),"View does not exist, but we have a tag");const y=zB();e.queryToTagMap.set(v,y),e.tagToQueryMap.set(y,v)}const p=R0(e.pendingWriteTree_,i);let m=NB(c,t,n,p,s,u);if(!h&&!o&&!r){const v=yT(c,t);m=m.concat(UB(e,t,v))}return m}function z0(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,c)=>{const u=Rn(o,t),h=yo(c,u);if(h)return h});return dT(i,t,s,n,!0)}function Xo(e,t){return bT(t,e.syncPointTree_,null,R0(e.pendingWriteTree_,qe()))}function bT(e,t,n,r){if(Me(e.path))return _T(e,t,n,r);{const i=t.get(qe());n==null&&i!=null&&(n=yo(i,qe()));let s=[];const o=De(e.path),c=e.operationForChild(o),u=t.children.get(o);if(u&&c){const h=n?n.getImmediateChild(o):null,p=fT(r,o);s=s.concat(bT(c,u,h,p))}return i&&(s=s.concat($0(i,e,r,n))),s}}function _T(e,t,n,r){const i=t.get(qe());n==null&&i!=null&&(n=yo(i,qe()));let s=[];return t.children.inorderTraversal((o,c)=>{const u=n?n.getImmediateChild(o):null,h=fT(r,o),p=e.operationForChild(o);p&&(s=s.concat(_T(p,c,u,h)))}),i&&(s=s.concat($0(i,e,r,n))),s}function ST(e,t){const n=t.query,r=Ff(e,n);return{hashFn:()=>(yB(t)||Pe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?RB(e,n._path,r):DB(e,n._path);{const s=Oz(i,n);return Zy(e,n,null,s)}}}}function Ff(e,t){const n=Gh(t);return e.queryToTagMap.get(n)}function Gh(e){return e._path.toString()+"$"+e._queryIdentifier}function U0(e,t){return e.tagToQueryMap.get(t)}function B0(e){const t=e.indexOf("$");return re(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Qe(e.substr(0,t))}}function W0(e,t,n){const r=e.syncPointTree_.get(t);re(r,"Missing sync point for query tag that we're tracking");const i=R0(e.pendingWriteTree_,t);return $0(r,n,i,null)}function FB(e){return e.fold((t,n,r)=>{if(n&&Ps(n))return[Vh(n)];{let i=[];return n&&(i=vT(n)),ln(r,(s,o)=>{i=i.concat(o)}),i}})}function _c(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(jB())(e._repo,e._path):e}function $B(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Gh(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function zB(){return TB++}function UB(e,t,n){const r=t._path,i=Ff(e,t),s=ST(e,n),o=e.listenProvider_.startListening(_c(t),i,s.hashFn,s.onComplete),c=e.syncPointTree_.subtree(r);if(i)re(!Ps(c.value),"If we're adding a query, it shouldn't be shadowed");else{const u=c.fold((h,p,m)=>{if(!Me(h)&&p&&Ps(p))return[Vh(p).query];{let v=[];return p&&(v=v.concat(vT(p).map(y=>y.query))),ln(m,(y,w)=>{v=v.concat(w)}),v}});for(let h=0;h<u.length;++h){const p=u[h];e.listenProvider_.stopListening(_c(p),Ff(e,p))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new q0(n)}node(){return this.node_}}class H0{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=vt(this.path_,t);return new H0(this.syncTree_,n)}node(){return z0(this.syncTree_,this.path_)}}const BB=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},KC=function(e,t,n){if(!e||typeof e!="object")return e;if(re(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return WB(e[".sv"],t,n);if(typeof e[".sv"]=="object")return qB(e[".sv"],t);re(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},WB=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:re(!1,"Unexpected server value: "+e)}},qB=function(e,t,n){e.hasOwnProperty("increment")||re(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&re(!1,"Unexpected increment value: "+r);const i=t.node();if(re(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},CT=function(e,t,n,r){return V0(t,new H0(n,e),r)},kT=function(e,t,n){return V0(e,new q0(t),n)};function V0(e,t,n){const r=e.getPriority().val(),i=KC(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,c=KC(o.getValue(),t,n);return c!==o.getValue()||i!==o.getPriority().val()?new Vt(c,Yt(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Vt(i))),o.forEachChild(yt,(c,u)=>{const h=V0(u,t.getImmediateChild(c),n);h!==u&&(s=s.updateImmediateChild(c,h))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function G0(e,t){let n=t instanceof Qe?t:new Qe(t),r=e,i=De(n);for(;i!==null;){const s=Eo(r.node.children,i)||{children:{},childCount:0};r=new K0(i,r,s),n=nt(n),i=De(n)}return r}function Qo(e){return e.node.value}function ET(e,t){e.node.value=t,ex(e)}function NT(e){return e.node.childCount>0}function HB(e){return Qo(e)===void 0&&!NT(e)}function Yh(e,t){ln(e.node.children,(n,r)=>{t(new K0(n,e,r))})}function IT(e,t,n,r){n&&t(e),Yh(e,i=>{IT(i,t,!0)})}function VB(e,t,n){let r=e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function ru(e){return new Qe(e.parent===null?e.name:ru(e.parent)+"/"+e.name)}function ex(e){e.parent!==null&&KB(e.parent,e.name,e)}function KB(e,t,n){const r=HB(n),i=si(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,ex(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,ex(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=/[\[\].#$\/\u0000-\u001F\u007F]/,YB=/[\[\].#$\u0000-\u001F\u007F]/,Xg=10*1024*1024,Y0=function(e){return typeof e=="string"&&e.length!==0&&!GB.test(e)},PT=function(e){return typeof e=="string"&&e.length!==0&&!YB.test(e)},XB=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),PT(e)},QB=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!b0(e)||e&&typeof e=="object"&&si(e,".sv")},jT=function(e,t,n,r){r&&t===void 0||Xh($h(e,"value"),t,n)},Xh=function(e,t,n){const r=n instanceof Qe?new hU(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Zs(r));if(typeof t=="function")throw new Error(e+"contains a function "+Zs(r)+" with contents = "+t.toString());if(b0(t))throw new Error(e+"contains "+t.toString()+" "+Zs(r));if(typeof t=="string"&&t.length>Xg/3&&zh(t)>Xg)throw new Error(e+"contains a string greater than "+Xg+" utf8 bytes "+Zs(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(ln(t,(o,c)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Y0(o)))throw new Error(e+" contains an invalid key ("+o+") "+Zs(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pU(r,o),Xh(e,c,r),mU(r)}),i&&s)throw new Error(e+' contains ".value" child '+Zs(r)+" in addition to actual children.")}},JB=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const s=Pc(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Y0(s[o]))throw new Error(e+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(fU);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&lr(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},ZB=function(e,t,n,r){const i=$h(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const s=[];ln(t,(o,c)=>{const u=new Qe(o);if(Xh(i,c,vt(n,u)),E0(u)===".priority"&&!QB(c))throw new Error(i+"contains an invalid value for '"+u.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(u)}),JB(i,s)},TT=function(e,t,n,r){if(!PT(n))throw new Error($h(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},e5=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),TT(e,t,n)},X0=function(e,t){if(De(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},t5=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Y0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!XB(n))throw new Error($h(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!N0(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function AT(e,t,n){Qh(e,n),OT(e,r=>N0(r,t))}function Or(e,t,n){Qh(e,n),OT(e,r=>lr(r,t)||lr(t,r))}function OT(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(r5(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function r5(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();yc&&an("event: "+n.toString()),Yo(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="repo_interrupt",s5=25;class a5{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new n5,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Tf(),this.transactionQueueTree_=new K0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function o5(e,t,n){if(e.stats_=C0(e.repoInfo_),e.forceRestClient_||Lz())e.server_=new jf(e.repoInfo_,(r,i,s,o)=>{GC(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>YC(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Si(e.repoInfo_,t,(r,i,s,o)=>{GC(e,r,i,s,o)},r=>{YC(e,r)},r=>{l5(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Bz(e.repoInfo_,()=>new UU(e.stats_,e.server_)),e.infoData_=new MU,e.infoSyncTree_=new HC({startListening:(r,i,s,o)=>{let c=[];const u=e.infoData_.getNode(r._path);return u.isEmpty()||(c=Kh(e.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),c},stopListening:()=>{}}),Q0(e,"connected",!1),e.serverSyncTree_=new HC({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(c,u)=>{const h=o(c,u);Or(e.eventQueue_,r._path,h)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function DT(e){const n=e.infoData_.getNode(new Qe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Jh(e){return BB({timestamp:DT(e)})}function GC(e,t,n,r,i){e.dataUpdateCount++;const s=new Qe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const u=Sf(n,h=>Yt(h));o=LB(e.serverSyncTree_,s,u,i)}else{const u=Yt(n);o=MB(e.serverSyncTree_,s,u,i)}else if(r){const u=Sf(n,h=>Yt(h));o=OB(e.serverSyncTree_,s,u)}else{const u=Yt(n);o=Kh(e.serverSyncTree_,s,u)}let c=s;o.length>0&&(c=To(e,s)),Or(e.eventQueue_,c,o)}function YC(e,t){Q0(e,"connected",t),t===!1&&d5(e)}function l5(e,t){ln(t,(n,r)=>{Q0(e,n,r)})}function Q0(e,t,n){const r=new Qe("/.info/"+t),i=Yt(n);e.infoData_.updateSnapshot(r,i);const s=Kh(e.infoSyncTree_,r,i);Or(e.eventQueue_,r,s)}function J0(e){return e.nextWriteId_++}function c5(e,t,n,r,i){Zh(e,"set",{path:t.toString(),value:n,priority:r});const s=Jh(e),o=Yt(n,r),c=z0(e.serverSyncTree_,t),u=kT(o,c,s),h=J0(e),p=wT(e.serverSyncTree_,t,u,h,!0);Qh(e.eventQueue_,p),e.server_.put(t.toString(),o.val(!0),(v,y)=>{const w=v==="ok";w||Cn("set at "+t+" failed: "+v);const C=_s(e.serverSyncTree_,h,!w);Or(e.eventQueue_,t,C),tx(e,i,v,y)});const m=ew(e,t);To(e,m),Or(e.eventQueue_,m,[])}function u5(e,t,n,r){Zh(e,"update",{path:t.toString(),value:n});let i=!0;const s=Jh(e),o={};if(ln(n,(c,u)=>{i=!1,o[c]=CT(vt(t,c),Yt(u),e.serverSyncTree_,s)}),i)an("update() called with empty data.  Don't do anything."),tx(e,r,"ok",void 0);else{const c=J0(e),u=AB(e.serverSyncTree_,t,o,c);Qh(e.eventQueue_,u),e.server_.merge(t.toString(),n,(h,p)=>{const m=h==="ok";m||Cn("update at "+t+" failed: "+h);const v=_s(e.serverSyncTree_,c,!m),y=v.length>0?To(e,t):t;Or(e.eventQueue_,y,v),tx(e,r,h,p)}),ln(n,h=>{const p=ew(e,vt(t,h));To(e,p)}),Or(e.eventQueue_,t,[])}}function d5(e){Zh(e,"onDisconnectEvents");const t=Jh(e),n=Tf();Vy(e.onDisconnect_,qe(),(i,s)=>{const o=CT(i,s,e.serverSyncTree_,t);oT(n,i,o)});let r=[];Vy(n,qe(),(i,s)=>{r=r.concat(Kh(e.serverSyncTree_,i,s));const o=ew(e,i);To(e,o)}),e.onDisconnect_=Tf(),Or(e.eventQueue_,qe(),r)}function f5(e,t,n){let r;De(t._path)===".info"?r=VC(e.infoSyncTree_,t,n):r=VC(e.serverSyncTree_,t,n),AT(e.eventQueue_,t._path,r)}function h5(e,t,n){let r;De(t._path)===".info"?r=Zy(e.infoSyncTree_,t,n):r=Zy(e.serverSyncTree_,t,n),AT(e.eventQueue_,t._path,r)}function p5(e){e.persistentConnection_&&e.persistentConnection_.interrupt(i5)}function Zh(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),an(n,...t)}function tx(e,t,n,r){t&&Yo(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function RT(e,t,n){return z0(e.serverSyncTree_,t,n)||Pe.EMPTY_NODE}function Z0(e,t=e.transactionQueueTree_){if(t||ep(e,t),Qo(t)){const n=LT(e,t);re(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&m5(e,ru(t),n)}else NT(t)&&Yh(t,n=>{Z0(e,n)})}function m5(e,t,n){const r=n.map(h=>h.currentWriteId),i=RT(e,t,r);let s=i;const o=i.hash();for(let h=0;h<n.length;h++){const p=n[h];re(p.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),p.status=1,p.retryCount++;const m=Rn(t,p.path);s=s.updateChild(m,p.currentOutputSnapshotRaw)}const c=s.val(!0),u=t;e.server_.put(u.toString(),c,h=>{Zh(e,"transaction put response",{path:u.toString(),status:h});let p=[];if(h==="ok"){const m=[];for(let v=0;v<n.length;v++)n[v].status=2,p=p.concat(_s(e.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&m.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();ep(e,G0(e.transactionQueueTree_,t)),Z0(e,e.transactionQueueTree_),Or(e.eventQueue_,t,p);for(let v=0;v<m.length;v++)Yo(m[v])}else{if(h==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{Cn("transaction at "+u.toString()+" failed: "+h);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=h}To(e,t)}},o)}function To(e,t){const n=MT(e,t),r=ru(n),i=LT(e,n);return g5(e,i,r),r}function g5(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<t.length;c++){const u=t[c],h=Rn(n,u.path);let p=!1,m;if(re(h!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===4)p=!0,m=u.abortReason,i=i.concat(_s(e.serverSyncTree_,u.currentWriteId,!0));else if(u.status===0)if(u.retryCount>=s5)p=!0,m="maxretry",i=i.concat(_s(e.serverSyncTree_,u.currentWriteId,!0));else{const v=RT(e,u.path,o);u.currentInputSnapshot=v;const y=t[c].update(v.val());if(y!==void 0){Xh("transaction failed: Data returned ",y,u.path);let w=Yt(y);typeof y=="object"&&y!=null&&si(y,".priority")||(w=w.updatePriority(v.getPriority()));const _=u.currentWriteId,k=Jh(e),I=kT(w,v,k);u.currentOutputSnapshotRaw=w,u.currentOutputSnapshotResolved=I,u.currentWriteId=J0(e),o.splice(o.indexOf(_),1),i=i.concat(wT(e.serverSyncTree_,u.path,I,u.currentWriteId,u.applyLocally)),i=i.concat(_s(e.serverSyncTree_,_,!0))}else p=!0,m="nodata",i=i.concat(_s(e.serverSyncTree_,u.currentWriteId,!0))}Or(e.eventQueue_,n,i),i=[],p&&(t[c].status=2,(function(v){setTimeout(v,Math.floor(0))})(t[c].unwatcher),t[c].onComplete&&(m==="nodata"?r.push(()=>t[c].onComplete(null,!1,t[c].currentInputSnapshot)):r.push(()=>t[c].onComplete(new Error(m),!1,null))))}ep(e,e.transactionQueueTree_);for(let c=0;c<r.length;c++)Yo(r[c]);Z0(e,e.transactionQueueTree_)}function MT(e,t){let n,r=e.transactionQueueTree_;for(n=De(t);n!==null&&Qo(r)===void 0;)r=G0(r,n),t=nt(t),n=De(t);return r}function LT(e,t){const n=[];return FT(e,t,n),n.sort((r,i)=>r.order-i.order),n}function FT(e,t,n){const r=Qo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Yh(t,i=>{FT(e,i,n)})}function ep(e,t){const n=Qo(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ET(t,n.length>0?n:void 0)}Yh(t,r=>{ep(e,r)})}function ew(e,t){const n=ru(MT(e,t)),r=G0(e.transactionQueueTree_,t);return VB(r,i=>{Qg(e,i)}),Qg(e,r),IT(r,i=>{Qg(e,i)}),n}function Qg(e,t){const n=Qo(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(re(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(re(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(_s(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ET(t,void 0):n.length=s+1,Or(e.eventQueue_,ru(t),i);for(let o=0;o<r.length;o++)Yo(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function y5(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Cn(`Invalid query segment '${n}' in query '${e}'`)}return t}const XC=function(e,t){const n=x5(e),r=n.namespace;n.domain==="firebase.com"&&Pi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Iz();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qj(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Qe(n.pathString)}},x5=function(e){let t="",n="",r="",i="",s="",o=!0,c="https",u=443;if(typeof e=="string"){let h=e.indexOf("//");h>=0&&(c=e.substring(0,h-1),e=e.substring(h+2));let p=e.indexOf("/");p===-1&&(p=e.length);let m=e.indexOf("?");m===-1&&(m=e.length),t=e.substring(0,Math.min(p,m)),p<m&&(i=v5(e.substring(p,m)));const v=y5(e.substring(Math.min(e.length,m)));h=t.indexOf(":"),h>=0?(o=c==="https"||c==="wss",u=parseInt(t.substring(h+1),10)):h=t.length;const y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{const w=t.indexOf(".");r=t.substring(0,w).toLowerCase(),n=t.substring(w+1),s=r}"ns"in v&&(s=v.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:c,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",w5=(function(){let e=0;const t=[];return function(n){const r=n===e;e=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=QC.charAt(n%64),n=Math.floor(n/64);re(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=QC.charAt(t[i]);return re(o.length===20,"nextPushId: Length should be 20."),o}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())}}class _5{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return re(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Me(this._path)?null:E0(this._path)}get ref(){return new Ts(this._repo,this._path)}get _queryIdentifier(){const t=RC(this._queryParams),n=_0(t);return n==="{}"?"default":n}get _queryObject(){return RC(this._queryParams)}isEqual(t){if(t=Jt(t),!(t instanceof tw))return!1;const n=this._repo===t._repo,r=N0(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+dU(this._path)}}class Ts extends tw{constructor(t,n){super(t,n,new T0,!1)}get parent(){const t=Zj(this._path);return t===null?null:new Ts(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class $f{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new Qe(t),r=Dc(this.ref,t);return new $f(this._node.getChild(n),r,yt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new $f(i,Dc(this.ref,r),yt)))}hasChild(t){const n=new Qe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function bt(e,t){return e=Jt(e),e._checkNotDeleted("ref"),t!==void 0?Dc(e._root,t):e._root}function Dc(e,t){return e=Jt(e),De(e._path)===null?e5("child","path",t):TT("child","path",t),new Ts(e._repo,vt(e._path,t))}function nc(e,t){e=Jt(e),X0("push",e._path),jT("push",t,e._path,!0);const n=DT(e._repo),r=w5(n),i=Dc(e,r),s=Dc(e,r);let o;return t!=null?o=$T(s,t).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function Bd(e){return X0("remove",e._path),$T(e,null)}function $T(e,t){e=Jt(e),X0("set",e._path),jT("set",t,e._path,!1);const n=new Zc;return c5(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Xs(e,t){ZB("update",t,e._path);const n=new Zc;return u5(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class nw{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new b5("value",this,new $f(t.snapshotNode,new Ts(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new _5(this,t,n):null}matches(t){return t instanceof nw?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function C5(e,t,n,r,i){const s=new S5(n,void 0),o=new nw(s);return f5(e._repo,e,o),()=>h5(e._repo,e,o)}function rc(e,t,n,r){return C5(e,"value",t)}SB(Ts);PB(Ts);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="FIREBASE_DATABASE_EMULATOR_HOST",nx={};let E5=!1;function N5(e,t,n,r){const i=t.lastIndexOf(":"),s=t.substring(0,i),o=Vo(s);e.repoInfo_=new qj(t,o,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function I5(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||Pi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),an("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=XC(s,i),c=o.repoInfo,u;typeof process<"u"&&vC&&(u=vC[k5]),u?(s=`http://${u}?ns=${c.namespace}`,o=XC(s,i),c=o.repoInfo):o.repoInfo.secure;const h=new $z(e.name,e.options,t);t5("Invalid Firebase Database URL",o),Me(o.path)||Pi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=j5(c,e,h,new Fz(e,n));return new T5(p,e)}function P5(e,t){const n=nx[t];(!n||n[e.key]!==e)&&Pi(`Database ${t}(${e.repoInfo_}) has already been deleted.`),p5(e),delete n[e.key]}function j5(e,t,n,r){let i=nx[t.name];i||(i={},nx[t.name]=i);let s=i[e.toURLString()];return s&&Pi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new a5(e,E5,n,r),i[e.toURLString()]=s,s}class T5{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(o5(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ts(this._repo,qe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(P5(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Pi("Cannot call "+t+" on a deleted database.")}}function A5(e=p0(),t){const n=Ea(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=CF("database");r&&O5(n,...r)}return n}function O5(e,t,n,r={}){e=Jt(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Ns(r,s.repoInfo_.emulatorOptions))return;Pi("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Pi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ff(ff.OWNER);else if(r.mockUserToken){const c=typeof r.mockUserToken=="string"?r.mockUserToken:kF(r.mockUserToken,e.app.options.projectId);o=new ff(c)}Vo(t)&&(XP(t),QP("Database",!0)),N5(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(e){_z(Go),Jr(new Ar("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return I5(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ur(yC,xC,e),ur(yC,xC,"esm2020")}Si.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Si.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};D5();function zT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const R5=zT,UT=new ka("auth","Firebase",zT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Uh("@firebase/auth");function M5(e,...t){zf.logLevel<=Xe.WARN&&zf.warn(`Auth (${Go}): ${e}`,...t)}function hf(e,...t){zf.logLevel<=Xe.ERROR&&zf.error(`Auth (${Go}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(e,...t){throw rw(e,...t)}function Yr(e,...t){return rw(e,...t)}function BT(e,t,n){const r={...R5(),[t]:n};return new ka("auth","Firebase",r).create(t,{appName:e.name})}function Ci(e){return BT(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return UT.create(e,...t)}function Ne(e,t,...n){if(!e)throw rw(t,...n)}function yi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw hf(t),new Error(t)}function ji(e,t){e||yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function L5(){return JC()==="http:"||JC()==="https:"}function JC(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(L5()||JP()||"connection"in navigator)?navigator.onLine:!0}function $5(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ji(n>t,"Short delay should be less than long delay!"),this.isMobile=f0()||ZP()}get(){return F5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e,t){ji(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],B5=new iu(3e4,6e4);function As(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Os(e,t,n,r,i={}){return qT(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const c=Ko({key:e.config.apiKey,...o}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...s};return IF()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&Vo(e.emulatorConfig.host)&&(h.credentials="include"),WT.fetch()(await HT(e,e.config.apiHost,n,c),h)})}async function qT(e,t,n){e._canInitEmulator=!1;const r={...z5,...t};try{const i=new q5(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wd(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const c=s.ok?o.errorMessage:o.error.message,[u,h]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(e,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Wd(e,"email-already-in-use",o);if(u==="USER_DISABLED")throw Wd(e,"user-disabled",o);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw BT(e,p,h);Dr(e,p)}}catch(i){if(i instanceof ii)throw i;Dr(e,"network-request-failed",{message:String(i)})}}async function su(e,t,n,r,i={}){const s=await Os(e,t,n,r,i);return"mfaPendingCredential"in s&&Dr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function HT(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?iw(e.config,i):`${e.config.apiScheme}://${i}`;return U5.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function W5(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),B5.get())})}}function Wd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(e,t,r);return i.customData._tokenResponse=n,i}function ZC(e){return e!==void 0&&e.enterprise!==void 0}class H5{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return W5(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V5(e,t){return Os(e,"GET","/v2/recaptchaConfig",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K5(e,t){return Os(e,"POST","/v1/accounts:delete",t)}async function Uf(e,t){return Os(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function G5(e,t=!1){const n=Jt(e),r=await n.getIdToken(t),i=sw(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Sc(Jg(i.auth_time)),issuedAtTime:Sc(Jg(i.iat)),expirationTime:Sc(Jg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jg(e){return Number(e)*1e3}function sw(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=_f(n);return i?JSON.parse(i):(hf("Failed to decode base64 JWT payload"),null)}catch(i){return hf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ek(e){const t=sw(e);return Ne(t,"internal-error"),Ne(typeof t.exp<"u","internal-error"),Ne(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ii&&Y5(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function Y5({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bf(e){var m;const t=e.auth,n=await e.getIdToken(),r=await Rc(e,Uf(t,{idToken:n}));Ne(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?VT(i.providerUserInfo):[],o=J5(e.providerData,s),c=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(o!=null&&o.length),h=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ix(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}async function Q5(e){const t=Jt(e);await Bf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function J5(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function VT(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(e,t){const n=await qT(e,{},async()=>{const r=Ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=await HT(e,i,"/v1/token",`key=${s}`),c=await e._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:c,body:r};return e.emulatorConfig&&Vo(e.emulatorConfig.host)&&(u.credentials="include"),WT.fetch()(o,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e8(e,t){return Os(e,"POST","/v2/accounts:revokeToken",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ne(t.idToken,"internal-error"),Ne(typeof t.idToken<"u","internal-error"),Ne(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ek(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Ne(t.length!==0,"internal-error");const n=ek(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Z5(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new xo;return r&&(Ne(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xo,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(e,t){Ne(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ir{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new X5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ix(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Rc(this,this.stsTokenManager.getToken(this.auth,t));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return G5(this,t)}reload(){return Q5(this)}_assign(t){this!==t&&(Ne(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ir({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Bf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Ci(this.auth));const t=await this.getIdToken();return await Rc(this,K5(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:y,providerData:w,stsTokenManager:C}=n;Ne(m&&C,t,"internal-error");const _=xo.fromJSON(this.name,C);Ne(typeof m=="string",t,"internal-error"),hs(r,t.name),hs(i,t.name),Ne(typeof v=="boolean",t,"internal-error"),Ne(typeof y=="boolean",t,"internal-error"),hs(s,t.name),hs(o,t.name),hs(c,t.name),hs(u,t.name),hs(h,t.name),hs(p,t.name);const k=new Ir({uid:m,auth:t,email:i,emailVerified:v,displayName:r,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:c,stsTokenManager:_,createdAt:h,lastLoginAt:p});return w&&Array.isArray(w)&&(k.providerData=w.map(I=>({...I}))),u&&(k._redirectEventId=u),k}static async _fromIdTokenResponse(t,n,r=!1){const i=new xo;i.updateFromServerResponse(n);const s=new Ir({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Bf(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?VT(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new xo;c.updateFromIdToken(r);const u=new Ir({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ix(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Map;function xi(e){ji(e instanceof Function,"Expected a class definition");let t=tk.get(e);return t?(ji(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tk.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}KT.type="NONE";const nk=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(e,t,n){return`firebase:${e}:${t}:${n}`}class wo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pf(this.userKey,i.apiKey,s),this.fullPersistenceKey=pf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Uf(this.auth,{idToken:t}).catch(()=>{});return n?Ir._fromGetAccountInfoResponse(this.auth,n,t):null}return Ir._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new wo(xi(nk),t,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||xi(nk);const o=pf(r,t.config.apiKey,t.name);let c=null;for(const h of n)try{const p=await h._get(o);if(p){let m;if(typeof p=="string"){const v=await Uf(t,{idToken:p}).catch(()=>{});if(!v)break;m=await Ir._fromGetAccountInfoResponse(t,v,p)}else m=Ir._fromJSON(t,p);h!==s&&(c=m),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new wo(s,t,r):(s=u[0],c&&await s._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new wo(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(QT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ZT(t))return"Blackberry";if(eA(t))return"Webos";if(YT(t))return"Safari";if((t.includes("chrome/")||XT(t))&&!t.includes("edge/"))return"Chrome";if(JT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GT(e=kn()){return/firefox\//i.test(e)}function YT(e=kn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XT(e=kn()){return/crios\//i.test(e)}function QT(e=kn()){return/iemobile/i.test(e)}function JT(e=kn()){return/android/i.test(e)}function ZT(e=kn()){return/blackberry/i.test(e)}function eA(e=kn()){return/webos/i.test(e)}function aw(e=kn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function t8(e=kn()){var t;return aw(e)&&!!((t=window.navigator)!=null&&t.standalone)}function n8(){return PF()&&document.documentMode===10}function tA(e=kn()){return aw(e)||JT(e)||eA(e)||ZT(e)||/windows phone/i.test(e)||QT(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(e,t=[]){let n;switch(e){case"Browser":n=rk(kn());break;case"Worker":n=`${rk(kn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,c)=>{try{const u=t(s);o(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i8(e,t={}){return Os(e,"GET","/v2/passwordPolicy",As(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=6;class a8{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??s8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ik(this),this.idTokenSubscription=new ik(this),this.beforeStateQueue=new r8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await wo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Uf(this,{idToken:t}),r=await Ir._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===c)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Bf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=$5()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(or(this.app))return Promise.reject(Ci(this));const n=t?Jt(t):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ne(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return or(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await i8(this),n=new a8(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ka("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await e8(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xi(t)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=t.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=nA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&M5(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Pa(e){return Jt(e)}class ik{constructor(t){this.auth=t,this.observer=null,this.addObserver=FF(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l8(e){tp=e}function rA(e){return tp.loadJS(e)}function c8(){return tp.recaptchaEnterpriseScript}function u8(){return tp.gapiScript}function d8(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class f8{constructor(){this.enterprise=new h8}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class h8{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const p8="recaptcha-enterprise",iA="NO_RECAPTCHA";class m8{constructor(t){this.type=p8,this.auth=Pa(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,c)=>{V5(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new H5(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{c(u)})})}function i(s,o,c){const u=window.grecaptcha;ZC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(h=>{o(h)}).catch(()=>{o(iA)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f8().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(c=>{if(!n&&ZC(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=c8();u.length!==0&&(u+=c),rA(u).then(()=>{i(c,s,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function sk(e,t,n,r=!1,i=!1){const s=new m8(e);let o;if(i)o=iA;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const c={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function sx(e,t,n,r,i){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await sk(e,t,n,n==="getOobCode");return r(e,o)}else return r(e,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await sk(e,t,n,n==="getOobCode");return r(e,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(e,t){const n=Ea(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ns(s,t??{}))return i;Dr(i,"already-initialized")}return n.initialize({options:t})}function v8(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function y8(e,t,n){const r=Pa(e);Ne(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=sA(t),{host:o,port:c}=x8(t),u=c===null?"":`:${c}`,h={url:`${s}//${o}${u}/`},p=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Ns(h,r.config.emulator)&&Ns(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Vo(o)?(XP(`${s}//${o}${u}`),QP("Auth",!0)):w8()}function sA(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function x8(e){const t=sA(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ak(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ak(o)}}}function ak(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function w8(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(t){return yi("not implemented")}_linkToIdToken(t,n){return yi("not implemented")}_getReauthenticationResolver(t){return yi("not implemented")}}async function b8(e,t){return Os(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _8(e,t){return su(e,"POST","/v1/accounts:signInWithPassword",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(e,t){return su(e,"POST","/v1/accounts:signInWithEmailLink",As(e,t))}async function C8(e,t){return su(e,"POST","/v1/accounts:signInWithEmailLink",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends ow{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Mc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Mc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(t,n,"signInWithPassword",_8);case"emailLink":return S8(t,{email:this._email,oobCode:this._password});default:Dr(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sx(t,r,"signUpPassword",b8);case"emailLink":return C8(t,{idToken:n,email:this._email,oobCode:this._password});default:Dr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(e,t){return su(e,"POST","/v1/accounts:signInWithIdp",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="http://localhost";class ya extends ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ya(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new ya(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return bo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,bo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,bo(t,n)}buildRequest(){const t={requestUri:k8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ko(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N8(e){const t=hc(pc(e)).link,n=t?hc(pc(t)).deep_link_id:null,r=hc(pc(e)).deep_link_id;return(r?hc(pc(r)).link:null)||r||n||t||e}class lw{constructor(t){const n=hc(pc(t)),r=n.apiKey??null,i=n.oobCode??null,s=E8(n.mode??null);Ne(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=N8(t);try{return new lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(t,n){return Mc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=lw.parseLink(n);return Ne(r,"argument-error"),Mc._fromEmailAndCode(t,r.code,r.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends aA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends au{constructor(){super("facebook.com")}static credential(t){return ya._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return vs.credentialFromTaggedObject(t)}static credentialFromError(t){return vs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return vs.credential(t.oauthAccessToken)}catch{return null}}}vs.FACEBOOK_SIGN_IN_METHOD="facebook.com";vs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ya._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ys.credentialFromTaggedObject(t)}static credentialFromError(t){return ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends au{constructor(){super("github.com")}static credential(t){return ya._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xs.credentialFromTaggedObject(t)}static credentialFromError(t){return xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xs.credential(t.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends au{constructor(){super("twitter.com")}static credential(t,n){return ya._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(e,t){return su(e,"POST","/v1/accounts:signUp",As(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ir._fromIdTokenResponse(t,r,i),o=ok(r);return new xa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=ok(r);return new xa({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function ok(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends ii{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Wf(t,n,r,i)}}function oA(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(e,s,t,r):s})}async function P8(e,t,n=!1){const r=await Rc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return xa._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(e,t,n=!1){const{auth:r}=e;if(or(r.app))return Promise.reject(Ci(r));const i="reauthenticate";try{const s=await Rc(e,oA(r,i,t,e),n);Ne(s.idToken,r,"internal-error");const o=sw(s.idToken);Ne(o,r,"internal-error");const{sub:c}=o;return Ne(e.uid===c,r,"user-mismatch"),xa._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Dr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(e,t,n=!1){if(or(e.app))return Promise.reject(Ci(e));const r="signIn",i=await oA(e,r,t),s=await xa._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function T8(e,t){return lA(Pa(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cA(e){const t=Pa(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function A8(e,t,n){if(or(e.app))return Promise.reject(Ci(e));const r=Pa(e),o=await sx(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I8).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&cA(e),u}),c=await xa._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function O8(e,t,n){return or(e.app)?Promise.reject(Ci(e)):T8(Jt(e),Jo.credential(t,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cA(e),r})}function D8(e,t,n,r){return Jt(e).onIdTokenChanged(t,n,r)}function R8(e,t,n){return Jt(e).beforeAuthStateChanged(t,n)}function M8(e,t,n,r){return Jt(e).onAuthStateChanged(t,n,r)}function L8(e){return Jt(e).signOut()}const qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(qf,"1"),this.storage.removeItem(qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=1e3,$8=10;class dA extends uA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,c,u)=>{this.notifyListeners(o,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);n8()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,$8):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},F8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}dA.type="LOCAL";const z8=dA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends uA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}fA.type="SESSION";const hA=fA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new np(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,s)),u=await U8(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,u)=>{const h=cw("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return window}function W8(e){Xr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return typeof Xr().WorkerGlobalScope<"u"&&typeof Xr().importScripts=="function"}async function q8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H8(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function V8(){return pA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="firebaseLocalStorageDb",K8=1,Hf="firebaseLocalStorage",gA="fbase_key";class ou{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(e,t){return e.transaction([Hf],t?"readwrite":"readonly").objectStore(Hf)}function G8(){const e=indexedDB.deleteDatabase(mA);return new ou(e).toPromise()}function ax(){const e=indexedDB.open(mA,K8);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Hf,{keyPath:gA})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Hf)?t(r):(r.close(),await G8(),t(await ax()))})})}async function lk(e,t,n){const r=rp(e,!0).put({[gA]:t,value:n});return new ou(r).toPromise()}async function Y8(e,t){const n=rp(e,!1).get(t),r=await new ou(n).toPromise();return r===void 0?null:r.value}function ck(e,t){const n=rp(e,!0).delete(t);return new ou(n).toPromise()}const X8=800,Q8=3;class vA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ax(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Q8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(V8()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await q8(),!this.activeServiceWorker)return;this.sender=new B8(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||H8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ax();return await lk(t,qf,"1"),await ck(t,qf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>lk(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Y8(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ck(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=rp(i,!1).getAll();return new ou(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vA.type="LOCAL";const J8=vA;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(e,t){return t?xi(t):(Ne(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw extends ow{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return bo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return bo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function eW(e){return lA(e.auth,new uw(e),e.bypassAuthState)}function tW(e){const{auth:t,user:n}=e;return Ne(n,t,"internal-error"),j8(n,new uw(e),e.bypassAuthState)}async function nW(e){const{auth:t,user:n}=e;return Ne(n,t,"internal-error"),P8(n,new uw(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eW;case"linkViaPopup":case"linkViaRedirect":return nW;case"reauthViaPopup":case"reauthViaRedirect":return tW;default:Dr(this.auth,"internal-error")}}resolve(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=new iu(2e3,1e4);class fo extends yA{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ne(t,this.auth,"internal-error"),t}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const t=cw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,rW.get())};t()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="pendingRedirect",mf=new Map;class sW extends yA{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=mf.get(this.auth._key());if(!t){try{const r=await aW(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}mf.set(this.auth._key(),t)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aW(e,t){const n=cW(t),r=lW(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function oW(e,t){mf.set(e._key(),t)}function lW(e){return xi(e._redirectPersistence)}function cW(e){return pf(iW,e.config.apiKey,e.name)}async function uW(e,t,n=!1){if(or(e.app))return Promise.reject(Ci(e));const r=Pa(e),i=Z8(r,t),o=await new sW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=600*1e3;class fW{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hW(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xA(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dW&&this.cachedEventUids.clear(),this.cachedEventUids.has(uk(t))}saveEventToCache(t){this.cachedEventUids.add(uk(t)),this.lastProcessedEventTime=Date.now()}}function uk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xA({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function hW(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pW(e,t={}){return Os(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gW=/^https?/;async function vW(e){if(e.config.emulator)return;const{authorizedDomains:t}=await pW(e);for(const n of t)try{if(yW(n))return}catch{}Dr(e,"unauthorized-domain")}function yW(e){const t=rx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!gW.test(n))return!1;if(mW.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=new iu(3e4,6e4);function dk(){const e=Xr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function wW(e){return new Promise((t,n)=>{var i,s,o;function r(){dk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dk(),n(Yr(e,"network-request-failed"))},timeout:xW.get()})}if((s=(i=Xr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((o=Xr().gapi)!=null&&o.load)r();else{const c=d8("iframefcb");return Xr()[c]=()=>{gapi.load?r():n(Yr(e,"network-request-failed"))},rA(`${u8()}?onload=${c}`).catch(u=>n(u))}}).catch(t=>{throw gf=null,t})}let gf=null;function bW(e){return gf=gf||wW(e),gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=new iu(5e3,15e3),SW="__/auth/iframe",CW="emulator/auth/iframe",kW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NW(e){const t=e.config;Ne(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?iw(t,CW):`https://${e.config.authDomain}/${SW}`,r={apiKey:t.apiKey,appName:e.name,v:Go},i=EW.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ko(r).slice(1)}`}async function IW(e){const t=await bW(e),n=Xr().gapi;return Ne(n,e,"internal-error"),t.open({where:document.body,url:NW(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yr(e,"network-request-failed"),c=Xr().setTimeout(()=>{s(o)},_W.get());function u(){Xr().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jW=500,TW=600,AW="_blank",OW="http://localhost";class fk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DW(e,t,n,r=jW,i=TW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u={...PW,width:r.toString(),height:i.toString(),top:s,left:o},h=kn().toLowerCase();n&&(c=XT(h)?AW:n),GT(h)&&(t=t||OW,u.scrollbars="yes");const p=Object.entries(u).reduce((v,[y,w])=>`${v}${y}=${w},`,"");if(t8(h)&&c!=="_self")return RW(t||"",c),new fk(null);const m=window.open(t||"",c,p);Ne(m,e,"popup-blocked");try{m.focus()}catch{}return new fk(m)}function RW(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MW="__/auth/handler",LW="emulator/auth/handler",FW=encodeURIComponent("fac");async function hk(e,t,n,r,i,s){Ne(e.config.authDomain,e,"auth-domain-config-required"),Ne(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Go,eventId:i};if(t instanceof aA){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",My(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,m]of Object.entries({}))o[p]=m}if(t instanceof au){const p=t.getScopes().filter(m=>m!=="");p.length>0&&(o.scopes=p.join(","))}e.tenantId&&(o.tid=e.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await e._getAppCheckToken(),h=u?`#${FW}=${encodeURIComponent(u)}`:"";return`${$W(e)}?${Ko(c).slice(1)}${h}`}function $W({config:e}){return e.emulator?iw(e,LW):`https://${e.authDomain}/${MW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="webStorageSupport";class zW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hA,this._completeRedirectFn=uW,this._overrideRedirectResult=oW}async _openPopup(t,n,r,i){var o;ji((o=this.eventManagers[t._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await hk(t,n,r,rx(),i);return DW(t,s,cw())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await hk(t,n,r,rx(),i);return W8(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ji(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await IW(t),r=new fW(t);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Zg,{type:Zg},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Zg];s!==void 0&&n(!!s),Dr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vW(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return tA()||YT()||aw()}}const UW=zW;var pk="@firebase/auth",mk="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qW(e){Jr(new Ar("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nA(e)},h=new o8(r,i,s,u);return v8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Jr(new Ar("auth-internal",t=>{const n=Pa(t.getProvider("auth").getImmediate());return(r=>new BW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(pk,mk,WW(e)),ur(pk,mk,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=300,VW=YP("authIdTokenMaxAge")||HW;let gk=null;const KW=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>VW)return;const i=n==null?void 0:n.token;gk!==i&&(gk=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GW(e=p0()){const t=Ea(e,"auth");if(t.isInitialized())return t.getImmediate();const n=g8(e,{popupRedirectResolver:UW,persistence:[J8,z8,hA]}),r=YP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KW(s.toString());R8(n,o,()=>o(n.currentUser)),D8(n,c=>o(c))}}const i=KP("auth");return i&&y8(n,`http://${i}`),n}function YW(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}l8({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=Yr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",YW().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qW("Browser");const XW={apiKey:"AIzaSyCYSlsCpya0lq1XTCZbg3uKRWezjgJGrDw",authDomain:"driveway-33dd7.firebaseapp.com",databaseURL:"https://driveway-33dd7-default-rtdb.firebaseio.com",projectId:"driveway-33dd7",storageBucket:"driveway-33dd7.firebasestorage.app",messagingSenderId:"774495628670",appId:"1:774495628670:web:9f060969e992697957172f",measurementId:"G-N3PXP5VM39"},dw=aj(XW);vz(dw);const _t=A5(dw),qd=GW(dw);function wA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function it(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wA(e))&&(r&&(r+=" "),r+=t);return r}const QW=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},JW=(e,t)=>({classGroupId:e,validator:t}),bA=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Vf="-",vk=[],ZW="arbitrary..",eq=e=>{const t=nq(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return tq(o);const c=o.split(Vf),u=c[0]===""&&c.length>1?1:0;return _A(c,u,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const u=r[o],h=n[o];return u?h?QW(h,u):u:h||vk}return n[o]||vk}}},_A=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const i=e[t],s=n.nextPart.get(i);if(s){const h=_A(e,t+1,s);if(h)return h}const o=n.validators;if(o===null)return;const c=t===0?e.join(Vf):e.slice(t).join(Vf),u=o.length;for(let h=0;h<u;h++){const p=o[h];if(p.validator(c))return p.classGroupId}},tq=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?ZW+r:void 0})(),nq=e=>{const{theme:t,classGroups:n}=e;return rq(n,t)},rq=(e,t)=>{const n=bA();for(const r in e){const i=e[r];fw(i,n,r,t)}return n},fw=(e,t,n,r)=>{const i=e.length;for(let s=0;s<i;s++){const o=e[s];iq(o,t,n,r)}},iq=(e,t,n,r)=>{if(typeof e=="string"){sq(e,t,n);return}if(typeof e=="function"){aq(e,t,n,r);return}oq(e,t,n,r)},sq=(e,t,n)=>{const r=e===""?t:SA(t,e);r.classGroupId=n},aq=(e,t,n,r)=>{if(lq(e)){fw(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(JW(n,e))},oq=(e,t,n,r)=>{const i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[c,u]=i[o];fw(u,SA(t,c),n,r)}},SA=(e,t)=>{let n=e;const r=t.split(Vf),i=r.length;for(let s=0;s<i;s++){const o=r[s];let c=n.nextPart.get(o);c||(c=bA(),n.nextPart.set(o,c)),n=c}return n},lq=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,cq=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(s,o)=>{n[s]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(s){let o=n[s];if(o!==void 0)return o;if((o=r[s])!==void 0)return i(s,o),o},set(s,o){s in n?n[s]=o:i(s,o)}}},ox="!",yk=":",uq=[],xk=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),dq=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,c=0,u=0,h;const p=i.length;for(let C=0;C<p;C++){const _=i[C];if(o===0&&c===0){if(_===yk){s.push(i.slice(u,C)),u=C+1;continue}if(_==="/"){h=C;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const m=s.length===0?i:i.slice(u);let v=m,y=!1;m.endsWith(ox)?(v=m.slice(0,-1),y=!0):m.startsWith(ox)&&(v=m.slice(1),y=!0);const w=h&&h>u?h-u:void 0;return xk(s,y,v,w)};if(t){const i=t+yk,s=r;r=o=>o.startsWith(i)?s(o.slice(i.length)):xk(uq,!1,o,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},fq=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const o=n[s],c=o[0]==="[",u=t.has(o);c||u?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(o)):i.push(o)}return i.length>0&&(i.sort(),r.push(...i)),r}},hq=e=>({cache:cq(e.cacheSize),parseClassName:dq(e),sortModifiers:fq(e),...eq(e)}),pq=/\s+/,mq=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],c=e.trim().split(pq);let u="";for(let h=c.length-1;h>=0;h-=1){const p=c[h],{isExternal:m,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:C}=n(p);if(m){u=p+(u.length>0?" "+u:u);continue}let _=!!C,k=r(_?w.substring(0,C):w);if(!k){if(!_){u=p+(u.length>0?" "+u:u);continue}if(k=r(w),!k){u=p+(u.length>0?" "+u:u);continue}_=!1}const I=v.length===0?"":v.length===1?v[0]:s(v).join(":"),E=y?I+ox:I,j=E+k;if(o.indexOf(j)>-1)continue;o.push(j);const P=i(k,_);for(let A=0;A<P.length;++A){const z=P[A];o.push(E+z)}u=p+(u.length>0?" "+u:u)}return u},gq=(...e)=>{let t=0,n,r,i="";for(;t<e.length;)(n=e[t++])&&(r=CA(n))&&(i&&(i+=" "),i+=r);return i},CA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=CA(e[r]))&&(n&&(n+=" "),n+=t);return n},vq=(e,...t)=>{let n,r,i,s;const o=u=>{const h=t.reduce((p,m)=>m(p),e());return n=hq(h),r=n.cache.get,i=n.cache.set,s=c,c(u)},c=u=>{const h=r(u);if(h)return h;const p=mq(u,n);return i(u,p),p};return s=o,(...u)=>s(gq(...u))},yq=[],At=e=>{const t=n=>n[e]||yq;return t.isThemeGetter=!0,t},kA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,EA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xq=/^\d+\/\d+$/,wq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_q=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Sq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Cq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ao=e=>xq.test(e),Ae=e=>!!e&&!Number.isNaN(Number(e)),ps=e=>!!e&&Number.isInteger(Number(e)),ev=e=>e.endsWith("%")&&Ae(e.slice(0,-1)),pi=e=>wq.test(e),kq=()=>!0,Eq=e=>bq.test(e)&&!_q.test(e),NA=()=>!1,Nq=e=>Sq.test(e),Iq=e=>Cq.test(e),Pq=e=>!me(e)&&!ge(e),jq=e=>Zo(e,jA,NA),me=e=>kA.test(e),Qs=e=>Zo(e,TA,Eq),tv=e=>Zo(e,Rq,Ae),wk=e=>Zo(e,IA,NA),Tq=e=>Zo(e,PA,Iq),Hd=e=>Zo(e,AA,Nq),ge=e=>EA.test(e),ic=e=>el(e,TA),Aq=e=>el(e,Mq),bk=e=>el(e,IA),Oq=e=>el(e,jA),Dq=e=>el(e,PA),Vd=e=>el(e,AA,!0),Zo=(e,t,n)=>{const r=kA.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},el=(e,t,n=!1)=>{const r=EA.exec(e);return r?r[1]?t(r[1]):n:!1},IA=e=>e==="position"||e==="percentage",PA=e=>e==="image"||e==="url",jA=e=>e==="length"||e==="size"||e==="bg-size",TA=e=>e==="length",Rq=e=>e==="number",Mq=e=>e==="family-name",AA=e=>e==="shadow",Lq=()=>{const e=At("color"),t=At("font"),n=At("text"),r=At("font-weight"),i=At("tracking"),s=At("leading"),o=At("breakpoint"),c=At("container"),u=At("spacing"),h=At("radius"),p=At("shadow"),m=At("inset-shadow"),v=At("text-shadow"),y=At("drop-shadow"),w=At("blur"),C=At("perspective"),_=At("aspect"),k=At("ease"),I=At("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),ge,me],A=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],W=()=>[ge,me,u],Y=()=>[ao,"full","auto",...W()],oe=()=>[ps,"none","subgrid",ge,me],M=()=>["auto",{span:["full",ps,ge,me]},ps,ge,me],H=()=>[ps,"auto",ge,me],se=()=>["auto","min","max","fr",ge,me],ye=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...W()],le=()=>[ao,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...W()],F=()=>[e,ge,me],te=()=>[...j(),bk,wk,{position:[ge,me]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],O=()=>["auto","cover","contain",Oq,jq,{size:[ge,me]}],V=()=>[ev,ic,Qs],ie=()=>["","none","full",h,ge,me],ae=()=>["",Ae,ic,Qs],_e=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Ae,ev,bk,wk],Le=()=>["","none",w,ge,me],K=()=>["none",Ae,ge,me],Se=()=>["none",Ae,ge,me],Te=()=>[Ae,ge,me],Z=()=>[ao,"full",...W()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pi],breakpoint:[pi],color:[kq],container:[pi],"drop-shadow":[pi],ease:["in","out","in-out"],font:[Pq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pi],shadow:[pi],spacing:["px",Ae],text:[pi],"text-shadow":[pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ao,me,ge,_]}],container:["container"],columns:[{columns:[Ae,me,ge,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[ps,"auto",ge,me]}],basis:[{basis:[ao,"full","auto",c,...W()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ae,ao,"auto","initial","none",me]}],grow:[{grow:["",Ae,ge,me]}],shrink:[{shrink:["",Ae,ge,me]}],order:[{order:[ps,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":oe()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":oe()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":se()}],"auto-rows":[{"auto-rows":se()}],gap:[{gap:W()}],"gap-x":[{"gap-x":W()}],"gap-y":[{"gap-y":W()}],"justify-content":[{justify:[...ye(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...ye()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":ye()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:W()}],px:[{px:W()}],py:[{py:W()}],ps:[{ps:W()}],pe:[{pe:W()}],pt:[{pt:W()}],pr:[{pr:W()}],pb:[{pb:W()}],pl:[{pl:W()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":W()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":W()}],"space-y-reverse":["space-y-reverse"],size:[{size:le()}],w:[{w:[c,"screen",...le()]}],"min-w":[{"min-w":[c,"screen","none",...le()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...le()]}],h:[{h:["screen","lh",...le()]}],"min-h":[{"min-h":["screen","lh","none",...le()]}],"max-h":[{"max-h":["screen","lh",...le()]}],"font-size":[{text:["base",n,ic,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,tv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ev,me]}],"font-family":[{font:[Aq,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ge,me]}],"line-clamp":[{"line-clamp":[Ae,"none",ge,tv]}],leading:[{leading:[s,...W()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:F()}],"text-color":[{text:F()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ae,"from-font","auto",ge,Qs]}],"text-decoration-color":[{decoration:F()}],"underline-offset":[{"underline-offset":[Ae,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:te()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:O()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ps,ge,me],radial:["",ge,me],conic:[ps,ge,me]},Dq,Tq]}],"bg-color":[{bg:F()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:F()}],"gradient-via":[{via:F()}],"gradient-to":[{to:F()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:F()}],"border-color-x":[{"border-x":F()}],"border-color-y":[{"border-y":F()}],"border-color-s":[{"border-s":F()}],"border-color-e":[{"border-e":F()}],"border-color-t":[{"border-t":F()}],"border-color-r":[{"border-r":F()}],"border-color-b":[{"border-b":F()}],"border-color-l":[{"border-l":F()}],"divide-color":[{divide:F()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ae,ge,me]}],"outline-w":[{outline:["",Ae,ic,Qs]}],"outline-color":[{outline:F()}],shadow:[{shadow:["","none",p,Vd,Hd]}],"shadow-color":[{shadow:F()}],"inset-shadow":[{"inset-shadow":["none",m,Vd,Hd]}],"inset-shadow-color":[{"inset-shadow":F()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:F()}],"ring-offset-w":[{"ring-offset":[Ae,Qs]}],"ring-offset-color":[{"ring-offset":F()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":F()}],"text-shadow":[{"text-shadow":["none",v,Vd,Hd]}],"text-shadow-color":[{"text-shadow":F()}],opacity:[{opacity:[Ae,ge,me]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ae]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":F()}],"mask-image-linear-to-color":[{"mask-linear-to":F()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":F()}],"mask-image-t-to-color":[{"mask-t-to":F()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":F()}],"mask-image-r-to-color":[{"mask-r-to":F()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":F()}],"mask-image-b-to-color":[{"mask-b-to":F()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":F()}],"mask-image-l-to-color":[{"mask-l-to":F()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":F()}],"mask-image-x-to-color":[{"mask-x-to":F()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":F()}],"mask-image-y-to-color":[{"mask-y-to":F()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":F()}],"mask-image-radial-to-color":[{"mask-radial-to":F()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[Ae]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":F()}],"mask-image-conic-to-color":[{"mask-conic-to":F()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:te()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:O()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:Le()}],brightness:[{brightness:[Ae,ge,me]}],contrast:[{contrast:[Ae,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",y,Vd,Hd]}],"drop-shadow-color":[{"drop-shadow":F()}],grayscale:[{grayscale:["",Ae,ge,me]}],"hue-rotate":[{"hue-rotate":[Ae,ge,me]}],invert:[{invert:["",Ae,ge,me]}],saturate:[{saturate:[Ae,ge,me]}],sepia:[{sepia:["",Ae,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[Ae,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Ae,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ae,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ae,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Ae,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Ae,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Ae,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ae,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":W()}],"border-spacing-x":[{"border-spacing-x":W()}],"border-spacing-y":[{"border-spacing-y":W()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ae,"initial",ge,me]}],ease:[{ease:["linear","initial",k,ge,me]}],delay:[{delay:[Ae,ge,me]}],animate:[{animate:["none",I,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,ge,me]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:Se()}],"scale-x":[{"scale-x":Se()}],"scale-y":[{"scale-y":Se()}],"scale-z":[{"scale-z":Se()}],"scale-3d":["scale-3d"],skew:[{skew:Te()}],"skew-x":[{"skew-x":Te()}],"skew-y":[{"skew-y":Te()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Z()}],"translate-x":[{"translate-x":Z()}],"translate-y":[{"translate-y":Z()}],"translate-z":[{"translate-z":Z()}],"translate-none":["translate-none"],accent:[{accent:F()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:F()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...F()]}],"stroke-w":[{stroke:[Ae,ic,Qs,tv]}],stroke:[{stroke:["none",...F()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Fq=vq(Lq);function ft(...e){return Fq(it(e))}function lx(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function _k(e="ID"){const t=Math.floor(1e3+Math.random()*9e3),n=Date.now().toString().slice(-4);return`${e}-${n}${t}`}const OA=b.createContext();function $q({children:e}){const[t,n]=b.useState([]),[r,i]=b.useState([]),[s,o]=b.useState([]),[c,u]=b.useState([]),[h,p]=b.useState([]),m=M=>{const H=M.val();return H?Object.entries(H).map(([se,ye])=>({id:se,...ye})):[]};b.useEffect(()=>{const M=bt(_t,"cars"),H=bt(_t,"customers"),se=bt(_t,"dealers"),ye=bt(_t,"transactions"),G=bt(_t,"maintenanceRecords"),de=rc(M,O=>n(m(O))),le=rc(H,O=>i(m(O))),F=rc(se,O=>o(m(O))),te=rc(ye,O=>u(m(O))),B=rc(G,O=>p(m(O)));return()=>{de(),le(),F(),te(),B()}},[]);const v=M=>{nc(bt(_t,"cars"),M)},y=M=>{if(r.some(se=>se.phone===M.phone))throw new Error(`Customer with phone ${M.phone} already exists!`);const H={...M,uniqueId:_k("CUST")};nc(bt(_t,"customers"),H)},w=M=>{if(s.some(se=>se.phone===M.phone))throw new Error(`Dealer with phone ${M.phone} already exists!`);const H={...M,uniqueId:_k("DLR")};nc(bt(_t,"dealers"),H)},C=M=>{nc(bt(_t,"transactions"),M)},_=(M,H)=>{Xs(bt(_t,`cars/${M}`),H)},k=M=>{Bd(bt(_t,`cars/${M}`))},I=(M,H)=>{Xs(bt(_t,`customers/${M}`),H)},E=M=>{Bd(bt(_t,`customers/${M}`))},j=(M,H)=>{Xs(bt(_t,`dealers/${M}`),H)},P=M=>{Bd(bt(_t,`dealers/${M}`))},A=(M,H)=>{Xs(bt(_t,`transactions/${M}`),H)},z=M=>{Bd(bt(_t,`transactions/${M}`))},W=M=>{nc(bt(_t,"maintenanceRecords"),M),Xs(bt(_t,`cars/${M.carId}`),{status:"Maintenance"})},Y=(M,H)=>{Xs(bt(_t,`maintenanceRecords/${M}`),H),H.returnDate&&Xs(bt(_t,`cars/${H.carId}`),{status:"Available"})},oe=t.map(M=>{let H=M.status;const se=new Date;return se.setHours(0,0,0,0),h.some(de=>{if(de.carId!==M.id)return!1;const le=new Date(de.date);if(le.setHours(0,0,0,0),de.returnDate){const F=new Date(de.returnDate);return F.setHours(23,59,59,999),se>=le&&se<=F}return se>=le})&&(H="On Maintenance"),c.some(de=>{if(de.carId!==M.id||de.status==="Cancelled")return!1;const le=new Date(de.startDate),F=new Date(de.endDate);return le.setHours(0,0,0,0),F.setHours(23,59,59,999),se>=le&&se<=F})&&(H="On Rent"),{...M,status:H}});return d.jsx(OA.Provider,{value:{cars:oe,customers:r,transactions:c,dealers:s,addCar:v,updateCar:_,deleteCar:k,addCustomer:y,updateCustomer:I,deleteCustomer:E,addDealer:w,updateDealer:j,deleteDealer:P,addTransaction:C,updateTransaction:A,deleteTransaction:z,maintenanceRecords:h,addMaintenanceRecord:W,updateMaintenanceRecord:Y},children:e})}function Mt(){const e=b.useContext(OA);if(!e)throw new Error("useDriveway must be used within a DrivewayProvider");return e}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Uq=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Sk=e=>{const t=Uq(e);return t.charAt(0).toUpperCase()+t.slice(1)},DA=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Bq=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qq=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...c},u)=>b.createElement("svg",{ref:u,...Wq,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:DA("lucide",i),...!s&&!Bq(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,p])=>b.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(qq,{ref:s,iconNode:t,className:DA(`lucide-${zq(Sk(e))}`,`lucide-${e}`,r),...i}));return n.displayName=Sk(e),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hq=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],Vq=$e("arrow-down-left",Hq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],RA=$e("arrow-left",Kq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yq=$e("arrow-right",Gq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xq=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Qq=$e("arrow-up-right",Xq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MA=$e("calendar",Jq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zq=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],LA=$e("car",Zq);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],FA=$e("chevron-down",eH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$A=$e("chevron-up",tH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zA=$e("circle-alert",nH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ck=$e("clock",rH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],sH=$e("download",iH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],oH=$e("external-link",aH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],cH=$e("file-text",lH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],dH=$e("layout-dashboard",uH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hH=$e("lock",fH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mH=$e("log-out",pH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kf=$e("mail",gH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],UA=$e("map-pin",vH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],xH=$e("menu",yH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bH=$e("moon",wH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lc=$e("phone",_H);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ja=$e("plus",SH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],BA=$e("receipt",CH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],EH=$e("search",kH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],IH=$e("share",NH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],jr=$e("square-pen",PH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],WA=$e("store",jH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],AH=$e("sun",TH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qA=$e("trash-2",OH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cx=$e("trash",DH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],MH=$e("trending-up",RH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],HA=$e("upload",LH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gf=$e("user",FH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yf=$e("users",$H);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],Fc=$e("wrench",zH);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$c=$e("x",UH);function ve({className:e,variant:t="primary",size:n="default",...r}){const i={primary:"bg-primary text-primary-foreground hover:bg-primary/90",secondary:"bg-surface text-text hover:bg-surface/80 dark:bg-surface-dark dark:text-text-dark",outline:"border border-input bg-background hover:bg-surface hover:text-text dark:bg-background-dark dark:hover:bg-surface-dark",ghost:"hover:bg-surface hover:text-text dark:hover:bg-surface-dark",link:"text-primary underline-offset-4 hover:underline"},s={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return d.jsx("button",{className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",i[t],s[n],e),...r})}function X({className:e,type:t,...n}){return d.jsx("input",{type:t,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",e),...n})}const $r=b.forwardRef(({className:e,isOpen:t,onClose:n,children:r,...i},s)=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",onClick:n}),d.jsxs("div",{ref:s,className:ft("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm overflow-y-auto",t?"translate-x-0":"translate-x-full",e),...i,children:[d.jsxs("button",{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",onClick:n,children:[d.jsx($c,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));$r.displayName="Sheet";const zr=({className:e,...t})=>d.jsx("div",{className:ft("flex flex-col space-y-2 text-center sm:text-left",e),...t});zr.displayName="SheetHeader";const Ur=b.forwardRef(({className:e,...t},n)=>d.jsx("h2",{ref:n,className:ft("text-lg font-semibold text-foreground",e),...t}));Ur.displayName="SheetTitle";function BH({isOpen:e,onClose:t}){const{cars:n,customers:r,dealers:i,addTransaction:s,transactions:o}=Mt(),[c,u]=b.useState({carId:"",customerId:"",dealerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),[h,p]=b.useState({total:0,breakdown:[]}),m=n.find(y=>y.id===c.carId);b.useEffect(()=>{m&&!c.dailyRate&&u(y=>({...y,dailyRate:m.price}))},[m]),b.useEffect(()=>{if(c.startDate&&c.endDate&&m){const y=new Date(c.startDate),w=new Date(c.endDate),C=Math.abs(w-y),_=Math.ceil(C/(1e3*60*60*24));let k=0,I=[];const E=c.dailyRate?parseFloat(c.dailyRate):m.price;if(_>0)if(_>=30&&m.monthlyPrice){const j=m.monthlyPrice/30;k=Math.round(j*_),I.push({label:`Monthly Rate Applied (${_} days @ ${Math.round(j)}/day)`,amount:k})}else if(_>=10&&m.tenDayPrice){const j=m.tenDayPrice/10;k=Math.round(j*_),I.push({label:`10-Day Rate Applied (${_} days @ ${Math.round(j)}/day)`,amount:k})}else k=Math.round(E*_),I.push({label:`Standard Daily Rate (${_} days @ ${E}/day)`,amount:k});p({total:k,breakdown:I})}else p({total:0,breakdown:[]})},[c.startDate,c.endDate,m,c.dailyRate]);const v=y=>{if(y.preventDefault(),!m)return;const w=new Date(c.startDate),C=new Date(c.endDate);if(o.some(k=>{if(k.carId!==m.id||k.status==="Cancelled")return!1;const I=new Date(k.startDate),E=new Date(k.endDate);return w>=I&&w<=E||C>=I&&C<=E||w<=I&&C>=E})){alert("This car is already rented for the selected dates!");return}s({carId:m.id,customerId:c.customerId,dealerId:c.dealerId?c.dealerId:null,startDate:c.startDate,endDate:c.endDate,total:h.total,status:"Active",paymentStatus:c.paymentStatus,notes:c.notes,breakdown:h.breakdown,dailyRate:c.dailyRate}),t(),u({carId:"",customerId:"",dealerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""})};return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"New Rental"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:v,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Car"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.carId,onChange:y=>u({...c,carId:y.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Car"}),n.map(y=>d.jsxs("option",{value:y.id,disabled:y.status==="Maintenance"||y.status==="Rented",children:[y.make," ",y.model," (",y.status,")"]},y.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Customer"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.customerId,onChange:y=>u({...c,customerId:y.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Customer"}),r.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Dealer (Optional)"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.dealerId,onChange:y=>u({...c,dealerId:y.target.value}),children:[d.jsx("option",{value:"",children:"Select Dealer"}),i.map(y=>d.jsx("option",{value:y.id,children:y.name},y.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:c.startDate,onChange:y=>u({...c,startDate:y.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:c.endDate,onChange:y=>u({...c,endDate:y.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Per Day Amount"}),d.jsx(X,{type:"number",value:c.dailyRate,onChange:y=>u({...c,dailyRate:y.target.value}),placeholder:"Enter daily rate"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.paymentStatus,onChange:y=>u({...c,paymentStatus:y.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Additional notes...",value:c.notes,onChange:y=>u({...c,notes:y.target.value})})]}),d.jsxs("div",{className:"bg-surface dark:bg-surface-dark p-4 rounded-lg space-y-2",children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("span",{className:"text-sm font-medium",children:"Price Breakdown"})}),h.breakdown.length>0?d.jsxs("div",{className:"space-y-1",children:[h.breakdown.map((y,w)=>d.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[d.jsx("span",{children:y.label}),d.jsxs("span",{children:["",y.amount]})]},w)),d.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between text-sm font-bold",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",h.total]})]})]}):d.jsx("p",{className:"text-xs text-muted-foreground",children:"Select car and dates to see price breakdown."})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Create Rental"})]})})]})}const VA=b.createContext();function ip(){return b.useContext(VA)}function WH({children:e}){const[t,n]=b.useState(),[r,i]=b.useState(!0);function s(h,p){return A8(qd,h,p)}function o(h,p){return O8(qd,h,p)}function c(){return L8(qd)}b.useEffect(()=>M8(qd,p=>{n(p),i(!1)}),[]);const u={currentUser:t,signup:s,login:o,logout:c};return d.jsx(VA.Provider,{value:u,children:r?d.jsx("div",{className:"flex h-screen items-center justify-center",children:"Loading..."}):e})}function qH({children:e}){const[t,n]=b.useState(!1),[r,i]=b.useState(!1),[s,o]=b.useState(!1),c=zi(),u=ri(),{logout:h}=ip();async function p(){try{await h(),u("/login")}catch(y){console.error("Failed to log out",y)}}b.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),b.useEffect(()=>{o(!1)},[c.pathname]);const m=[{icon:dH,label:"Dashboard",path:"/"},{icon:LA,label:"Cars",path:"/cars"},{icon:Yf,label:"Customers",path:"/customers"},{icon:Yf,label:"Dealers",path:"/dealers"},{icon:cH,label:"Rentals",path:"/transactions"},{icon:BA,label:"Financials",path:"/financials"},{icon:Fc,label:"Maintenance",path:"/maintenance"}],v=()=>d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsxs("div",{className:"p-6 flex justify-between items-center",children:[t?d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Driveway"}):d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Driveway"}),d.jsx(ve,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>o(!1),children:d.jsx($c,{size:20})})]}),d.jsx("div",{className:"px-4 mb-4",children:d.jsxs(ve,{className:"w-full justify-start gap-2",onClick:()=>i(!0),children:[d.jsx(ja,{size:20}),"New Rental"]})}),d.jsx("nav",{className:"flex-1 px-4 space-y-2 overflow-y-auto",children:m.map(y=>{const w=y.icon,C=c.pathname===y.path;return d.jsxs(qo,{to:y.path,className:ft("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",C?"bg-primary/10 text-primary":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[d.jsx(w,{size:20}),d.jsx("span",{className:"font-medium",children:y.label})]},y.path)})}),d.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[d.jsxs(ve,{variant:"ghost",className:"w-full justify-start gap-3",onClick:()=>n(!t),children:[t?d.jsx(AH,{size:20}):d.jsx(bH,{size:20}),d.jsx("span",{children:t?"Light Mode":"Dark Mode"})]}),d.jsxs(ve,{variant:"ghost",className:"w-full justify-start gap-3 mt-2 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:p,children:[d.jsx(mH,{size:20}),d.jsx("span",{children:"Log Out"})]})]})]});return d.jsxs("div",{className:"min-h-screen bg-surface dark:bg-background-dark flex flex-col md:flex-row",children:[d.jsxs("div",{className:"md:hidden bg-background dark:bg-surface-dark border-b border-gray-200 dark:border-gray-800 p-4 flex justify-between items-center sticky top-0 z-20",children:[t?d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Driveway"}):d.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Driveway"}),d.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>o(!0),children:d.jsx(xH,{size:24})})]}),d.jsx("aside",{className:"hidden md:flex w-64 bg-background dark:bg-surface-dark border-r border-gray-200 dark:border-gray-800 flex-col sticky top-0 h-screen",children:d.jsx(v,{})}),s&&d.jsxs("div",{className:"fixed inset-0 z-50 md:hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>o(!1)}),d.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-64 bg-background dark:bg-surface-dark shadow-xl animate-in slide-in-from-left",children:d.jsx(v,{})})]}),d.jsx("main",{className:"flex-1 overflow-auto w-full",children:d.jsx("div",{className:"p-4 md:p-8 max-w-7xl mx-auto",children:e})}),d.jsx(BH,{isOpen:r,onClose:()=>i(!1)})]})}function Fe({className:e,...t}){return d.jsx("div",{className:ft("rounded-lg border bg-card text-card-foreground shadow-sm dark:bg-surface-dark dark:border-surface",e),...t})}function Dt({className:e,...t}){return d.jsx("div",{className:ft("flex flex-col space-y-1.5 p-6",e),...t})}function Rt({className:e,...t}){return d.jsx("h3",{className:ft("text-2xl font-semibold leading-none tracking-tight",e),...t})}function ze({className:e,...t}){return d.jsx("div",{className:ft("p-6 pt-0",e),...t})}function KA({className:e,...t}){return d.jsx("div",{className:ft("flex items-center p-6 pt-0",e),...t})}function GA({className:e,...t}){return d.jsx("p",{className:ft("text-sm text-muted-foreground",e),...t})}var HH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function hw(e){if(typeof e!="string")return!1;var t=HH;return t.includes(e)}var VH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KH=new Set(VH);function YA(e){return typeof e!="string"?!1:KH.has(e)}function XA(e){return typeof e=="string"&&e.startsWith("data-")}function Ti(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YA(n)||XA(n))&&(t[n]=e[n]);return t}function pw(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ti(t)}return typeof e=="object"&&!Array.isArray(e)?Ti(e):null}function fr(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(YA(n)||XA(n)||hw(n))&&(t[n]=e[n]);return t}var GH=["children","width","height","viewBox","className","style","title","desc"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ux.apply(null,arguments)}function YH(e,t){if(e==null)return{};var n,r,i=XH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QA=b.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:c,title:u,desc:h}=e,p=YH(e,GH),m=s||{width:r,height:i,x:0,y:0},v=it("recharts-surface",o);return b.createElement("svg",ux({},fr(p),{className:v,width:r,height:i,style:c,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),b.createElement("title",null,u),b.createElement("desc",null,h),n)}),QH=["children","className"];function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dx.apply(null,arguments)}function JH(e,t){if(e==null)return{};var n,r,i=ZH(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZH(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ai=b.forwardRef((e,t)=>{var{children:n,className:r}=e,i=JH(e,QH),s=it("recharts-layer",r);return b.createElement("g",dx({className:s},fr(i),{ref:t}),n)}),eV=b.createContext(null);function tt(e){return function(){return e}}const JA=Math.cos,Xf=Math.sin,Br=Math.sqrt,Qf=Math.PI,sp=2*Qf,fx=Math.PI,hx=2*fx,ea=1e-6,tV=hx-ea;function ZA(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZA;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZA:nV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=r-t,h=i-n,p=o-t,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ea)if(!(Math.abs(m*u-h*p)>ea)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-o,w=i-c,C=u*u+h*h,_=y*y+w*w,k=Math.sqrt(C),I=Math.sqrt(v),E=s*Math.tan((fx-Math.acos((C+v-_)/(2*k*I)))/2),j=E/I,P=E/k;Math.abs(j-1)>ea&&this._append`L${t+j*p},${n+j*m}`,this._append`A${s},${s},0,0,${+(m*y>p*w)},${this._x1=t+P*u},${this._y1=n+P*h}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),u=r*Math.sin(i),h=t+c,p=n+u,m=1^o,v=o?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ea||Math.abs(this._y1-p)>ea)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%hx+hx),v>tV?this._append`A${r},${r},0,1,${m},${t-c},${n-u}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>ea&&this._append`A${r},${r},0,${+(v>=fx)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function mw(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new rV(t)}function gw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function eO(e){this._context=e}eO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ap(e){return new eO(e)}function tO(e){return e[0]}function nO(e){return e[1]}function rO(e,t){var n=tt(!0),r=null,i=ap,s=null,o=mw(c);e=typeof e=="function"?e:e===void 0?tO:tt(e),t=typeof t=="function"?t:t===void 0?nO:tt(t);function c(u){var h,p=(u=gw(u)).length,m,v=!1,y;for(r==null&&(s=i(y=o())),h=0;h<=p;++h)!(h<p&&n(m=u[h],h,u))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+e(m,h,u),+t(m,h,u));if(y)return s=null,y+""||null}return c.x=function(u){return arguments.length?(e=typeof u=="function"?u:tt(+u),c):e},c.y=function(u){return arguments.length?(t=typeof u=="function"?u:tt(+u),c):t},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:tt(!!u),c):n},c.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),c):i},c.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),c):r},c}function Kd(e,t,n){var r=null,i=tt(!0),s=null,o=ap,c=null,u=mw(h);e=typeof e=="function"?e:e===void 0?tO:tt(+e),t=typeof t=="function"?t:tt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?nO:tt(+n);function h(m){var v,y,w,C=(m=gw(m)).length,_,k=!1,I,E=new Array(C),j=new Array(C);for(s==null&&(c=o(I=u())),v=0;v<=C;++v){if(!(v<C&&i(_=m[v],v,m))===k)if(k=!k)y=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=v-1;w>=y;--w)c.point(E[w],j[w]);c.lineEnd(),c.areaEnd()}k&&(E[v]=+e(_,v,m),j[v]=+t(_,v,m),c.point(r?+r(_,v,m):E[v],n?+n(_,v,m):j[v]))}if(I)return c=null,I+""||null}function p(){return rO().defined(i).curve(o).context(s)}return h.x=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),r=null,h):e},h.x0=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),h):e},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),h):r},h.y=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),n=null,h):t},h.y0=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),h):t},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tt(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tt(!!m),h):i},h.curve=function(m){return arguments.length?(o=m,s!=null&&(c=o(s)),h):o},h.context=function(m){return arguments.length?(m==null?s=c=null:c=o(s=m),h):s},h}class iO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function iV(e){return new iO(e,!0)}function sV(e){return new iO(e,!1)}const vw={draw(e,t){const n=Br(t/Qf);e.moveTo(n,0),e.arc(0,0,n,0,sp)}},aV={draw(e,t){const n=Br(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},sO=Br(1/3),oV=sO*2,lV={draw(e,t){const n=Br(t/oV),r=n*sO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},cV={draw(e,t){const n=Br(t),r=-n/2;e.rect(r,r,n,n)}},uV=.8908130915292852,aO=Xf(Qf/10)/Xf(7*Qf/10),dV=Xf(sp/10)*aO,fV=-JA(sp/10)*aO,hV={draw(e,t){const n=Br(t*uV),r=dV*n,i=fV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=sp*s/5,c=JA(o),u=Xf(o);e.lineTo(u*n,-c*n),e.lineTo(c*r-u*i,u*r+c*i)}e.closePath()}},nv=Br(3),pV={draw(e,t){const n=-Br(t/(nv*3));e.moveTo(0,n*2),e.lineTo(-nv*n,-n),e.lineTo(nv*n,-n),e.closePath()}},ir=-.5,sr=Br(3)/2,px=1/Br(12),mV=(px/2+1)*3,gV={draw(e,t){const n=Br(t/mV),r=n/2,i=n*px,s=r,o=n*px+n,c=-s,u=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(c,u),e.lineTo(ir*r-sr*i,sr*r+ir*i),e.lineTo(ir*s-sr*o,sr*s+ir*o),e.lineTo(ir*c-sr*u,sr*c+ir*u),e.lineTo(ir*r+sr*i,ir*i-sr*r),e.lineTo(ir*s+sr*o,ir*o-sr*s),e.lineTo(ir*c+sr*u,ir*u-sr*c),e.closePath()}};function vV(e,t){let n=null,r=mw(i);e=typeof e=="function"?e:tt(e||vw),t=typeof t=="function"?t:tt(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:tt(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Jf(){}function Zf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function oO(e){this._context=e}oO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yV(e){return new oO(e)}function lO(e){this._context=e}lO.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xV(e){return new lO(e)}function cO(e){this._context=e}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wV(e){return new cO(e)}function uO(e){this._context=e}uO.prototype={areaStart:Jf,areaEnd:Jf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bV(e){return new uO(e)}function kk(e){return e<0?-1:1}function Ek(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),c=(s*i+o*r)/(r+i);return(kk(s)+kk(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function Nk(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function rv(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,c=(s-r)/3;e._context.bezierCurveTo(r+c,i+c*t,s-c,o-c*n,s,o)}function eh(e){this._context=e}eh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rv(this,this._t0,Nk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rv(this,Nk(this,n=Ek(this,e,t)),n);break;default:rv(this,this._t0,n=Ek(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function dO(e){this._context=new fO(e)}(dO.prototype=Object.create(eh.prototype)).point=function(e,t){eh.prototype.point.call(this,t,e)};function fO(e){this._context=e}fO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function _V(e){return new eh(e)}function SV(e){return new dO(e)}function hO(e){this._context=e}hO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Ik(e),i=Ik(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ik(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function CV(e){return new hO(e)}function op(e,t){this._context=e,this._t=t}op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function kV(e){return new op(e,.5)}function EV(e){return new op(e,0)}function NV(e){return new op(e,1)}function Ao(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,c=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mx(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function IV(e,t){return e[t]}function PV(e){const t=[];return t.key=e,t}function jV(){var e=tt([]),t=mx,n=Ao,r=IV;function i(s){var o=Array.from(e.apply(this,arguments),PV),c,u=o.length,h=-1,p;for(const m of s)for(c=0,++h;c<u;++c)(o[c][h]=[0,+r(m,o[c].key,h,s)]).data=m;for(c=0,p=gw(t(o));c<u;++c)o[p[c]].index=c;return n(o,p),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:tt(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:tt(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?mx:typeof s=="function"?s:tt(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Ao,i):n},i}function TV(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Ao(e,t)}}function AV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,c=0;o<i;++o)c+=e[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Ao(e,t)}}function OV(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var c=0,u=0,h=0;c<o;++c){for(var p=e[t[c]],m=p[r][1]||0,v=p[r-1][1]||0,y=(m-v)/2,w=0;w<c;++w){var C=e[t[w]],_=C[r][1]||0,k=C[r-1][1]||0;y+=_-k}u+=m,h+=y*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=h/u)}i[r-1][1]+=i[r-1][0]=n,Ao(e,t)}}var iv={},sv={},Pk;function DV(){return Pk||(Pk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(sv)),sv}var av={},jk;function pO(){return jk||(jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(av)),av}var ov={},Tk;function yw(){return Tk||(Tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(ov)),ov}var lv={},cv={},Ak;function RV(){return Ak||(Ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(cv)),cv}var Ok;function xw(){return Ok||(Ok=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RV(),n=yw();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const s=[],o=i.length;if(o===0)return s;let c=0,u="",h="",p=!1;for(i.charCodeAt(0)===46&&(s.push(""),c++);c<o;){const m=i[c];h?m==="\\"&&c+1<o?(c++,u+=i[c]):m===h?h="":u+=m:p?m==='"'||m==="'"?h=m:m==="]"?(p=!1,s.push(u),u=""):u+=m:m==="["?(p=!0,u&&(s.push(u),u="")):m==="."?u&&(s.push(u),u=""):u+=m,c++}return u&&s.push(u),s}e.toPath=r})(lv)),lv}var Dk;function ww(){return Dk||(Dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DV(),n=pO(),r=yw(),i=xw();function s(c,u,h){if(c==null)return h;switch(typeof u){case"string":{if(t.isUnsafeProperty(u))return h;const p=c[u];return p===void 0?n.isDeepKey(u)?s(c,i.toPath(u),h):h:p}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const p=c[u];return p===void 0?h:p}default:{if(Array.isArray(u))return o(c,u,h);if(Object.is(u==null?void 0:u.valueOf(),-0)?u="-0":u=String(u),t.isUnsafeProperty(u))return h;const p=c[u];return p===void 0?h:p}}}function o(c,u,h){if(u.length===0)return h;let p=c;for(let m=0;m<u.length;m++){if(p==null||t.isUnsafeProperty(u[m]))return h;p=p[u[m]]}return p===void 0?h:p}e.get=s})(iv)),iv}var uv,Rk;function MV(){return Rk||(Rk=1,uv=ww().get),uv}var LV=MV();const Oo=ni(LV);var Ln=e=>e===0?0:e>0?1:-1,Rr=e=>typeof e=="number"&&e!=+e,Oi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!Rr(e),Zr=e=>be(e)||typeof e=="string",FV=0,zc=e=>{var t=++FV;return"".concat(e||"").concat(t)},Mr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return r;var s;if(Oi(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Rr(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},mO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1};function sn(e,t,n){return be(e)&&be(t)?e+n*(t-e):t}function $V(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Oo(r,t))===n)}var Qt=e=>e===null||typeof e>"u",lu=e=>Qt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function zV(e){return e!=null}function cu(){}var UV=["type","size","sizeType"];function gx(){return gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gx.apply(null,arguments)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){BV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BV(e,t,n){return(t=WV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WV(e){var t=qV(e,"string");return typeof t=="symbol"?t:t+""}function qV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HV(e,t){if(e==null)return{};var n,r,i=VV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function VV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gO={symbolCircle:vw,symbolCross:aV,symbolDiamond:lV,symbolSquare:cV,symbolStar:hV,symbolTriangle:pV,symbolWye:gV},KV=Math.PI/180,GV=e=>{var t="symbol".concat(lu(e));return gO[t]||vw},YV=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*KV;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},XV=(e,t)=>{gO["symbol".concat(lu(e))]=t},vO=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=HV(e,UV),s=Lk(Lk({},i),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var v=GV(o),y=vV().type(v).size(YV(n,r,o)),w=y();if(w!==null)return w},{className:u,cx:h,cy:p}=s,m=fr(s);return be(h)&&be(p)&&be(n)?b.createElement("path",gx({},m,{className:it("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};vO.registerSymbol=XV;var yO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,QV=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{hw(i)&&(r[i]=(s=>n[i](n,s)))}),r},JV=(e,t,n)=>r=>(e(t,n,r),null),bw=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];hw(i)&&typeof s=="function"&&(r||(r={}),r[i]=JV(s,t,n))}),r};function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZV(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(n),!0).forEach(function(r){e9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e9(e,t,n){return(t=t9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t){var n=ZV({},e),r=t,i=Object.keys(t),s=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return s}var dv={},fv={},$k;function r9(){return $k||($k=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}e.uniqBy=t})(fv)),fv}var hv={},zk;function xO(){return zk||(zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(hv)),hv}var pv={},mv={},gv={},Uk;function i9(){return Uk||(Uk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(gv)),gv}var Bk;function _w(){return Bk||(Bk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i9();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(mv)),mv}var vv={},Wk;function s9(){return Wk||(Wk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(vv)),vv}var qk;function a9(){return qk||(qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_w(),n=s9();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(pv)),pv}var yv={},xv={},Hk;function o9(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ww();function n(r){return function(i){return t.get(i,r)}}e.property=n})(xv)),xv}var wv={},bv={},_v={},Sv={},Vk;function wO(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Sv)),Sv}var Cv={},Kk;function bO(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Cv)),Cv}var kv={},Gk;function _O(){return Gk||(Gk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t})(kv)),kv}var Yk;function l9(){return Yk||(Yk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wO(),n=bO(),r=_O();function i(p,m,v){return typeof v!="function"?i(p,m,()=>{}):s(p,m,function y(w,C,_,k,I,E){const j=v(w,C,_,k,I,E);return j!==void 0?!!j:s(w,C,y,E)},new Map)}function s(p,m,v,y){if(m===p)return!0;switch(typeof m){case"object":return o(p,m,v,y);case"function":return Object.keys(m).length>0?s(p,{...m},v,y):r.eq(p,m);default:return t.isObject(p)?typeof m=="string"?m==="":!0:r.eq(p,m)}}function o(p,m,v,y){if(m==null)return!0;if(Array.isArray(m))return u(p,m,v,y);if(m instanceof Map)return c(p,m,v,y);if(m instanceof Set)return h(p,m,v,y);const w=Object.keys(m);if(p==null)return w.length===0;if(w.length===0)return!0;if(y!=null&&y.has(m))return y.get(m)===p;y==null||y.set(m,p);try{for(let C=0;C<w.length;C++){const _=w[C];if(!n.isPrimitive(p)&&!(_ in p)||m[_]===void 0&&p[_]!==void 0||m[_]===null&&p[_]!==null||!v(p[_],m[_],_,p,m,y))return!1}return!0}finally{y==null||y.delete(m)}}function c(p,m,v,y){if(m.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,C]of m.entries()){const _=p.get(w);if(v(_,C,w,p,m,y)===!1)return!1}return!0}function u(p,m,v,y){if(m.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let C=0;C<m.length;C++){const _=m[C];let k=!1;for(let I=0;I<p.length;I++){if(w.has(I))continue;const E=p[I];let j=!1;if(v(E,_,C,p,m,y)&&(j=!0),j){w.add(I),k=!0;break}}if(!k)return!1}return!0}function h(p,m,v,y){return m.size===0?!0:p instanceof Set?u([...p],[...m],v,y):!1}e.isMatchWith=i,e.isSetMatch=h})(_v)),_v}var Xk;function SO(){return Xk||(Xk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(bv)),bv}var Ev={},Nv={},Iv={},Qk;function c9(){return Qk||(Qk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Iv)),Iv}var Pv={},Jk;function CO(){return Jk||(Jk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Pv)),Pv}var jv={},Zk;function kO(){return Zk||(Zk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",h="[object Set]",p="[object Array]",m="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",C="[object DataView]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",I="[object Uint16Array]",E="[object Uint32Array]",j="[object BigUint64Array]",P="[object Int8Array]",A="[object Int16Array]",z="[object Int32Array]",W="[object BigInt64Array]",Y="[object Float32Array]",oe="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=v,e.arrayTag=p,e.bigInt64ArrayTag=W,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=C,e.dateTag=c,e.errorTag=w,e.float32ArrayTag=Y,e.float64ArrayTag=oe,e.functionTag=m,e.int16ArrayTag=A,e.int32ArrayTag=z,e.int8ArrayTag=P,e.mapTag=u,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=I,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=k})(jv)),jv}var Tv={},eE;function u9(){return eE||(eE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Tv)),Tv}var tE;function EO(){return tE||(tE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c9(),n=CO(),r=kO(),i=bO(),s=u9();function o(p,m){return c(p,void 0,p,new Map,m)}function c(p,m,v,y=new Map,w=void 0){const C=w==null?void 0:w(p,m,v,y);if(C!==void 0)return C;if(i.isPrimitive(p))return p;if(y.has(p))return y.get(p);if(Array.isArray(p)){const _=new Array(p.length);y.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,v,y,w);return Object.hasOwn(p,"index")&&(_.index=p.index),Object.hasOwn(p,"input")&&(_.input=p.input),_}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const _=new RegExp(p.source,p.flags);return _.lastIndex=p.lastIndex,_}if(p instanceof Map){const _=new Map;y.set(p,_);for(const[k,I]of p)_.set(k,c(I,k,v,y,w));return _}if(p instanceof Set){const _=new Set;y.set(p,_);for(const k of p)_.add(c(k,void 0,v,y,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const _=new(Object.getPrototypeOf(p)).constructor(p.length);y.set(p,_);for(let k=0;k<p.length;k++)_[k]=c(p[k],k,v,y,w);return _}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const _=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return y.set(p,_),u(_,p,v,y,w),_}if(typeof File<"u"&&p instanceof File){const _=new File([p],p.name,{type:p.type});return y.set(p,_),u(_,p,v,y,w),_}if(typeof Blob<"u"&&p instanceof Blob){const _=new Blob([p],{type:p.type});return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof Error){const _=new p.constructor;return y.set(p,_),_.message=p.message,_.name=p.name,_.stack=p.stack,_.cause=p.cause,u(_,p,v,y,w),_}if(p instanceof Boolean){const _=new Boolean(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof Number){const _=new Number(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(p instanceof String){const _=new String(p.valueOf());return y.set(p,_),u(_,p,v,y,w),_}if(typeof p=="object"&&h(p)){const _=Object.create(Object.getPrototypeOf(p));return y.set(p,_),u(_,p,v,y,w),_}return p}function u(p,m,v=p,y,w){const C=[...Object.keys(m),...t.getSymbols(m)];for(let _=0;_<C.length;_++){const k=C[_],I=Object.getOwnPropertyDescriptor(p,k);(I==null||I.writable)&&(p[k]=c(m[k],k,v,y,w))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=u})(Nv)),Nv}var nE;function d9(){return nE||(nE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ev)),Ev}var rE;function f9(){return rE||(rE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO(),n=d9();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r})(wv)),wv}var Av={},Ov={},Dv={},iE;function h9(){return iE||(iE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO(),n=kO();function r(i,s){return t.cloneDeepWith(i,(o,c,u,h)=>{const p=s==null?void 0:s(o,c,u,h);if(p!==void 0)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(m,i),m}case n.argumentsTag:{const m={};return t.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}e.cloneDeepWith=r})(Dv)),Dv}var sE;function p9(){return sE||(sE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h9();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Ov)),Ov}var Rv={},Mv={},aE;function NO(){return aE||(aE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Mv)),Mv}var Lv={},oE;function m9(){return oE||(oE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CO();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Lv)),Lv}var lE;function g9(){return lE||(lE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO(),n=NO(),r=m9(),i=xw();function s(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&t.isDeepKey(c)&&(o==null?void 0:o[c])==null?u=i.toPath(c):u=[c],u.length===0)return!1;let h=o;for(let p=0;p<u.length;p++){const m=u[p];if((h==null||!Object.hasOwn(h,m))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(m)&&m<h.length))return!1;h=h[m]}return!0}e.has=s})(Rv)),Rv}var cE;function v9(){return cE||(cE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SO(),n=yw(),r=p9(),i=ww(),s=g9();function o(c,u){switch(typeof c){case"object":{Object.is(c==null?void 0:c.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return u=r.cloneDeep(u),function(h){const p=i.get(h,c);return p===void 0?s.has(h,c):u===void 0?p===void 0:t.isMatch(p,u)}}e.matchesProperty=o})(Av)),Av}var uE;function y9(){return uE||(uE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xO(),n=o9(),r=f9(),i=v9();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s})(yv)),yv}var dE;function x9(){return dE||(dE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r9(),n=xO(),r=a9(),i=y9();function s(o,c=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(c)):[]}e.uniqBy=s})(dv)),dv}var Fv,fE;function w9(){return fE||(fE=1,Fv=x9().uniqBy),Fv}var b9=w9();const hE=ni(b9);function _9(e,t,n){return t===!0?hE(e,n):typeof t=="function"?hE(e,t):e}var $v={exports:{}},zv={},Uv={exports:{}},Bv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function S9(){if(pE)return Bv;pE=1;var e=zo();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function c(m,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),C=w[0].inst,_=w[1];return s(function(){C.value=y,C.getSnapshot=v,u(C)&&_({inst:C})},[m,y,v]),i(function(){return u(C)&&_({inst:C}),m(function(){u(C)&&_({inst:C})})},[m]),o(y),y}function u(m){var v=m.getSnapshot;m=m.value;try{var y=v();return!n(m,y)}catch{return!0}}function h(m,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Bv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Bv}var mE;function C9(){return mE||(mE=1,Uv.exports=S9()),Uv.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function k9(){if(gE)return zv;gE=1;var e=zo(),t=C9();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,u=e.useDebugValue;return zv.useSyncExternalStoreWithSelector=function(h,p,m,v,y){var w=s(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=c(function(){function k(A){if(!I){if(I=!0,E=A,A=v(A),y!==void 0&&C.hasValue){var z=C.value;if(y(z,A))return j=z}return j=A}if(z=j,r(E,A))return z;var W=v(A);return y!==void 0&&y(z,W)?(E=A,z):(E=A,j=W)}var I=!1,E,j,P=m===void 0?null:m;return[function(){return k(p())},P===null?void 0:function(){return k(P())}]},[p,m,v,y]);var _=i(h,w[0],w[1]);return o(function(){C.hasValue=!0,C.value=_},[_]),u(_),_},zv}var vE;function E9(){return vE||(vE=1,$v.exports=k9()),$v.exports}var N9=E9(),Sw=b.createContext(null),I9=e=>e,kt=()=>{var e=b.useContext(Sw);return e?e.store.dispatch:I9},vf=()=>{},P9=()=>vf,j9=(e,t)=>e===t;function Ce(e){var t=b.useContext(Sw);return N9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:P9,t?t.store.getState:vf,t?t.store.getState:vf,t?e:vf,j9)}function T9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function A9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var yE=e=>Array.isArray(e)?e:[e];function D9(e){const t=Array.isArray(e[0])?e[0]:e;return O9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function R9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var M9=class{constructor(e){this.value=e}deref(){return this.value}},L9=typeof WeakRef<"u"?WeakRef:M9,F9=0,xE=1;function Gd(){return{s:F9,v:void 0,o:null,p:null}}function IO(e,t={}){let n=Gd();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var m;let c=n;const{length:u}=arguments;for(let v=0,y=u;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let C=c.o;C===null&&(c.o=C=new WeakMap);const _=C.get(w);_===void 0?(c=Gd(),C.set(w,c)):c=_}else{let C=c.p;C===null&&(c.p=C=new Map);const _=C.get(w);_===void 0?(c=Gd(),C.set(w,c)):c=_}}const h=c;let p;if(c.s===xE)p=c.v;else if(p=e.apply(null,arguments),s++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,p)&&(p=v,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new L9(p):p}return h.s=xE,h.v=p,p}return o.clearCache=()=>{n=Gd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function $9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,c,u={},h=i.pop();typeof h=="object"&&(u=h,h=i.pop()),T9(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...u},{memoize:m,memoizeOptions:v=[],argsMemoize:y=IO,argsMemoizeOptions:w=[]}=p,C=yE(v),_=yE(w),k=D9(i),I=m(function(){return s++,h.apply(null,arguments)},...C),E=y(function(){o++;const P=R9(k,arguments);return c=I.apply(null,P),c},..._);return Object.assign(E,{resultFunc:h,memoizedResultFunc:I,dependencies:k,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var q=$9(IO),z9=Object.assign((e,t=q)=>{A9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,c,u)=>(o[n[u]]=c,o),{}))},{withTypes:()=>z9}),Wv={},qv={},Hv={},wE;function U9(){return wE||(wE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),c=t(i);if(o===c&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?c-o:o-c}return 0};e.compareValues=n})(Hv)),Hv}var Vv={},Kv={},bE;function PO(){return bE||(bE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(Kv)),Kv}var _E;function B9(){return _E||(_E=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i})(Vv)),Vv}var SE;function W9(){return SE||(SE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U9(),n=B9(),r=xw();function i(s,o,c,u){if(s==null)return[];c=u?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const h=(y,w)=>{let C=y;for(let _=0;_<w.length&&C!=null;++_)C=C[w[_]];return C},p=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:h(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?h(w,y):typeof w=="object"?w[y]:w,m=o.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(w=>p(w,y))})).slice().sort((y,w)=>{for(let C=0;C<m.length;C++){const _=t.compareValues(y.criteria[C],w.criteria[C],c[C]);if(_!==0)return _}return 0}).map(y=>y.original)}e.orderBy=i})(qv)),qv}var Gv={},CE;function q9(){return CE||(CE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(c,u)=>{for(let h=0;h<c.length;h++){const p=c[h];Array.isArray(p)&&u<s?o(p,u+1):i.push(p)}};return o(n,0),i}e.flatten=t})(Gv)),Gv}var Yv={},kE;function jO(){return kE||(kE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NO(),n=_w(),r=wO(),i=_O();function s(o,c,u){return r.isObject(u)&&(typeof c=="number"&&n.isArrayLike(u)&&t.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?i.eq(u[c],o):!1}e.isIterateeCall=s})(Yv)),Yv}var EE;function H9(){return EE||(EE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W9(),n=q9(),r=jO();function i(s,...o){const c=o.length;return c>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i})(Wv)),Wv}var Xv,NE;function V9(){return NE||(NE=1,Xv=H9().sortBy),Xv}var K9=V9();const lp=ni(K9);var TO=e=>e.legend.settings,G9=e=>e.legend.size,Y9=e=>e.legend.payload;q([Y9,TO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?lp(r,n):r});var Yd=1;function X9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Yd||Math.abs(o.left-t.left)>Yd||Math.abs(o.top-t.top)>Yd||Math.abs(o.width-t.width)>Yd)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function rn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q9=typeof Symbol=="function"&&Symbol.observable||"@@observable",IE=Q9,Qv=()=>Math.random().toString(36).substring(7).split("").join("."),J9={INIT:`@@redux/INIT${Qv()}`,REPLACE:`@@redux/REPLACE${Qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qv()}`},th=J9;function Cw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AO(e,t,n){if(typeof e!="function")throw new Error(rn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(rn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(rn(1));return n(AO)(e,t)}let r=e,i=t,s=new Map,o=s,c=0,u=!1;function h(){o===s&&(o=new Map,s.forEach((_,k)=>{o.set(k,_)}))}function p(){if(u)throw new Error(rn(3));return i}function m(_){if(typeof _!="function")throw new Error(rn(4));if(u)throw new Error(rn(5));let k=!0;h();const I=c++;return o.set(I,_),function(){if(k){if(u)throw new Error(rn(6));k=!1,h(),o.delete(I),s=null}}}function v(_){if(!Cw(_))throw new Error(rn(7));if(typeof _.type>"u")throw new Error(rn(8));if(typeof _.type!="string")throw new Error(rn(17));if(u)throw new Error(rn(9));try{u=!0,i=r(i,_)}finally{u=!1}return(s=o).forEach(I=>{I()}),_}function y(_){if(typeof _!="function")throw new Error(rn(10));r=_,v({type:th.REPLACE})}function w(){const _=m;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(rn(11));function I(){const j=k;j.next&&j.next(p())}return I(),{unsubscribe:_(I)}},[IE](){return this}}}return v({type:th.INIT}),{dispatch:v,subscribe:m,getState:p,replaceReducer:y,[IE]:w}}function Z9(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:th.INIT})>"u")throw new Error(rn(12));if(typeof n(void 0,{type:th.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rn(13))})}function OO(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Z9(n)}catch(s){i=s}return function(o={},c){if(i)throw i;let u=!1;const h={};for(let p=0;p<r.length;p++){const m=r[p],v=n[m],y=o[m],w=v(y,c);if(typeof w>"u")throw c&&c.type,new Error(rn(14));h[m]=w,u=u||w!==y}return u=u||r.length!==Object.keys(o).length,u?h:o}}function nh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function e7(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(rn(15))};const o={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},c=e.map(u=>u(o));return s=nh(...c)(i.dispatch),{...i,dispatch:s}}}function DO(e){return Cw(e)&&"type"in e&&typeof e.type=="string"}var RO=Symbol.for("immer-nothing"),PE=Symbol.for("immer-draftable"),Xn=Symbol.for("immer-state");function kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Uc=Object.getPrototypeOf;function wa(e){return!!e&&!!e[Xn]}function Di(e){var t;return e?MO(e)||Array.isArray(e)||!!e[PE]||!!((t=e.constructor)!=null&&t[PE])||uu(e)||up(e):!1}var t7=Object.prototype.constructor.toString(),jE=new WeakMap;function MO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=jE.get(n);return r===void 0&&(r=Function.toString.call(n),jE.set(n,r)),r===t7}function rh(e,t,n=!0){cp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function cp(e){const t=e[Xn];return t?t.type_:Array.isArray(e)?1:uu(e)?2:up(e)?3:0}function vx(e,t){return cp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function LO(e,t,n){const r=cp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function n7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uu(e){return e instanceof Map}function up(e){return e instanceof Set}function ta(e){return e.copy_||e.base_}function yx(e,t){if(uu(e))return new Map(e);if(up(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=MO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Xn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(Uc(e),r)}else{const r=Uc(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function kw(e,t=!1){return dp(e)||wa(e)||!Di(e)||(cp(e)>1&&Object.defineProperties(e,{set:Xd,add:Xd,clear:Xd,delete:Xd}),Object.freeze(e),t&&Object.values(e).forEach(n=>kw(n,!0))),e}function r7(){kr(2)}var Xd={value:r7};function dp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var i7={};function ba(e){const t=i7[e];return t||kr(0,e),t}var Bc;function FO(){return Bc}function s7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TE(e,t){t&&(ba("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xx(e){wx(e),e.drafts_.forEach(a7),e.drafts_=null}function wx(e){e===Bc&&(Bc=e.parent_)}function AE(e){return Bc=s7(Bc,e)}function a7(e){const t=e[Xn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Xn].modified_&&(xx(t),kr(4)),Di(e)&&(e=ih(t,e),t.parent_||sh(t,e)),t.patches_&&ba("Patches").generateReplacementPatches_(n[Xn].base_,e,t.patches_,t.inversePatches_)):e=ih(t,n,[]),xx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==RO?e:void 0}function ih(e,t,n){if(dp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Xn];if(!i)return rh(t,(s,o)=>DE(e,i,t,s,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return sh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,c=!1;i.type_===3&&(o=new Set(s),s.clear(),c=!0),rh(o,(u,h)=>DE(e,i,s,u,h,n,c),r),sh(e,s,!1),n&&e.patches_&&ba("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function DE(e,t,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const c=dp(i);if(!(c&&!o)){if(wa(i)){const u=s&&t&&t.type_!==3&&!vx(t.assigned_,r)?s.concat(r):void 0,h=ih(e,i,u);if(LO(n,r,h),wa(h))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Di(i)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&c)return;ih(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(uu(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sh(e,i)}}}function sh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kw(t,n)}function o7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:FO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ew;n&&(i=[r],s=Wc);const{revoke:o,proxy:c}=Proxy.revocable(i,s);return r.draft_=c,r.revoke_=o,c}var Ew={get(e,t){if(t===Xn)return e;const n=ta(e);if(!vx(n,t))return l7(e,n,t);const r=n[t];return e.finalized_||!Di(r)?r:r===Jv(e.base_,t)?(Zv(e),e.copy_[t]=_x(r,e)):r},has(e,t){return t in ta(e)},ownKeys(e){return Reflect.ownKeys(ta(e))},set(e,t,n){const r=$O(ta(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Jv(ta(e),t),s=i==null?void 0:i[Xn];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(n7(n,i)&&(n!==void 0||vx(e.base_,t)))return!0;Zv(e),bx(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zv(e),bx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ta(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){kr(11)},getPrototypeOf(e){return Uc(e.base_)},setPrototypeOf(){kr(12)}},Wc={};rh(Ew,(e,t)=>{Wc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wc.deleteProperty=function(e,t){return Wc.set.call(this,e,t,void 0)};Wc.set=function(e,t,n){return Ew.set.call(this,e[0],t,n,e[0])};function Jv(e,t){const n=e[Xn];return(n?ta(n):e)[t]}function l7(e,t,n){var i;const r=$O(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function $O(e,t){if(!(t in e))return;let n=Uc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Uc(n)}}function bx(e){e.modified_||(e.modified_=!0,e.parent_&&bx(e.parent_))}function Zv(e){e.copy_||(e.copy_=yx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var c7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(u=s,...h){return o.produce(u,p=>n.call(this,p,...h))}}typeof n!="function"&&kr(6),r!==void 0&&typeof r!="function"&&kr(7);let i;if(Di(t)){const s=AE(this),o=_x(t,void 0);let c=!0;try{i=n(o),c=!1}finally{c?xx(s):wx(s)}return TE(s,r),OE(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===RO&&(i=void 0),this.autoFreeze_&&kw(i,!0),r){const s=[],o=[];ba("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else kr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,u=>t(u,...c));let r,i;return[this.produce(t,n,(o,c)=>{r=o,i=c}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Di(e)||kr(8),wa(e)&&(e=Tr(e));const t=AE(this),n=_x(e,void 0);return n[Xn].isManual_=!0,wx(t),n}finishDraft(e,t){const n=e&&e[Xn];(!n||!n.isManual_)&&kr(9);const{scope_:r}=n;return TE(r,t),OE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ba("Patches").applyPatches_;return wa(e)?r(e,t):this.produce(e,i=>r(i,t))}};function _x(e,t){const n=uu(e)?ba("MapSet").proxyMap_(e,t):up(e)?ba("MapSet").proxySet_(e,t):o7(e,t);return(t?t.scope_:FO()).drafts_.push(n),n}function Tr(e){return wa(e)||kr(10,e),zO(e)}function zO(e){if(!Di(e)||dp(e))return e;const t=e[Xn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yx(e,!0);return rh(n,(i,s)=>{LO(n,i,zO(s))},r),t&&(t.finalized_=!1),n}var Sx=new c7,UO=Sx.produce,u7=Sx.setUseStrictIteration.bind(Sx);function BO(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var d7=BO(),f7=BO,h7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nh:nh.apply(null,arguments)};function hr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Gn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>DO(r)&&r.type===e,n}var WO=class mc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,mc.prototype)}static get[Symbol.species](){return mc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new mc(...t[0].concat(this)):new mc(...t.concat(this))}};function RE(e){return Di(e)?UO(e,()=>{}):e}function Qd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function p7(e){return typeof e=="boolean"}var m7=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new WO;return n&&(p7(n)?o.push(d7):o.push(f7(n.extraArgument))),o},qO="RTK_autoBatch",ct=()=>e=>({payload:e,meta:{[qO]:!0}}),ME=e=>t=>{setTimeout(t,e)},HO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const c=new Set,u=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ME(10):e.type==="callback"?e.queueNotification:ME(e.timeout),h=()=>{o=!1,s&&(s=!1,c.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const m=()=>i&&p(),v=r.subscribe(m);return c.add(p),()=>{v(),c.delete(p)}},dispatch(p){var m;try{return i=!((m=p==null?void 0:p.meta)!=null&&m[qO]),s=!i,s&&(o||(o=!0,u(h))),r.dispatch(p)}finally{i=!0}}})},g7=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new WO(e);return r&&i.push(HO(typeof r=="object"?r:void 0)),i};function v7(e){const t=m7(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof n=="function")c=n;else if(Cw(n))c=OO(n);else throw new Error(Gn(1));let u;typeof r=="function"?u=r(t):u=t();let h=nh;i&&(h=h7({trace:!1,...typeof i=="object"&&i}));const p=e7(...u),m=g7(p);let v=typeof o=="function"?o(m):m();const y=h(...v);return AO(c,s,y)}function VO(e){const t={},n=[];let r;const i={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(Gn(28));if(c in t)throw new Error(Gn(29));return t[c]=o,i},addAsyncThunk(s,o){return o.pending&&(t[s.pending.type]=o.pending),o.rejected&&(t[s.rejected.type]=o.rejected),o.fulfilled&&(t[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}u7(!1);function y7(e){return typeof e=="function"}function x7(e,t){let[n,r,i]=VO(t),s;if(y7(e))s=()=>RE(e());else{const c=RE(e);s=()=>c}function o(c=s(),u){let h=[n[u.type],...r.filter(({matcher:p})=>p(u)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,m)=>{if(m)if(wa(p)){const y=m(p,u);return y===void 0?p:y}else{if(Di(p))return UO(p,v=>m(v,u));{const v=m(p,u);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},c)}return o.getInitialState=s,o}var w7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",b7=(e=21)=>{let t="",n=e;for(;n--;)t+=w7[Math.random()*64|0];return t},_7=Symbol.for("rtk-slice-createasyncthunk");function S7(e,t){return`${e}/${t}`}function C7({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[_7];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(Gn(11));const c=(typeof i.reducers=="function"?i.reducers(E7()):i.reducers)||{},u=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(j,P){const A=typeof j=="string"?j:j.type;if(!A)throw new Error(Gn(12));if(A in h.sliceCaseReducersByType)throw new Error(Gn(13));return h.sliceCaseReducersByType[A]=P,p},addMatcher(j,P){return h.sliceMatchers.push({matcher:j,reducer:P}),p},exposeAction(j,P){return h.actionCreators[j]=P,p},exposeCaseReducer(j,P){return h.sliceCaseReducersByName[j]=P,p}};u.forEach(j=>{const P=c[j],A={reducerName:j,type:S7(s,j),createNotation:typeof i.reducers=="function"};I7(P)?j7(A,P,p,t):N7(A,P,p)});function m(){const[j={},P=[],A=void 0]=typeof i.extraReducers=="function"?VO(i.extraReducers):[i.extraReducers],z={...j,...h.sliceCaseReducersByType};return x7(i.initialState,W=>{for(let Y in z)W.addCase(Y,z[Y]);for(let Y of h.sliceMatchers)W.addMatcher(Y.matcher,Y.reducer);for(let Y of P)W.addMatcher(Y.matcher,Y.reducer);A&&W.addDefaultCase(A)})}const v=j=>j,y=new Map,w=new WeakMap;let C;function _(j,P){return C||(C=m()),C(j,P)}function k(){return C||(C=m()),C.getInitialState()}function I(j,P=!1){function A(W){let Y=W[j];return typeof Y>"u"&&P&&(Y=Qd(w,A,k)),Y}function z(W=v){const Y=Qd(y,P,()=>new WeakMap);return Qd(Y,W,()=>{const oe={};for(const[M,H]of Object.entries(i.selectors??{}))oe[M]=k7(H,W,()=>Qd(w,W,k),P);return oe})}return{reducerPath:j,getSelectors:z,get selectors(){return z(A)},selectSlice:A}}const E={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:k,...I(o),injectInto(j,{reducerPath:P,...A}={}){const z=P??o;return j.inject({reducerPath:z,reducer:_},A),{...E,...I(z,!0)}}};return E}}function k7(e,t,n,r){function i(s,...o){let c=t(s);return typeof c>"u"&&r&&(c=n()),e(c,...o)}return i.unwrapped=e,i}var $n=C7();function E7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function N7({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!P7(r))throw new Error(Gn(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?hr(e,o):hr(e))}function I7(e){return e._reducerDefinitionType==="asyncThunk"}function P7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function j7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Gn(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:u,settled:h,options:p}=n,m=i(e,s,p);r.exposeAction(t,m),o&&r.addCase(m.fulfilled,o),c&&r.addCase(m.pending,c),u&&r.addCase(m.rejected,u),h&&r.addMatcher(m.settled,h),r.exposeCaseReducer(t,{fulfilled:o||Jd,pending:c||Jd,rejected:u||Jd,settled:h||Jd})}function Jd(){}var T7="task",KO="listener",GO="completed",Nw="cancelled",A7=`task-${Nw}`,O7=`task-${GO}`,Cx=`${KO}-${Nw}`,D7=`${KO}-${GO}`,fp=class{constructor(e){Pg(this,"name","TaskAbortError");Pg(this,"message");this.code=e,this.message=`${T7} ${Nw} (reason: ${e})`}},Iw=(e,t)=>{if(typeof e!="function")throw new TypeError(Gn(32))},ah=()=>{},YO=(e,t=ah)=>(e.catch(t),e),XO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),la=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ca=e=>{if(e.aborted){const{reason:t}=e;throw new fp(t)}};function QO(e,t){let n=ah;return new Promise((r,i)=>{const s=()=>i(new fp(e.reason));if(e.aborted){s();return}n=XO(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ah})}var R7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof fp?"cancelled":"rejected",error:n}}finally{t==null||t()}},oh=e=>t=>YO(QO(e,t).then(n=>(ca(e),n))),JO=e=>{const t=oh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:_o}=Object,LE={},hp="listenerMiddleware",M7=(e,t)=>{const n=r=>XO(e,()=>la(r,e.reason));return(r,i)=>{Iw(r);const s=new AbortController;n(s);const o=R7(async()=>{ca(e),ca(s.signal);const c=await r({pause:oh(s.signal),delay:JO(s.signal),signal:s.signal});return ca(s.signal),c},()=>la(s,O7));return i!=null&&i.autoJoin&&t.push(o.catch(ah)),{result:oh(e)(o),cancel(){la(s,A7)}}}},L7=(e,t)=>{const n=async(r,i)=>{ca(t);let s=()=>{};const c=[new Promise((u,h)=>{let p=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),u([m,v.getState(),v.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&c.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await QO(t,Promise.race(c));return ca(t),u}finally{s()}};return(r,i)=>YO(n(r,i))},ZO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=hr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Gn(21));return Iw(s),{predicate:i,type:t,effect:s}},eD=_o(e=>{const{type:t,predicate:n,effect:r}=ZO(e);return{id:b7(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Gn(22))}}},{withTypes:()=>eD}),FE=(e,t)=>{const{type:n,effect:r,predicate:i}=ZO(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},kx=e=>{e.pending.forEach(t=>{la(t,Cx)})},F7=(e,t)=>()=>{for(const n of t.keys())kx(n);e.clear()},$E=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},tD=_o(hr(`${hp}/add`),{withTypes:()=>tD}),$7=hr(`${hp}/removeAll`),nD=_o(hr(`${hp}/remove`),{withTypes:()=>nD}),z7=(...e)=>{console.error(`${hp}/error`,...e)},du=(e={})=>{const t=new Map,n=new Map,r=y=>{const w=n.get(y)??0;n.set(y,w+1)},i=y=>{const w=n.get(y)??1;w===1?n.delete(y):n.set(y,w-1)},{extra:s,onError:o=z7}=e;Iw(o);const c=y=>(y.unsubscribe=()=>t.delete(y.id),t.set(y.id,y),w=>{y.unsubscribe(),w!=null&&w.cancelActive&&kx(y)}),u=y=>{const w=FE(t,y)??eD(y);return c(w)};_o(u,{withTypes:()=>u});const h=y=>{const w=FE(t,y);return w&&(w.unsubscribe(),y.cancelActive&&kx(w)),!!w};_o(h,{withTypes:()=>h});const p=async(y,w,C,_)=>{const k=new AbortController,I=L7(u,k.signal),E=[];try{y.pending.add(k),r(y),await Promise.resolve(y.effect(w,_o({},C,{getOriginalState:_,condition:(j,P)=>I(j,P).then(Boolean),take:I,delay:JO(k.signal),pause:oh(k.signal),extra:s,signal:k.signal,fork:M7(k.signal,E),unsubscribe:y.unsubscribe,subscribe:()=>{t.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((j,P,A)=>{j!==k&&(la(j,Cx),A.delete(j))})},cancel:()=>{la(k,Cx),y.pending.delete(k)},throwIfCancelled:()=>{ca(k.signal)}})))}catch(j){j instanceof fp||$E(o,j,{raisedBy:"effect"})}finally{await Promise.all(E),la(k,D7),i(y),y.pending.delete(k)}},m=F7(t,n);return{middleware:y=>w=>C=>{if(!DO(C))return w(C);if(tD.match(C))return u(C.payload);if($7.match(C)){m();return}if(nD.match(C))return h(C.payload);let _=y.getState();const k=()=>{if(_===LE)throw new Error(Gn(23));return _};let I;try{if(I=w(C),t.size>0){const E=y.getState(),j=Array.from(t.values());for(const P of j){let A=!1;try{A=P.predicate(C,E,_)}catch(z){A=!1,$E(o,z,{raisedBy:"predicate"})}A&&p(P,C,y,k)}}}finally{_=LE}return I},startListening:u,stopListening:h,clearListeners:m}};function Gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var U7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},rD=$n({name:"chartLayout",initialState:U7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,s;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:B7,setLayout:W7,setChartSize:q7,setScale:H7}=rD.actions,V7=rD.reducer;function iD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function zE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zE(Object(n),!0).forEach(function(r){K7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=Y7(e,"string");return typeof t=="symbol"?t:t+""}function Y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vn(e,t,n){return Qt(e)||Qt(t)?n:Zr(t)?Oo(e,t,n):typeof t=="function"?t(e):n}var X7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&s!=="center"&&be(e[s]))return ho(ho({},e),{},{[s]:e[s]+(r||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&o!=="middle"&&be(e[o]))return ho(ho({},e),{},{[o]:e[o]+(i||0)})}return e},Ta=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sD=(e,t,n,r)=>{if(r)return e.map(c=>c.coordinate);var i,s,o=e.map(c=>(c.coordinate===t&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate));return i||o.push(t),s||o.push(n),o},aD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:h,tickCount:p,ticks:m,niceTicks:v,axisType:y}=e;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,C=i==="category"&&o.bandwidth?o.bandwidth()/w:0;if(C=y==="angleAxis"&&s&&s.length>=2?Ln(s[0]-s[1])*2*C:C,m||v){var _=(m||v||[]).map((k,I)=>{var E=r?r.indexOf(k):k;return{coordinate:o(E)+C,value:k,offset:C,index:I}});return _.filter(k=>!Rr(k.coordinate))}return u&&h?h.map((k,I)=>({coordinate:o(k)+C,value:k,index:I,offset:C})):o.ticks&&p!=null?o.ticks(p).map((k,I)=>({coordinate:o(k)+C,value:k,offset:C,index:I})):o.domain().map((k,I)=>({coordinate:o(k)+C,value:r?r[k]:k,index:I,offset:C}))},UE=1e-4,Q7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-UE,s=Math.max(r[0],r[1])+UE,o=e(t[0]),c=e(t[n-1]);(o<i||o>s||c<i||c>s)&&e.domain([t[0],t[n-1]])}},J7=(e,t)=>{if(!t||t.length!==2||!be(t[0])||!be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(i[0]=n),(!be(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},Z7=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,o=0;o<t;++o){var c=Rr(e[o][n][1])?e[o][n][0]:e[o][n][1];c>=0?(e[o][n][0]=i,e[o][n][1]=i+c,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+c,s=e[o][n][1])}},eK=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var o=Rr(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},tK={sign:Z7,expand:TV,none:Ao,silhouette:AV,wiggle:OV,positive:eK},nK=(e,t,n)=>{var r=tK[n],i=jV().keys(t).value((s,o)=>Number(vn(s,o,0))).order(mx).offset(r);return i(e)};function rK(e){return e==null?void 0:String(e)}var BE=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var c=vn(s,t.dataKey,t.scale.domain()[o]);return Qt(c)?null:t.scale(c)-i/2+r},iK=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},sK=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},aK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],oK=(e,t,n)=>{if(e!=null)return aK(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:o}=s,c=o.reduce((u,h)=>{var p=iD(h,t,n),m=sK(p);return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},WE=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qE=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lh=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=lp(t,p=>p.coordinate),s=1/0,o=1,c=i.length;o<c;o++){var u=i[o],h=i[o-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function HE(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return ho(ho({},t),{},{dataKey:n,payload:r,value:i,name:s})}function oD(e,t){if(e)return String(e);if(typeof t=="string")return t}var lK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},cK=(e,t)=>t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,Bi=e=>e.layout.height,uK=e=>e.layout.scale,lD=e=>e.layout.margin,pp=q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),mp=q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),dK="data-recharts-item-index",fK="data-recharts-item-data-key",fu=60;function VE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VE(Object(n),!0).forEach(function(r){hK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=mK(e,"string");return typeof t=="symbol"?t:t+""}function mK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gK=e=>e.brush.height;function vK(e){var t=mp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:fu;return n+i}return n},0)}function yK(e){var t=mp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:fu;return n+i}return n},0)}function xK(e){var t=pp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function wK(e){var t=pp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Zt=q([Ui,Bi,lD,gK,vK,yK,xK,wK,TO,G9],(e,t,n,r,i,s,o,c,u,h)=>{var p={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+o,bottom:(n.bottom||0)+c},v=Zd(Zd({},m),p),y=v.bottom;v.bottom+=r,v=X7(v,u,h);var w=e-v.left-v.right,C=t-v.top-v.bottom;return Zd(Zd({brushBottom:y},v),{},{width:Math.max(w,0),height:Math.max(C,0)})}),bK=q(Zt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Pw=q(Ui,Bi,(e,t)=>({x:0,y:0,width:e,height:t})),_K=b.createContext(null),zn=()=>b.useContext(_K)!=null,gp=e=>e.brush,vp=q([gp,Zt,lD],(e,t,n)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:be(e.width)?e.width:t.width})),ey={},ty={},ny={},KE;function SK(){return KE||(KE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,c=null;const u=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},m=()=>{h&&p(),C()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},C=()=>{w(),o=void 0,c=null},_=()=>{p()},k=function(...I){if(i!=null&&i.aborted)return;o=this,c=I;const E=v==null;y(),u&&E&&p()};return k.schedule=y,k.cancel=C,k.flush=_,i==null||i.addEventListener("abort",C,{once:!0}),k}e.debounce=t})(ny)),ny}var GE;function CK(){return GE||(GE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:c=!0,maxWait:u}=s,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let p,m=null;const v=t.debounce(function(...C){p=r.apply(this,C),m=null},i,{edges:h}),y=function(...C){return u!=null&&(m===null&&(m=Date.now()),Date.now()-m>=u)?(p=r.apply(this,C),m=Date.now(),v.cancel(),v.schedule(),p):(v.apply(this,C),p)},w=()=>(v.flush(),p);return y.cancel=v.cancel,y.flush=w,y}e.debounce=n})(ty)),ty}var YE;function kK(){return YE||(YE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CK();function n(r,i=0,s={}){const{leading:o=!0,trailing:c=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:c})}e.throttle=n})(ey)),ey}var ry,XE;function EK(){return XE||(XE=1,ry=kK().throttle),ry}var NK=EK();const IK=ni(NK);var ch=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(n.replace(/%s/g,()=>i[o++]))}},cD=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,c=Oi(r)?e:Number(r),u=Oi(i)?t:Number(i);return s&&s>0&&(c?u=c/s:u&&(c=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},PK={width:0,height:0,overflow:"visible"},jK={width:0,overflowX:"visible"},TK={height:0,overflowY:"visible"},AK={},OK=e=>{var{width:t,height:n}=e,r=Oi(t),i=Oi(n);return r&&i?PK:r?jK:i?TK:AK};function DK(e){var{width:t,height:n,aspect:r}=e,i=t,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function Ct(e){return Number.isFinite(e)}function ei(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ex.apply(null,arguments)}function QE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QE(Object(n),!0).forEach(function(r){RK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RK(e,t,n){return(t=MK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MK(e){var t=LK(e,"string");return typeof t=="symbol"?t:t+""}function LK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uD=b.createContext({width:-1,height:-1});function FK(e){return ei(e.width)&&ei(e.height)}function dD(e){var{children:t,width:n,height:r}=e,i=b.useMemo(()=>({width:n,height:r}),[n,r]);return FK(i)?b.createElement(uD.Provider,{value:i},t):null}var jw=()=>b.useContext(uD),$K=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:c,maxHeight:u,children:h,debounce:p=0,id:m,className:v,onResize:y,style:w={}}=e,C=b.useRef(null),_=b.useRef();_.current=y,b.useImperativeHandle(t,()=>C.current);var[k,I]=b.useState({containerWidth:r.width,containerHeight:r.height}),E=b.useCallback((W,Y)=>{I(oe=>{var M=Math.round(W),H=Math.round(Y);return oe.containerWidth===M&&oe.containerHeight===H?oe:{containerWidth:M,containerHeight:H}})},[]);b.useEffect(()=>{if(C.current==null||typeof ResizeObserver>"u")return cu;var W=H=>{var se,{width:ye,height:G}=H[0].contentRect;E(ye,G),(se=_.current)===null||se===void 0||se.call(_,ye,G)};p>0&&(W=IK(W,p,{trailing:!0,leading:!1}));var Y=new ResizeObserver(W),{width:oe,height:M}=C.current.getBoundingClientRect();return E(oe,M),Y.observe(C.current),()=>{Y.disconnect()}},[E,p]);var{containerWidth:j,containerHeight:P}=k;ch(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:A,calculatedHeight:z}=cD(j,P,{width:i,height:s,aspect:n,maxHeight:u});return ch(A!=null&&A>0||z!=null&&z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,z,i,s,o,c,n),b.createElement("div",{id:m?"".concat(m):void 0,className:it("recharts-responsive-container",v),style:JE(JE({},w),{},{width:i,height:s,minWidth:o,minHeight:c,maxHeight:u}),ref:C},b.createElement("div",{style:OK({width:i,height:s})},b.createElement(dD,{width:A,height:z},h)))}),zK=b.forwardRef((e,t)=>{var n=jw();if(ei(n.width)&&ei(n.height))return e.children;var{width:r,height:i}=DK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=cD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(s)&&be(o)?b.createElement(dD,{width:s,height:o},e.children):b.createElement($K,Ex({},e,{width:r,height:i,ref:t}))});function fD(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var yp=()=>{var e,t=zn(),n=Ce(bK),r=Ce(vp),i=(e=Ce(gp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},UK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},hD=()=>{var e;return(e=Ce(Zt))!==null&&e!==void 0?e:UK},pD=()=>Ce(Ui),mD=()=>Ce(Bi),Ye=e=>e.layout.layoutType,xp=()=>Ce(Ye),BK=()=>{var e=xp();return e!==void 0},wp=e=>{var t=kt(),n=zn(),{width:r,height:i}=e,s=jw(),o=r,c=i;return s&&(o=s.width>0?s.width:r,c=s.height>0?s.height:i),b.useEffect(()=>{!n&&ei(o)&&ei(c)&&t(q7({width:o,height:c}))},[t,n,o,c]),null},WK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gD=$n({name:"legend",initialState:WK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ct()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Tr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:ct()},removeLegendPayload:{reducer(e,t){var n=Tr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:ct()}}}),{setLegendSize:Coe,setLegendSettings:koe,addLegendPayload:qK,replaceLegendPayload:HK,removeLegendPayload:VK}=gD.actions,KK=gD.reducer;function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nx.apply(null,arguments)}function ZE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZE(Object(n),!0).forEach(function(r){GK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GK(e,t,n){return(t=YK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YK(e){var t=XK(e,"string");return typeof t=="symbol"?t:t+""}function XK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QK(e){return Array.isArray(e)&&Zr(e[0])&&Zr(e[1])?e.join(" ~ "):e}var JK=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:h,label:p,labelFormatter:m,accessibilityLayer:v=!1}=e,y=()=>{if(s&&s.length){var P={padding:0,margin:0},A=(c?lp(s,c):s).map((z,W)=>{if(z.type==="none")return null;var Y=z.formatter||o||QK,{value:oe,name:M}=z,H=oe,se=M;if(Y){var ye=Y(oe,M,z,W,s);if(Array.isArray(ye))[H,se]=ye;else if(ye!=null)H=ye;else return null}var G=iy({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},Zr(se)?b.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Zr(se)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},H),b.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:P},A)}return null},w=iy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=iy({margin:0},i),_=!Qt(p),k=_?p:"",I=it("recharts-default-tooltip",u),E=it("recharts-tooltip-label",h);_&&m&&s!==void 0&&s!==null&&(k=m(p,s));var j=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Nx({className:I,style:w},j),b.createElement("p",{className:E,style:C},b.isValidElement(k)?k:"".concat(k)),y())},sc="recharts-tooltip-wrapper",ZK={visibility:"hidden"};function eG(e){var{coordinate:t,translateX:n,translateY:r}=e;return it(sc,{["".concat(sc,"-right")]:be(n)&&t&&be(t.x)&&n>=t.x,["".concat(sc,"-left")]:be(n)&&t&&be(t.x)&&n<t.x,["".concat(sc,"-bottom")]:be(r)&&t&&be(t.y)&&r>=t.y,["".concat(sc,"-top")]:be(r)&&t&&be(t.y)&&r<t.y})}function eN(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:h}=e;if(s&&be(s[r]))return s[r];var p=n[r]-c-(i>0?i:0),m=n[r]+i;if(t[r])return o[r]?p:m;var v=u[r];if(v==null)return 0;if(o[r]){var y=p,w=v;return y<w?Math.max(m,v):Math.max(p,v)}if(h==null)return 0;var C=m+c,_=v+h;return C>_?Math.max(p,v):Math.max(m,v)}function tG(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function nG(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=e,h,p,m;return o.height>0&&o.width>0&&n?(p=eN({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),m=eN({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=tG({translateX:p,translateY:m,useTranslate3d:c})):h=ZK,{cssProperties:h,cssClasses:eG({translateX:p,translateY:m,coordinate:n})}}function tN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ef(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(n),!0).forEach(function(r){Ix(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ix(e,t,n){return(t=rG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rG(e){var t=iG(e,"string");return typeof t=="symbol"?t:t+""}function iG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class sG extends b.PureComponent{constructor(){super(...arguments),Ix(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ix(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:c,isAnimationActive:u,offset:h,position:p,reverseDirection:m,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:C,innerRef:_,hasPortalFromProps:k}=this.props,{cssClasses:I,cssProperties:E}=nG({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:p,reverseDirection:m,tooltipBox:{height:C.height,width:C.width},useTranslate3d:v,viewBox:y}),j=k?{}:ef(ef({transition:u&&t?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=ef(ef({},j),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},w);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:I,style:P,ref:_},s)}}var aG=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),tl={devToolsEnabled:!1,isSsr:aG()},vD=()=>{var e;return(e=Ce(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Px.apply(null,arguments)}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(r){oG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oG(e,t,n){return(t=lG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iN={curveBasisClosed:xV,curveBasisOpen:wV,curveBasis:yV,curveBumpX:iV,curveBumpY:sV,curveLinearClosed:bV,curveLinear:ap,curveMonotoneX:_V,curveMonotoneY:SV,curveNatural:CV,curveStep:kV,curveStepAfter:NV,curveStepBefore:EV},uh=e=>Ct(e.x)&&Ct(e.y),sN=e=>e.base!=null&&uh(e.base)&&uh(e),ac=e=>e.x,oc=e=>e.y,uG=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(lu(e));return(n==="curveMonotone"||n==="curveBump")&&t?iN["".concat(n).concat(t==="vertical"?"Y":"X")]:iN[n]||ap},dG=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,o=uG(t,i),c=s?n.filter(uh):n,u;if(Array.isArray(r)){var h=n.map((y,w)=>rN(rN({},y),{},{base:r[w]}));i==="vertical"?u=Kd().y(oc).x1(ac).x0(y=>y.base.x):u=Kd().x(ac).y1(oc).y0(y=>y.base.y);var p=u.defined(sN).curve(o),m=s?h.filter(sN):h;return p(m)}i==="vertical"&&be(r)?u=Kd().y(oc).x1(ac).x0(r):be(r)?u=Kd().x(ac).y1(oc).y0(r):u=rO().x(ac).y(oc);var v=u.defined(uh).curve(o);return v(c)},yD=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?dG(e):r;return b.createElement("path",Px({},Ti(e),QV(e),{className:it("recharts-curve",t),d:s===null?void 0:s,ref:i}))},fG=["x","y","top","left","width","height","className"];function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jx.apply(null,arguments)}function aN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(n),!0).forEach(function(r){pG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pG(e,t,n){return(t=mG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e,t){if(e==null)return{};var n,r,i=yG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xG=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),wG=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:c}=e,u=vG(e,fG),h=hG({x:t,y:n,top:r,left:i,width:s,height:o},u);return!be(t)||!be(n)||!be(s)||!be(o)||!be(r)||!be(i)?null:b.createElement("path",jx({},fr(h),{className:it("recharts-cross",c),d:xG(t,n,s,o,r,i)}))};function bG(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function oN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(n),!0).forEach(function(r){_G(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _G(e,t,n){return(t=SG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SG(e){var t=CG(e,"string");return typeof t=="symbol"?t:t+""}function CG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xD=(e,t,n)=>e.map(r=>"".concat(kG(r)," ").concat(t,"ms ").concat(n)).join(","),EG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),qc=(e,t)=>Object.keys(t).reduce((n,r)=>lN(lN({},n),{},{[r]:e(r,t[r])}),{});function cN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(n),!0).forEach(function(r){NG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NG(e,t,n){return(t=IG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IG(e){var t=PG(e,"string");return typeof t=="symbol"?t:t+""}function PG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=(e,t,n)=>e+(t-e)*n,Tx=e=>{var{from:t,to:n}=e;return t!==n},wD=(e,t,n)=>{var r=qc((i,s)=>{if(Tx(s)){var[o,c]=e(s.from,s.to,s.velocity);return Ot(Ot({},s),{},{from:o,velocity:c})}return s},t);return n<1?qc((i,s)=>Tx(s)?Ot(Ot({},s),{},{velocity:dh(s.velocity,r[i].velocity,n),from:dh(s.from,r[i].from,n)}):s,t):wD(e,r,n-1)};function jG(e,t,n,r,i,s){var o,c=r.reduce((v,y)=>Ot(Ot({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),u=()=>qc((v,y)=>y.from,c),h=()=>!Object.values(c).filter(Tx).length,p=null,m=v=>{o||(o=v);var y=v-o,w=y/n.dt;c=wD(n,c,w),i(Ot(Ot(Ot({},e),t),u())),o=v,h()||(p=s.setTimeout(m))};return()=>(p=s.setTimeout(m),()=>{var v;(v=p)===null||v===void 0||v()})}function TG(e,t,n,r,i,s,o){var c=null,u=i.reduce((m,v)=>Ot(Ot({},m),{},{[v]:[e[v],t[v]]}),{}),h,p=m=>{h||(h=m);var v=(m-h)/r,y=qc((C,_)=>dh(..._,n(v)),u);if(s(Ot(Ot(Ot({},e),t),y)),v<1)c=o.setTimeout(p);else{var w=qc((C,_)=>dh(..._,n(1)),u);s(Ot(Ot(Ot({},e),t),w))}};return()=>(c=o.setTimeout(p),()=>{var m;(m=c)===null||m===void 0||m()})}const AG=(e,t,n,r,i,s)=>{var o=EG(e,t);return n==null?()=>(i(Ot(Ot({},e),t)),()=>{}):n.isStepper===!0?jG(e,t,n,o,i,s):TG(e,t,n,r,o,i,s)};var fh=1e-4,bD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_D=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),uN=(e,t)=>n=>{var r=bD(e,t);return _D(r,n)},OG=(e,t)=>n=>{var r=bD(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return _D(i,n)},DG=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},RG=(e,t,n,r)=>{var i=uN(e,n),s=uN(t,r),o=OG(e,n),c=h=>h>1?1:h<0?0:h,u=h=>{for(var p=h>1?1:h,m=p,v=0;v<8;++v){var y=i(m)-p,w=o(m);if(Math.abs(y-p)<fh||w<fh)return s(m);m=c(m-y/w)}return s(m)};return u.isStepper=!1,u},dN=function(){return RG(...DG(...arguments))},MG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,c,u)=>{var h=-(o-c)*n,p=u*r,m=u+(h-p)*i/1e3,v=u*i/1e3+o;return Math.abs(v-c)<fh&&Math.abs(m)<fh?[c,0]:[v,m]};return s.isStepper=!0,s.dt=i,s},LG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dN(e);case"spring":return MG();default:if(e.split("(")[0]==="cubic-bezier")return dN(e)}return typeof e=="function"?e:null};function FG(e){var t,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...h]=c;if(typeof u=="number"){i=e.setTimeout(s.bind(null,h),u);return}s(u),i=e.setTimeout(s.bind(null,h));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class $G{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function zG(){return FG(new $G)}var UG=b.createContext(zG);function BG(e,t){var n=b.useContext(UG);return b.useMemo(()=>t??n(e),[e,t,n])}var WG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fN={t:0},sy={t:1};function Tw(e){var t=Qn(e,WG),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:c,onAnimationStart:u,children:h}=t,p=n==="auto"?!tl.isSsr:n,m=BG(t.animationId,t.animationManager),[v,y]=b.useState(p?fN:sy),w=b.useRef(null);return b.useEffect(()=>{p||y(sy)},[p]),b.useEffect(()=>{if(!p||!r)return cu;var C=AG(fN,sy,LG(s),i,y,m.getTimeoutController()),_=()=>{w.current=C()};return m.start([u,o,_,i,c]),()=>{m.stop(),w.current&&w.current(),c()}},[p,r,i,s,o,u,c,m]),h(v.t)}function Aw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(zc(t)),r=b.useRef(e);return r.current!==e&&(n.current=zc(t),r.current=e),n.current}var qG=["radius"],HG=["radius"];function hN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(n),!0).forEach(function(r){VG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VG(e,t,n){return(t=KG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KG(e){var t=GG(e,"string");return typeof t=="symbol"?t:t+""}function GG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hh(){return hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(null,arguments)}function mN(e,t){if(e==null)return{};var n,r,i=YG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gN=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=i[m]>s?s:i[m];h="M".concat(e,",").concat(t+o*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(e+c*p[0],",").concat(t)),h+="L ".concat(e+n-c*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(t+o*p[1])),h+="L ".concat(e+n,",").concat(t+r-o*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(e+n-c*p[2],",").concat(t+r)),h+="L ".concat(e+c*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(t+r-o*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var y=Math.min(s,i);h="M ".concat(e,",").concat(t+o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+n-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(t+o*y,`
            L `).concat(e+n,",").concat(t+r-o*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(t+r,`
            L `).concat(e+c*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(t+r-o*y," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},vN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SD=e=>{var t=Qn(e,vN),n=b.useRef(null),[r,i]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:o,width:c,height:u,radius:h,className:p}=t,{animationEasing:m,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:C}=t,_=b.useRef(c),k=b.useRef(u),I=b.useRef(s),E=b.useRef(o),j=b.useMemo(()=>({x:s,y:o,width:c,height:u,radius:h}),[s,o,c,u,h]),P=Aw(j,"rectangle-");if(s!==+s||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var A=it("recharts-rectangle",p);if(!C){var z=fr(t),{radius:W}=z,Y=mN(z,qG);return b.createElement("path",hh({},Y,{radius:typeof h=="number"?h:void 0,className:A,d:gN(s,o,c,u,h)}))}var oe=_.current,M=k.current,H=I.current,se=E.current,ye="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),de=xD(["strokeDasharray"],v,typeof m=="string"?m:vN.animationEasing);return b.createElement(Tw,{animationId:P,key:P,canBegin:r>0,duration:v,easing:m,isActive:C,begin:y},le=>{var F=sn(oe,c,le),te=sn(M,u,le),B=sn(H,s,le),O=sn(se,o,le);n.current&&(_.current=F,k.current=te,I.current=B,E.current=O);var V;w?le>0?V={transition:de,strokeDasharray:G}:V={strokeDasharray:ye}:V={strokeDasharray:G};var ie=fr(t),{radius:ae}=ie,_e=mN(ie,HG);return b.createElement("path",hh({},_e,{radius:typeof h=="number"?h:void 0,className:A,d:gN(B,O,F,te,h),ref:n,style:pN(pN({},V),t.style)}))})};function yN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(n),!0).forEach(function(r){XG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XG(e,t,n){return(t=QG(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ph=Math.PI/180,ZG=e=>e*180/Math.PI,on=(e,t,n,r)=>({x:e+Math.cos(-ph*r)*n,y:t+Math.sin(-ph*r)*n}),eY=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},tY=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},nY=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=tY({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,u=Math.acos(c);return r>s&&(u=2*Math.PI-u),{radius:o,angle:ZG(u),angleInRadian:u}},rY=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},iY=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},sY=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:s}=nY({x:n,y:r},t),{innerRadius:o,outerRadius:c}=t;if(i<o||i>c||i===0)return null;var{startAngle:u,endAngle:h}=rY(t),p=s,m;if(u<=h){for(;p>h;)p-=360;for(;p<u;)p+=360;m=p>=u&&p<=h}else{for(;p>u;)p-=360;for(;p<h;)p+=360;m=p>=h&&p<=u}return m?xN(xN({},t),{},{radius:i,angle:iY(p,t)}):null};function CD(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,o=on(t,n,r,i),c=on(t,n,r,s);return{points:[o,c],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ax.apply(null,arguments)}var aY=(e,t)=>{var n=Ln(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},tf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:c,cornerIsExternal:u}=e,h=c*(o?1:-1)+r,p=Math.asin(c/h)/ph,m=u?i:i+s*p,v=on(t,n,h,m),y=on(t,n,r,m),w=u?i-s*p:i,C=on(t,n,h*Math.cos(p*ph),w);return{center:v,circleTangency:y,lineTangency:C,theta:p}},kD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=e,c=aY(s,o),u=s+c,h=on(t,n,i,s),p=on(t,n,i,u),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var v=on(t,n,r,s),y=on(t,n,r,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else m+="L ".concat(t,",").concat(n," Z");return m},oY=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:h}=e,p=Ln(h-u),{circleTangency:m,lineTangency:v,theta:y}=tf({cx:t,cy:n,radius:i,angle:u,sign:p,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:C,theta:_}=tf({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),k=c?Math.abs(u-h):Math.abs(u-h)-y-_;if(k<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):kD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:h});var I="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(p<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:j,theta:P}=tf({cx:t,cy:n,radius:r,angle:u,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:A,lineTangency:z,theta:W}=tf({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),Y=c?Math.abs(u-h):Math.abs(u-h)-P-W;if(Y<0&&s===0)return"".concat(I,"L").concat(t,",").concat(n,"Z");I+="L".concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(Y>180),",").concat(+(p>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(j.x,",").concat(j.y,"Z")}else I+="L".concat(t,",").concat(n,"Z");return I},lY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ED=e=>{var t=Qn(e,lY),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:p,className:m}=t;if(s<i||h===p)return null;var v=it("recharts-sector",m),y=s-i,w=Mr(o,y,0,!0),C;return w>0&&Math.abs(h-p)<360?C=oY({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(w,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:p}):C=kD({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),b.createElement("path",Ax({},fr(t),{className:v,d:C}))};function cY(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(yO(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:c}=t,u=on(r,i,s,c),h=on(r,i,o,c);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return CD(t)}}var ay={},oy={},ly={},wN;function uY(){return wN||(wN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(ly)),ly}var bN;function dY(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(oy)),oy}var _N;function fY(){return _N||(_N=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jO(),n=dY();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((s-i)/(o||1)),0),u=new Array(c);for(let h=0;h<c;h++)u[h]=i,i+=o;return u}e.range=r})(ay)),ay}var cy,SN;function hY(){return SN||(SN=1,cy=fY().range),cy}var pY=hY();const ND=ni(pY);function Es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mY(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ow(e){let t,n,r;e.length!==2?(t=Es,n=(c,u)=>Es(e(c),u),r=(c,u)=>e(c)-u):(t=e===Es||e===mY?e:gY,n=e,r=e);function i(c,u,h=0,p=c.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(c[m],u)<0?h=m+1:p=m}while(h<p)}return h}function s(c,u,h=0,p=c.length){if(h<p){if(t(u,u)!==0)return p;do{const m=h+p>>>1;n(c[m],u)<=0?h=m+1:p=m}while(h<p)}return h}function o(c,u,h=0,p=c.length){const m=i(c,u,h,p-1);return m>h&&r(c[m-1],u)>-r(c[m],u)?m-1:m}return{left:i,center:o,right:s}}function gY(){return 0}function ID(e){return e===null?NaN:+e}function*vY(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const yY=Ow(Es),hu=yY.right;Ow(ID).center;class CN extends Map{constructor(t,n=bY){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(kN(this,t))}has(t){return super.has(kN(this,t))}set(t,n){return super.set(xY(this,t),n)}delete(t){return super.delete(wY(this,t))}}function kN({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function xY({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function wY({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bY(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _Y(e=Es){if(e===Es)return PD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function PD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SY=Math.sqrt(50),CY=Math.sqrt(10),kY=Math.sqrt(2);function mh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=SY?10:s>=CY?5:s>=kY?2:1;let c,u,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(e*h),u=Math.round(t*h),c/h<e&&++c,u/h>t&&--u,h=-h):(h=Math.pow(10,i)*o,c=Math.round(e/h),u=Math.round(t/h),c*h<e&&++c,u*h>t&&--u),u<c&&.5<=n&&n<2?mh(e,t,n*2):[c,u,h]}function Ox(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?mh(t,e,n):mh(e,t,n);if(!(s>=i))return[];const c=s-i+1,u=new Array(c);if(r)if(o<0)for(let h=0;h<c;++h)u[h]=(s-h)/-o;else for(let h=0;h<c;++h)u[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)u[h]=(i+h)/-o;else for(let h=0;h<c;++h)u[h]=(i+h)*o;return u}function Dx(e,t,n){return t=+t,e=+e,n=+n,mh(e,t,n)[2]}function Rx(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Dx(t,e,n):Dx(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function EN(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function NN(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function jD(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?PD:_Y(i);r>n;){if(r-n>600){const u=r-n+1,h=t-n+1,p=Math.log(u),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(u-m)/u)*(h-u/2<0?-1:1),y=Math.max(n,Math.floor(t-h*m/u+v)),w=Math.min(r,Math.floor(t+(u-h)*m/u+v));jD(e,t,y,w,i)}const s=e[t];let o=n,c=r;for(lc(e,n,t),i(e[r],s)>0&&lc(e,n,r);o<c;){for(lc(e,o,c),++o,--c;i(e[o],s)<0;)++o;for(;i(e[c],s)>0;)--c}i(e[n],s)===0?lc(e,n,c):(++c,lc(e,c,r)),c<=t&&(n=c+1),t<=c&&(r=c-1)}return e}function lc(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function EY(e,t,n){if(e=Float64Array.from(vY(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return NN(e);if(t>=1)return EN(e);var r,i=(r-1)*t,s=Math.floor(i),o=EN(jD(e,s).subarray(0,s+1)),c=NN(e.subarray(s+1));return o+(c-o)*(i-s)}}function NY(e,t,n=ID){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),c=+n(e[s+1],s+1,e);return o+(c-o)*(i-s)}}function IY(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function mr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Mx=Symbol("implicit");function Dw(){var e=new CN,t=[],n=[],r=Mx;function i(s){let o=e.get(s);if(o===void 0){if(r!==Mx)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new CN;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Dw(t,n).unknown(r)},mr.apply(i,arguments),i}function Rw(){var e=Dw().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,c=!1,u=0,h=0,p=.5;delete e.unknown;function m(){var v=t().length,y=i<r,w=y?i:r,C=y?r:i;s=(C-w)/Math.max(1,v-u+h*2),c&&(s=Math.floor(s)),w+=(C-w-s*(v-u))*p,o=s*(1-u),c&&(w=Math.round(w),o=Math.round(o));var _=IY(v).map(function(k){return w+s*k});return n(y?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(v){return arguments.length?(c=!!v,m()):c},e.padding=function(v){return arguments.length?(u=Math.min(1,h=+v),m()):u},e.paddingInner=function(v){return arguments.length?(u=Math.min(1,v),m()):u},e.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},e.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},e.copy=function(){return Rw(t(),[r,i]).round(c).paddingInner(u).paddingOuter(h).align(p)},mr.apply(m(),arguments)}function TD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return TD(t())},e}function PY(){return TD(Rw.apply(null,arguments).paddingInner(1))}function Mw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function AD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pu(){}var Hc=.7,gh=1/Hc,So="\\s*([+-]?\\d+)\\s*",Vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jY=/^#([0-9a-f]{3,8})$/,TY=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),AY=new RegExp(`^rgb\\(${Qr},${Qr},${Qr}\\)$`),OY=new RegExp(`^rgba\\(${So},${So},${So},${Vc}\\)$`),DY=new RegExp(`^rgba\\(${Qr},${Qr},${Qr},${Vc}\\)$`),RY=new RegExp(`^hsl\\(${Vc},${Qr},${Qr}\\)$`),MY=new RegExp(`^hsla\\(${Vc},${Qr},${Qr},${Vc}\\)$`),IN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mw(pu,Kc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:PN,formatHex:PN,formatHex8:LY,formatHsl:FY,formatRgb:jN,toString:jN});function PN(){return this.rgb().formatHex()}function LY(){return this.rgb().formatHex8()}function FY(){return OD(this).formatHsl()}function jN(){return this.rgb().formatRgb()}function Kc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=jY.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TN(t):n===3?new Fn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?nf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?nf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TY.exec(e))?new Fn(t[1],t[2],t[3],1):(t=AY.exec(e))?new Fn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OY.exec(e))?nf(t[1],t[2],t[3],t[4]):(t=DY.exec(e))?nf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RY.exec(e))?DN(t[1],t[2]/100,t[3]/100,1):(t=MY.exec(e))?DN(t[1],t[2]/100,t[3]/100,t[4]):IN.hasOwnProperty(e)?TN(IN[e]):e==="transparent"?new Fn(NaN,NaN,NaN,0):null}function TN(e){return new Fn(e>>16&255,e>>8&255,e&255,1)}function nf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Fn(e,t,n,r)}function $Y(e){return e instanceof pu||(e=Kc(e)),e?(e=e.rgb(),new Fn(e.r,e.g,e.b,e.opacity)):new Fn}function Lx(e,t,n,r){return arguments.length===1?$Y(e):new Fn(e,t,n,r??1)}function Fn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Mw(Fn,Lx,AD(pu,{brighter(e){return e=e==null?gh:Math.pow(gh,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Fn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fn(ua(this.r),ua(this.g),ua(this.b),vh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AN,formatHex:AN,formatHex8:zY,formatRgb:ON,toString:ON}));function AN(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}`}function zY(){return`#${sa(this.r)}${sa(this.g)}${sa(this.b)}${sa((isNaN(this.opacity)?1:this.opacity)*255)}`}function ON(){const e=vh(this.opacity);return`${e===1?"rgb(":"rgba("}${ua(this.r)}, ${ua(this.g)}, ${ua(this.b)}${e===1?")":`, ${e})`}`}function vh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ua(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function sa(e){return e=ua(e),(e<16?"0":"")+e.toString(16)}function DN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Er(e,t,n,r)}function OD(e){if(e instanceof Er)return new Er(e.h,e.s,e.l,e.opacity);if(e instanceof pu||(e=Kc(e)),!e)return new Er;if(e instanceof Er)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,c=s-i,u=(s+i)/2;return c?(t===s?o=(n-r)/c+(n<r)*6:n===s?o=(r-t)/c+2:o=(t-n)/c+4,c/=u<.5?s+i:2-s-i,o*=60):c=u>0&&u<1?0:o,new Er(o,c,u,e.opacity)}function UY(e,t,n,r){return arguments.length===1?OD(e):new Er(e,t,n,r??1)}function Er(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Mw(Er,UY,AD(pu,{brighter(e){return e=e==null?gh:Math.pow(gh,e),new Er(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Hc:Math.pow(Hc,e),new Er(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Fn(uy(e>=240?e-240:e+120,i,r),uy(e,i,r),uy(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Er(RN(this.h),rf(this.s),rf(this.l),vh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vh(this.opacity);return`${e===1?"hsl(":"hsla("}${RN(this.h)}, ${rf(this.s)*100}%, ${rf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RN(e){return e=(e||0)%360,e<0?e+360:e}function rf(e){return Math.max(0,Math.min(1,e||0))}function uy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lw=e=>()=>e;function BY(e,t){return function(n){return e+n*t}}function WY(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function qY(e){return(e=+e)==1?DD:function(t,n){return n-t?WY(t,n,e):Lw(isNaN(t)?n:t)}}function DD(e,t){var n=t-e;return n?BY(e,n):Lw(isNaN(e)?t:e)}const MN=(function e(t){var n=qY(t);function r(i,s){var o=n((i=Lx(i)).r,(s=Lx(s)).r),c=n(i.g,s.g),u=n(i.b,s.b),h=DD(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=c(p),i.b=u(p),i.opacity=h(p),i+""}}return r.gamma=e,r})(1);function HY(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function VY(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function KY(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=nl(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(c){for(o=0;o<r;++o)s[o]=i[o](c);return s}}function GY(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function YY(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nl(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Fx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dy=new RegExp(Fx.source,"g");function XY(e){return function(){return e}}function QY(e){return function(t){return e(t)+""}}function JY(e,t){var n=Fx.lastIndex=dy.lastIndex=0,r,i,s,o=-1,c=[],u=[];for(e=e+"",t=t+"";(r=Fx.exec(e))&&(i=dy.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),c[o]?c[o]+=s:c[++o]=s),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,u.push({i:o,x:yh(r,i)})),n=dy.lastIndex;return n<t.length&&(s=t.slice(n),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?QY(u[0].x):XY(t):(t=u.length,function(h){for(var p=0,m;p<t;++p)c[(m=u[p]).i]=m.x(h);return c.join("")})}function nl(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lw(t):(n==="number"?yh:n==="string"?(r=Kc(t))?(t=r,MN):JY:t instanceof Kc?MN:t instanceof Date?GY:VY(t)?HY:Array.isArray(t)?KY:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YY:yh)(e,t)}function Fw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ZY(e,t){t===void 0&&(t=e,e=nl);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[c](o-c)}}function eX(e){return function(){return e}}function xh(e){return+e}var LN=[0,1];function bn(e){return e}function $x(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:eX(isNaN(t)?NaN:.5)}function tX(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function nX(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=$x(i,r),s=n(o,s)):(r=$x(r,i),s=n(s,o)),function(c){return s(r(c))}}function rX(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=$x(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(c){var u=hu(e,c,1,r)-1;return s[u](i[u](c))}}function mu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bp(){var e=LN,t=LN,n=nl,r,i,s,o=bn,c,u,h;function p(){var v=Math.min(e.length,t.length);return o!==bn&&(o=tX(e[0],e[v-1])),c=v>2?rX:nX,u=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(u||(u=c(e.map(r),t,n)))(r(o(v)))}return m.invert=function(v){return o(i((h||(h=c(t,e.map(r),yh)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,xh),p()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),p()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=Fw,p()},m.clamp=function(v){return arguments.length?(o=v?!0:bn,p()):o!==bn},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,y){return r=v,i=y,p()}}function $w(){return bp()(bn,bn)}function iX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wh(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Do(e){return e=wh(Math.abs(e)),e?e[1]:NaN}function sX(e,t){return function(n,r){for(var i=n.length,s=[],o=0,c=e[0],u=0;i>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),s.push(n.substring(i-=c,i+c)),!((u+=c+1)>r));)c=e[o=(o+1)%e.length];return s.reverse().join(t)}}function aX(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gc(e){if(!(t=oX.exec(e)))throw new Error("invalid format: "+e);var t;return new zw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gc.prototype=zw.prototype;function zw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lX(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var RD;function cX(e,t){var n=wh(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(RD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+wh(e,Math.max(0,t+s-1))[0]}function FN(e,t){var n=wh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $N={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>FN(e*100,t),r:FN,s:cX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function zN(e){return e}var UN=Array.prototype.map,BN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uX(e){var t=e.grouping===void 0||e.thousands===void 0?zN:sX(UN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?zN:aX(UN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function h(m){m=Gc(m);var v=m.fill,y=m.align,w=m.sign,C=m.symbol,_=m.zero,k=m.width,I=m.comma,E=m.precision,j=m.trim,P=m.type;P==="n"?(I=!0,P="g"):$N[P]||(E===void 0&&(E=12),j=!0,P="g"),(_||v==="0"&&y==="=")&&(_=!0,v="0",y="=");var A=C==="$"?n:C==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",z=C==="$"?r:/[%p]/.test(P)?o:"",W=$N[P],Y=/[defgprs%]/.test(P);E=E===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function oe(M){var H=A,se=z,ye,G,de;if(P==="c")se=W(M)+se,M="";else{M=+M;var le=M<0||1/M<0;if(M=isNaN(M)?u:W(Math.abs(M),E),j&&(M=lX(M)),le&&+M==0&&w!=="+"&&(le=!1),H=(le?w==="("?w:c:w==="-"||w==="("?"":w)+H,se=(P==="s"?BN[8+RD/3]:"")+se+(le&&w==="("?")":""),Y){for(ye=-1,G=M.length;++ye<G;)if(de=M.charCodeAt(ye),48>de||de>57){se=(de===46?i+M.slice(ye+1):M.slice(ye))+se,M=M.slice(0,ye);break}}}I&&!_&&(M=t(M,1/0));var F=H.length+M.length+se.length,te=F<k?new Array(k-F+1).join(v):"";switch(I&&_&&(M=t(te+M,te.length?k-se.length:1/0),te=""),y){case"<":M=H+M+se+te;break;case"=":M=H+te+M+se;break;case"^":M=te.slice(0,F=te.length>>1)+H+M+se+te.slice(F);break;default:M=te+H+M+se;break}return s(M)}return oe.toString=function(){return m+""},oe}function p(m,v){var y=h((m=Gc(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(Do(v)/3)))*3,C=Math.pow(10,-w),_=BN[8+w/3];return function(k){return y(C*k)+_}}return{format:h,formatPrefix:p}}var sf,Uw,MD;dX({thousands:",",grouping:[3],currency:["$",""]});function dX(e){return sf=uX(e),Uw=sf.format,MD=sf.formatPrefix,sf}function fX(e){return Math.max(0,-Do(Math.abs(e)))}function hX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Do(t)/3)))*3-Do(Math.abs(e)))}function pX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Do(t)-Do(e))+1}function LD(e,t,n,r){var i=Rx(e,t,n),s;switch(r=Gc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=hX(i,o))&&(r.precision=s),MD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=pX(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fX(i))&&(r.precision=s-(r.type==="%")*2);break}}return Uw(r)}function Ds(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ox(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return LD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],c=r[s],u,h,p=10;for(c<o&&(h=o,o=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=Dx(o,c,n),h===u)return r[i]=o,r[s]=c,t(r);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;u=h}return e},e}function FD(){var e=$w();return e.copy=function(){return mu(e,FD())},mr.apply(e,arguments),Ds(e)}function $D(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return $D(e).unknown(t)},e=arguments.length?Array.from(e,xh):[0,1],Ds(n)}function zD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function WN(e){return Math.log(e)}function qN(e){return Math.exp(e)}function mX(e){return-Math.log(-e)}function gX(e){return-Math.exp(-e)}function vX(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yX(e){return e===10?vX:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xX(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function HN(e){return(t,n)=>-e(-t,n)}function Bw(e){const t=e(WN,qN),n=t.domain;let r=10,i,s;function o(){return i=xX(r),s=yX(r),n()[0]<0?(i=HN(i),s=HN(s),e(mX,gX)):e(WN,qN),t}return t.base=function(c){return arguments.length?(r=+c,o()):r},t.domain=function(c){return arguments.length?(n(c),o()):n()},t.ticks=c=>{const u=n();let h=u[0],p=u[u.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),y=i(p),w,C;const _=c==null?10:+c;let k=[];if(!(r%1)&&y-v<_){if(v=Math.floor(v),y=Math.ceil(y),h>0){for(;v<=y;++v)for(w=1;w<r;++w)if(C=v<0?w/s(-v):w*s(v),!(C<h)){if(C>p)break;k.push(C)}}else for(;v<=y;++v)for(w=r-1;w>=1;--w)if(C=v>0?w/s(-v):w*s(v),!(C<h)){if(C>p)break;k.push(C)}k.length*2<_&&(k=Ox(h,p,_))}else k=Ox(v,y,Math.min(y-v,_)).map(s);return m?k.reverse():k},t.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Gc(u)).precision==null&&(u.trim=!0),u=Uw(u)),c===1/0)return u;const h=Math.max(1,r*c/t.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?u(p):""}},t.nice=()=>n(zD(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),t}function UD(){const e=Bw(bp()).domain([1,10]);return e.copy=()=>mu(e,UD()).base(e.base()),mr.apply(e,arguments),e}function VN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function KN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ww(e){var t=1,n=e(VN(t),KN(t));return n.constant=function(r){return arguments.length?e(VN(t=+r),KN(t)):t},Ds(n)}function BD(){var e=Ww(bp());return e.copy=function(){return mu(e,BD()).constant(e.constant())},mr.apply(e,arguments)}function GN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wX(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bX(e){return e<0?-e*e:e*e}function qw(e){var t=e(bn,bn),n=1;function r(){return n===1?e(bn,bn):n===.5?e(wX,bX):e(GN(n),GN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ds(t)}function Hw(){var e=qw(bp());return e.copy=function(){return mu(e,Hw()).exponent(e.exponent())},mr.apply(e,arguments),e}function _X(){return Hw.apply(null,arguments).exponent(.5)}function YN(e){return Math.sign(e)*e*e}function SX(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WD(){var e=$w(),t=[0,1],n=!1,r;function i(s){var o=SX(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(YN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,xh)).map(YN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return WD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},mr.apply(i,arguments),Ds(i)}function qD(){var e=[],t=[],n=[],r;function i(){var o=0,c=Math.max(1,t.length);for(n=new Array(c-1);++o<c;)n[o-1]=NY(e,o/c);return s}function s(o){return o==null||isNaN(o=+o)?r:t[hu(n,o)]}return s.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:e[0],c<n.length?n[c]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Es),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return qD().domain(e).range(t).unknown(r)},mr.apply(s,arguments)}function HD(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(u){return u!=null&&u<=u?i[hu(r,u,0,n)]:s}function c(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return o}return o.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,c()):[e,t]},o.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,c()):i.slice()},o.invertExtent=function(u){var h=i.indexOf(u);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return r.slice()},o.copy=function(){return HD().domain([e,t]).range(i).unknown(s)},mr.apply(Ds(o),arguments)}function VD(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[hu(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return VD().domain(e).range(t).unknown(n)},mr.apply(i,arguments)}const fy=new Date,hy=new Date;function Lt(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),c=i.ceil(s);return s-o<c-s?o:c},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,c)=>{const u=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return u;let h;do u.push(h=new Date(+s)),t(s,c),e(s);while(h<s&&s<o);return u},i.filter=s=>Lt(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!s(o););else for(;--c>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(fy.setTime(+s),hy.setTime(+o),e(fy),e(hy),Math.floor(n(fy,hy))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const bh=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bh);bh.range;const wi=1e3,cr=wi*60,bi=cr*60,Ri=bi*24,Vw=Ri*7,XN=Ri*30,py=Ri*365,aa=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());aa.range;const Kw=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getMinutes());Kw.range;const Gw=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cr)},(e,t)=>(t-e)/cr,e=>e.getUTCMinutes());Gw.range;const Yw=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*cr)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getHours());Yw.range;const Xw=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCHours());Xw.range;const gu=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cr)/Ri,e=>e.getDate()-1);gu.range;const _p=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);_p.range;const KD=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));KD.range;function Aa(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*cr)/Vw)}const Sp=Aa(0),_h=Aa(1),CX=Aa(2),kX=Aa(3),Ro=Aa(4),EX=Aa(5),NX=Aa(6);Sp.range;_h.range;CX.range;kX.range;Ro.range;EX.range;NX.range;function Oa(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vw)}const Cp=Oa(0),Sh=Oa(1),IX=Oa(2),PX=Oa(3),Mo=Oa(4),jX=Oa(5),TX=Oa(6);Cp.range;Sh.range;IX.range;PX.range;Mo.range;jX.range;TX.range;const Qw=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qw.range;const Jw=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Jw.range;const Mi=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Mi.range;const Li=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Li.range;function GD(e,t,n,r,i,s){const o=[[aa,1,wi],[aa,5,5*wi],[aa,15,15*wi],[aa,30,30*wi],[s,1,cr],[s,5,5*cr],[s,15,15*cr],[s,30,30*cr],[i,1,bi],[i,3,3*bi],[i,6,6*bi],[i,12,12*bi],[r,1,Ri],[r,2,2*Ri],[n,1,Vw],[t,1,XN],[t,3,3*XN],[e,1,py]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const y=m&&typeof m.range=="function"?m:u(h,p,m),w=y?y.range(h,+p+1):[];return v?w.reverse():w}function u(h,p,m){const v=Math.abs(p-h)/m,y=Ow(([,,_])=>_).right(o,v);if(y===o.length)return e.every(Rx(h/py,p/py,m));if(y===0)return bh.every(Math.max(Rx(h,p,m),1));const[w,C]=o[v/o[y-1][2]<o[y][2]/v?y-1:y];return w.every(C)}return[c,u]}const[AX,OX]=GD(Li,Jw,Cp,KD,Xw,Gw),[DX,RX]=GD(Mi,Qw,Sp,gu,Yw,Kw);function my(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function cc(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function MX(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,c=e.months,u=e.shortMonths,h=uc(i),p=dc(i),m=uc(s),v=dc(s),y=uc(o),w=dc(o),C=uc(c),_=dc(c),k=uc(u),I=dc(u),E={a:le,A:F,b:te,B,c:null,d:nI,e:nI,f:sQ,g:mQ,G:vQ,H:nQ,I:rQ,j:iQ,L:YD,m:aQ,M:oQ,p:O,q:V,Q:sI,s:aI,S:lQ,u:cQ,U:uQ,V:dQ,w:fQ,W:hQ,x:null,X:null,y:pQ,Y:gQ,Z:yQ,"%":iI},j={a:ie,A:ae,b:_e,B:Ie,c:null,d:rI,e:rI,f:_Q,g:AQ,G:DQ,H:xQ,I:wQ,j:bQ,L:QD,m:SQ,M:CQ,p:ce,q:Le,Q:sI,s:aI,S:kQ,u:EQ,U:NQ,V:IQ,w:PQ,W:jQ,x:null,X:null,y:TQ,Y:OQ,Z:RQ,"%":iI},P={a:oe,A:M,b:H,B:se,c:ye,d:eI,e:eI,f:JX,g:ZN,G:JN,H:tI,I:tI,j:GX,L:QX,m:KX,M:YX,p:Y,q:VX,Q:eQ,s:tQ,S:XX,u:UX,U:BX,V:WX,w:zX,W:qX,x:G,X:de,y:ZN,Y:JN,Z:HX,"%":ZX};E.x=A(n,E),E.X=A(r,E),E.c=A(t,E),j.x=A(n,j),j.X=A(r,j),j.c=A(t,j);function A(K,Se){return function(Te){var Z=[],Pt=-1,He=0,cn=K.length,un,gr,ul;for(Te instanceof Date||(Te=new Date(+Te));++Pt<cn;)K.charCodeAt(Pt)===37&&(Z.push(K.slice(He,Pt)),(gr=QN[un=K.charAt(++Pt)])!=null?un=K.charAt(++Pt):gr=un==="e"?" ":"0",(ul=Se[un])&&(un=ul(Te,gr)),Z.push(un),He=Pt+1);return Z.push(K.slice(He,Pt)),Z.join("")}}function z(K,Se){return function(Te){var Z=cc(1900,void 0,1),Pt=W(Z,K,Te+="",0),He,cn;if(Pt!=Te.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Se&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(He=gy(cc(Z.y,0,1)),cn=He.getUTCDay(),He=cn>4||cn===0?Sh.ceil(He):Sh(He),He=_p.offset(He,(Z.V-1)*7),Z.y=He.getUTCFullYear(),Z.m=He.getUTCMonth(),Z.d=He.getUTCDate()+(Z.w+6)%7):(He=my(cc(Z.y,0,1)),cn=He.getDay(),He=cn>4||cn===0?_h.ceil(He):_h(He),He=gu.offset(He,(Z.V-1)*7),Z.y=He.getFullYear(),Z.m=He.getMonth(),Z.d=He.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),cn="Z"in Z?gy(cc(Z.y,0,1)).getUTCDay():my(cc(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(cn+5)%7:Z.w+Z.U*7-(cn+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,gy(Z)):my(Z)}}function W(K,Se,Te,Z){for(var Pt=0,He=Se.length,cn=Te.length,un,gr;Pt<He;){if(Z>=cn)return-1;if(un=Se.charCodeAt(Pt++),un===37){if(un=Se.charAt(Pt++),gr=P[un in QN?Se.charAt(Pt++):un],!gr||(Z=gr(K,Te,Z))<0)return-1}else if(un!=Te.charCodeAt(Z++))return-1}return Z}function Y(K,Se,Te){var Z=h.exec(Se.slice(Te));return Z?(K.p=p.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function oe(K,Se,Te){var Z=y.exec(Se.slice(Te));return Z?(K.w=w.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function M(K,Se,Te){var Z=m.exec(Se.slice(Te));return Z?(K.w=v.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function H(K,Se,Te){var Z=k.exec(Se.slice(Te));return Z?(K.m=I.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function se(K,Se,Te){var Z=C.exec(Se.slice(Te));return Z?(K.m=_.get(Z[0].toLowerCase()),Te+Z[0].length):-1}function ye(K,Se,Te){return W(K,t,Se,Te)}function G(K,Se,Te){return W(K,n,Se,Te)}function de(K,Se,Te){return W(K,r,Se,Te)}function le(K){return o[K.getDay()]}function F(K){return s[K.getDay()]}function te(K){return u[K.getMonth()]}function B(K){return c[K.getMonth()]}function O(K){return i[+(K.getHours()>=12)]}function V(K){return 1+~~(K.getMonth()/3)}function ie(K){return o[K.getUTCDay()]}function ae(K){return s[K.getUTCDay()]}function _e(K){return u[K.getUTCMonth()]}function Ie(K){return c[K.getUTCMonth()]}function ce(K){return i[+(K.getUTCHours()>=12)]}function Le(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var Se=A(K+="",E);return Se.toString=function(){return K},Se},parse:function(K){var Se=z(K+="",!1);return Se.toString=function(){return K},Se},utcFormat:function(K){var Se=A(K+="",j);return Se.toString=function(){return K},Se},utcParse:function(K){var Se=z(K+="",!0);return Se.toString=function(){return K},Se}}}var QN={"-":"",_:" ",0:"0"},en=/^\s*\d+/,LX=/^%/,FX=/[\\^$*+?|[\]().{}]/g;function We(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function $X(e){return e.replace(FX,"\\$&")}function uc(e){return new RegExp("^(?:"+e.map($X).join("|")+")","i")}function dc(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function zX(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function UX(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function BX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function WX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function qX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function JN(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ZN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HX(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function VX(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function KX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function eI(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function GX(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function tI(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function YX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function XX(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function QX(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function JX(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZX(e,t,n){var r=LX.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function eQ(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function nI(e,t){return We(e.getDate(),t,2)}function nQ(e,t){return We(e.getHours(),t,2)}function rQ(e,t){return We(e.getHours()%12||12,t,2)}function iQ(e,t){return We(1+gu.count(Mi(e),e),t,3)}function YD(e,t){return We(e.getMilliseconds(),t,3)}function sQ(e,t){return YD(e,t)+"000"}function aQ(e,t){return We(e.getMonth()+1,t,2)}function oQ(e,t){return We(e.getMinutes(),t,2)}function lQ(e,t){return We(e.getSeconds(),t,2)}function cQ(e){var t=e.getDay();return t===0?7:t}function uQ(e,t){return We(Sp.count(Mi(e)-1,e),t,2)}function XD(e){var t=e.getDay();return t>=4||t===0?Ro(e):Ro.ceil(e)}function dQ(e,t){return e=XD(e),We(Ro.count(Mi(e),e)+(Mi(e).getDay()===4),t,2)}function fQ(e){return e.getDay()}function hQ(e,t){return We(_h.count(Mi(e)-1,e),t,2)}function pQ(e,t){return We(e.getFullYear()%100,t,2)}function mQ(e,t){return e=XD(e),We(e.getFullYear()%100,t,2)}function gQ(e,t){return We(e.getFullYear()%1e4,t,4)}function vQ(e,t){var n=e.getDay();return e=n>=4||n===0?Ro(e):Ro.ceil(e),We(e.getFullYear()%1e4,t,4)}function yQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function rI(e,t){return We(e.getUTCDate(),t,2)}function xQ(e,t){return We(e.getUTCHours(),t,2)}function wQ(e,t){return We(e.getUTCHours()%12||12,t,2)}function bQ(e,t){return We(1+_p.count(Li(e),e),t,3)}function QD(e,t){return We(e.getUTCMilliseconds(),t,3)}function _Q(e,t){return QD(e,t)+"000"}function SQ(e,t){return We(e.getUTCMonth()+1,t,2)}function CQ(e,t){return We(e.getUTCMinutes(),t,2)}function kQ(e,t){return We(e.getUTCSeconds(),t,2)}function EQ(e){var t=e.getUTCDay();return t===0?7:t}function NQ(e,t){return We(Cp.count(Li(e)-1,e),t,2)}function JD(e){var t=e.getUTCDay();return t>=4||t===0?Mo(e):Mo.ceil(e)}function IQ(e,t){return e=JD(e),We(Mo.count(Li(e),e)+(Li(e).getUTCDay()===4),t,2)}function PQ(e){return e.getUTCDay()}function jQ(e,t){return We(Sh.count(Li(e)-1,e),t,2)}function TQ(e,t){return We(e.getUTCFullYear()%100,t,2)}function AQ(e,t){return e=JD(e),We(e.getUTCFullYear()%100,t,2)}function OQ(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function DQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mo(e):Mo.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function RQ(){return"+0000"}function iI(){return"%"}function sI(e){return+e}function aI(e){return Math.floor(+e/1e3)}var oo,ZD,eR;MQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MQ(e){return oo=MX(e),ZD=oo.format,oo.parse,eR=oo.utcFormat,oo.utcParse,oo}function LQ(e){return new Date(e)}function FQ(e){return e instanceof Date?+e:+new Date(+e)}function Zw(e,t,n,r,i,s,o,c,u,h){var p=$w(),m=p.invert,v=p.domain,y=h(".%L"),w=h(":%S"),C=h("%I:%M"),_=h("%I %p"),k=h("%a %d"),I=h("%b %d"),E=h("%B"),j=h("%Y");function P(A){return(u(A)<A?y:c(A)<A?w:o(A)<A?C:s(A)<A?_:r(A)<A?i(A)<A?k:I:n(A)<A?E:j)(A)}return p.invert=function(A){return new Date(m(A))},p.domain=function(A){return arguments.length?v(Array.from(A,FQ)):v().map(LQ)},p.ticks=function(A){var z=v();return e(z[0],z[z.length-1],A??10)},p.tickFormat=function(A,z){return z==null?P:h(z)},p.nice=function(A){var z=v();return(!A||typeof A.range!="function")&&(A=t(z[0],z[z.length-1],A??10)),A?v(zD(z,A)):p},p.copy=function(){return mu(p,Zw(e,t,n,r,i,s,o,c,u,h))},p}function $Q(){return mr.apply(Zw(DX,RX,Mi,Qw,Sp,gu,Yw,Kw,aa,ZD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zQ(){return mr.apply(Zw(AX,OX,Li,Jw,Cp,_p,Xw,Gw,aa,eR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kp(){var e=0,t=1,n,r,i,s,o=bn,c=!1,u;function h(m){return m==null||isNaN(m=+m)?u:o(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t]=m,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(o=m,h):o};function p(m){return function(v){var y,w;return arguments.length?([y,w]=v,o=m(y,w),h):[o(0),o(1)]}}return h.range=p(nl),h.rangeRound=p(Fw),h.unknown=function(m){return arguments.length?(u=m,h):u},function(m){return s=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),h}}function Rs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tR(){var e=Ds(kp()(bn));return e.copy=function(){return Rs(e,tR())},Wi.apply(e,arguments)}function nR(){var e=Bw(kp()).domain([1,10]);return e.copy=function(){return Rs(e,nR()).base(e.base())},Wi.apply(e,arguments)}function rR(){var e=Ww(kp());return e.copy=function(){return Rs(e,rR()).constant(e.constant())},Wi.apply(e,arguments)}function eb(){var e=qw(kp());return e.copy=function(){return Rs(e,eb()).exponent(e.exponent())},Wi.apply(e,arguments)}function UQ(){return eb.apply(null,arguments).exponent(.5)}function iR(){var e=[],t=bn;function n(r){if(r!=null&&!isNaN(r=+r))return t((hu(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Es),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>EY(e,s/r))},n.copy=function(){return iR(t).domain(e)},Wi.apply(n,arguments)}function Ep(){var e=0,t=.5,n=1,r=1,i,s,o,c,u,h=bn,p,m=!1,v;function y(C){return isNaN(C=+C)?v:(C=.5+((C=+p(C))-s)*(r*C<r*s?c:u),h(m?Math.max(0,Math.min(1,C)):C))}y.domain=function(C){return arguments.length?([e,t,n]=C,i=p(e=+e),s=p(t=+t),o=p(n=+n),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y):[e,t,n]},y.clamp=function(C){return arguments.length?(m=!!C,y):m},y.interpolator=function(C){return arguments.length?(h=C,y):h};function w(C){return function(_){var k,I,E;return arguments.length?([k,I,E]=_,h=ZY(C,[k,I,E]),y):[h(0),h(.5),h(1)]}}return y.range=w(nl),y.rangeRound=w(Fw),y.unknown=function(C){return arguments.length?(v=C,y):v},function(C){return p=C,i=C(e),s=C(t),o=C(n),c=i===s?0:.5/(s-i),u=s===o?0:.5/(o-s),r=s<i?-1:1,y}}function sR(){var e=Ds(Ep()(bn));return e.copy=function(){return Rs(e,sR())},Wi.apply(e,arguments)}function aR(){var e=Bw(Ep()).domain([.1,1,10]);return e.copy=function(){return Rs(e,aR()).base(e.base())},Wi.apply(e,arguments)}function oR(){var e=Ww(Ep());return e.copy=function(){return Rs(e,oR()).constant(e.constant())},Wi.apply(e,arguments)}function tb(){var e=qw(Ep());return e.copy=function(){return Rs(e,tb()).exponent(e.exponent())},Wi.apply(e,arguments)}function BQ(){return tb.apply(null,arguments).exponent(.5)}const gc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rw,scaleDiverging:sR,scaleDivergingLog:aR,scaleDivergingPow:tb,scaleDivergingSqrt:BQ,scaleDivergingSymlog:oR,scaleIdentity:$D,scaleImplicit:Mx,scaleLinear:FD,scaleLog:UD,scaleOrdinal:Dw,scalePoint:PY,scalePow:Hw,scaleQuantile:qD,scaleQuantize:HD,scaleRadial:WD,scaleSequential:tR,scaleSequentialLog:nR,scaleSequentialPow:eb,scaleSequentialQuantile:iR,scaleSequentialSqrt:UQ,scaleSequentialSymlog:rR,scaleSqrt:_X,scaleSymlog:BD,scaleThreshold:VD,scaleTime:$Q,scaleUtc:zQ,tickFormat:LD},Symbol.toStringTag,{value:"Module"}));var Ms=e=>e.chartData,WQ=q([Ms],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nb=(e,t,n,r)=>r?WQ(e):Ms(e);function js(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ct(t)&&Ct(n))return!0}return!1}function oI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Ct(n))i=n;else if(typeof n=="function")return;if(Ct(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(js(o))return o}}function qQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(js(r))return oI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,c;if(i==="auto")t!=null&&(o=Math.min(...t));else if(be(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&WE.test(i)){var u=WE.exec(i);if(u==null||t==null)o=void 0;else{var h=+u[1];o=t[0]-h}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(c=Math.max(...t));else if(be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&qE.test(s)){var p=qE.exec(s);if(p==null||t==null)c=void 0;else{var m=+p[1];c=t[1]+m}}else c=t==null?void 0:t[1];var v=[o,c];if(js(v))return t==null?v:oI(v,t,n)}}}var rl=1e9,HQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ib,ut=!0,pr="[DecimalError] ",da=pr+"Invalid argument: ",rb=pr+"Exponent out of range: ",il=Math.floor,na=Math.pow,VQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Kt=1e7,ot=7,cR=9007199254740991,Ch=il(cR/ot),he={};he.absoluteValue=he.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};he.comparedTo=he.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};he.decimalPlaces=he.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ot;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};he.dividedBy=he.div=function(e){return ki(this,new this.constructor(e))};he.dividedToIntegerBy=he.idiv=function(e){var t=this,n=t.constructor;return Je(ki(t,new n(e),0,1),n.precision)};he.equals=he.eq=function(e){return!this.cmp(e)};he.exponent=function(){return It(this)};he.greaterThan=he.gt=function(e){return this.cmp(e)>0};he.greaterThanOrEqualTo=he.gte=function(e){return this.cmp(e)>=0};he.isInteger=he.isint=function(){return this.e>this.d.length-2};he.isNegative=he.isneg=function(){return this.s<0};he.isPositive=he.ispos=function(){return this.s>0};he.isZero=function(){return this.s===0};he.lessThan=he.lt=function(e){return this.cmp(e)<0};he.lessThanOrEqualTo=he.lte=function(e){return this.cmp(e)<1};he.logarithm=he.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Vn))throw Error(pr+"NaN");if(n.s<1)throw Error(pr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(ut=!1,t=ki(Yc(n,s),Yc(e,s),s),ut=!0,Je(t,i))};he.minus=he.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fR(t,e):uR(t,(e.s=-e.s,e))};he.modulo=he.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(pr+"NaN");return n.s?(ut=!1,t=ki(n,e,0,1).times(e),ut=!0,n.minus(t)):Je(new r(n),i)};he.naturalExponential=he.exp=function(){return dR(this)};he.naturalLogarithm=he.ln=function(){return Yc(this)};he.negated=he.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};he.plus=he.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uR(t,e):fR(t,(e.s=-e.s,e))};he.precision=he.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(da+e);if(t=It(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};he.squareRoot=he.sqrt=function(){var e,t,n,r,i,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(pr+"NaN")}for(e=It(c),ut=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=Gr(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=il((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=o=n+3;;)if(s=r,r=s.plus(ki(c,s,o+2)).times(.5),Gr(s.d).slice(0,o)===(t=Gr(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Je(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(t!="9999")break;o+=4}return ut=!0,Je(r,n)};he.times=he.mul=function(e){var t,n,r,i,s,o,c,u,h,p=this,m=p.constructor,v=p.d,y=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,u=v.length,h=y.length,u<h&&(s=v,v=y,y=s,o=u,u=h,h=o),s=[],o=u+h,r=o;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=u+r;i>r;)c=s[i]+y[r]*v[i-r-1]+t,s[i--]=c%Kt|0,t=c/Kt|0;s[i]=(s[i]+t)%Kt|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ut?Je(e,m.precision):e};he.toDecimalPlaces=he.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ti(e,0,rl),t===void 0?t=r.rounding:ti(t,0,8),Je(n,e+It(n)+1,t))};he.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=_a(r,!0):(ti(e,0,rl),t===void 0?t=i.rounding:ti(t,0,8),r=Je(new i(r),e+1,t),n=_a(r,!0,e+1)),n};he.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?_a(i):(ti(e,0,rl),t===void 0?t=s.rounding:ti(t,0,8),r=Je(new s(i),e+It(i)+1,t),n=_a(r.abs(),!1,e+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};he.toInteger=he.toint=function(){var e=this,t=e.constructor;return Je(new t(e),It(e)+1,t.rounding)};he.toNumber=function(){return+this};he.toPower=he.pow=function(e){var t,n,r,i,s,o,c=this,u=c.constructor,h=12,p=+(e=new u(e));if(!e.s)return new u(Vn);if(c=new u(c),!c.s){if(e.s<1)throw Error(pr+"Infinity");return c}if(c.eq(Vn))return c;if(r=u.precision,e.eq(Vn))return Je(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=c.s,o){if((n=p<0?-p:p)<=cR){for(i=new u(Vn),t=Math.ceil(r/ot+4),ut=!1;n%2&&(i=i.times(c),cI(i.d,t)),n=il(n/2),n!==0;)c=c.times(c),cI(c.d,t);return ut=!0,e.s<0?new u(Vn).div(i):Je(i,r)}}else if(s<0)throw Error(pr+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,ut=!1,i=e.times(Yc(c,r+h)),ut=!0,i=dR(i),i.s=s,i};he.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=It(i),r=_a(i,n<=s.toExpNeg||n>=s.toExpPos)):(ti(e,1,rl),t===void 0?t=s.rounding:ti(t,0,8),i=Je(new s(i),e,t),n=It(i),r=_a(i,e<=n||n<=s.toExpNeg,e)),r};he.toSignificantDigits=he.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ti(e,1,rl),t===void 0?t=r.rounding:ti(t,0,8)),Je(new r(n),e,t)};he.toString=he.valueOf=he.val=he.toJSON=he[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=It(e),n=e.constructor;return _a(e,t<=n.toExpNeg||t>=n.toExpPos)};function uR(e,t){var n,r,i,s,o,c,u,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ut?Je(t,m):t;if(u=e.d,h=t.d,o=e.e,i=t.e,u=u.slice(),s=o-i,s){for(s<0?(r=u,s=-s,c=h.length):(r=h,i=o,c=u.length),o=Math.ceil(m/ot),c=o>c?o+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=u.length,s=h.length,c-s<0&&(s=c,r=h,h=u,u=r),n=0;s;)n=(u[--s]=u[s]+h[s]+n)/Kt|0,u[s]%=Kt;for(n&&(u.unshift(n),++i),c=u.length;u[--c]==0;)u.pop();return t.d=u,t.e=i,ut?Je(t,m):t}function ti(e,t,n){if(e!==~~e||e<t||e>n)throw Error(da+e)}function Gr(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=ot-r.length,n&&(s+=ms(n)),s+=r;o=e[t],r=o+"",n=ot-r.length,n&&(s+=ms(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var ki=(function(){function e(r,i){var s,o=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+o,r[c]=s%Kt|0,o=s/Kt|0;return o&&r.unshift(o),r}function t(r,i,s,o){var c,u;if(s!=o)u=s>o?1:-1;else for(c=u=0;c<s;c++)if(r[c]!=i[c]){u=r[c]>i[c]?1:-1;break}return u}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Kt+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var c,u,h,p,m,v,y,w,C,_,k,I,E,j,P,A,z,W,Y=r.constructor,oe=r.s==i.s?1:-1,M=r.d,H=i.d;if(!r.s)return new Y(r);if(!i.s)throw Error(pr+"Division by zero");for(u=r.e-i.e,z=H.length,P=M.length,y=new Y(oe),w=y.d=[],h=0;H[h]==(M[h]||0);)++h;if(H[h]>(M[h]||0)&&--u,s==null?I=s=Y.precision:o?I=s+(It(r)-It(i))+1:I=s,I<0)return new Y(0);if(I=I/ot+2|0,h=0,z==1)for(p=0,H=H[0],I++;(h<P||p)&&I--;h++)E=p*Kt+(M[h]||0),w[h]=E/H|0,p=E%H|0;else{for(p=Kt/(H[0]+1)|0,p>1&&(H=e(H,p),M=e(M,p),z=H.length,P=M.length),j=z,C=M.slice(0,z),_=C.length;_<z;)C[_++]=0;W=H.slice(),W.unshift(0),A=H[0],H[1]>=Kt/2&&++A;do p=0,c=t(H,C,z,_),c<0?(k=C[0],z!=_&&(k=k*Kt+(C[1]||0)),p=k/A|0,p>1?(p>=Kt&&(p=Kt-1),m=e(H,p),v=m.length,_=C.length,c=t(m,C,v,_),c==1&&(p--,n(m,z<v?W:H,v))):(p==0&&(c=p=1),m=H.slice()),v=m.length,v<_&&m.unshift(0),n(C,m,_),c==-1&&(_=C.length,c=t(H,C,z,_),c<1&&(p++,n(C,z<_?W:H,_))),_=C.length):c===0&&(p++,C=[0]),w[h++]=p,c&&C[0]?C[_++]=M[j]||0:(C=[M[j]],_=1);while((j++<P||C[0]!==void 0)&&I--)}return w[0]||w.shift(),y.e=u,Je(y,o?s+It(y)+1:s)}})();function dR(e,t){var n,r,i,s,o,c,u=0,h=0,p=e.constructor,m=p.precision;if(It(e)>16)throw Error(rb+It(e));if(!e.s)return new p(Vn);for(ut=!1,c=m,o=new p(.03125);e.abs().gte(.1);)e=e.times(o),h+=5;for(r=Math.log(na(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new p(Vn),p.precision=c;;){if(i=Je(i.times(e),c),n=n.times(++u),o=s.plus(ki(i,n,c)),Gr(o.d).slice(0,c)===Gr(s.d).slice(0,c)){for(;h--;)s=Je(s.times(s),c);return p.precision=m,t==null?(ut=!0,Je(s,m)):s}s=o}}function It(e){for(var t=e.e*ot,n=e.d[0];n>=10;n/=10)t++;return t}function vy(e,t,n){if(t>e.LN10.sd())throw ut=!0,n&&(e.precision=n),Error(pr+"LN10 precision limit exceeded");return Je(new e(e.LN10),t)}function ms(e){for(var t="";e--;)t+="0";return t}function Yc(e,t){var n,r,i,s,o,c,u,h,p,m=1,v=10,y=e,w=y.d,C=y.constructor,_=C.precision;if(y.s<1)throw Error(pr+(y.s?"NaN":"-Infinity"));if(y.eq(Vn))return new C(0);if(t==null?(ut=!1,h=_):h=t,y.eq(10))return t==null&&(ut=!0),vy(C,h);if(h+=v,C.precision=h,n=Gr(w),r=n.charAt(0),s=It(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=Gr(y.d),r=n.charAt(0),m++;s=It(y),r>1?(y=new C("0."+n),s++):y=new C(r+"."+n.slice(1))}else return u=vy(C,h+2,_).times(s+""),y=Yc(new C(r+"."+n.slice(1)),h-v).plus(u),C.precision=_,t==null?(ut=!0,Je(y,_)):y;for(c=o=y=ki(y.minus(Vn),y.plus(Vn),h),p=Je(y.times(y),h),i=3;;){if(o=Je(o.times(p),h),u=c.plus(ki(o,new C(i),h)),Gr(u.d).slice(0,h)===Gr(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(vy(C,h+2,_).times(s+""))),c=ki(c,new C(m),h),C.precision=_,t==null?(ut=!0,Je(c,_)):c;c=u,i+=2}}function lI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=il(n/ot),e.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ot;r<i;)e.d.push(+t.slice(r,r+=ot));t=t.slice(r),r=ot-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ut&&(e.e>Ch||e.e<-Ch))throw Error(rb+n)}else e.s=0,e.e=0,e.d=[0];return e}function Je(e,t,n){var r,i,s,o,c,u,h,p,m=e.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=ot,i=t,h=m[p=0];else{if(p=Math.ceil((r+1)/ot),s=m.length,p>=s)return e;for(h=s=m[p],o=1;s>=10;s/=10)o++;r%=ot,i=r-ot+o}if(n!==void 0&&(s=na(10,o-i-1),c=h/s%10|0,u=t<0||m[p+1]!==void 0||h%s,u=n<4?(c||u)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||u||n==6&&(r>0?i>0?h/na(10,o-i):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(s=It(e),m.length=1,t=t-s-1,m[0]=na(10,(ot-t%ot)%ot),e.e=il(-t/ot)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=na(10,ot-r),m[p]=i>0?(h/na(10,o-i)%na(10,i)|0)*s:0),u)for(;;)if(p==0){(m[0]+=s)==Kt&&(m[0]=1,++e.e);break}else{if(m[p]+=s,m[p]!=Kt)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(ut&&(e.e>Ch||e.e<-Ch))throw Error(rb+It(e));return e}function fR(e,t){var n,r,i,s,o,c,u,h,p,m,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),ut?Je(t,y):t;if(u=e.d,m=t.d,r=t.e,h=e.e,u=u.slice(),o=h-r,o){for(p=o<0,p?(n=u,o=-o,c=m.length):(n=m,r=h,c=u.length),i=Math.max(Math.ceil(y/ot),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=u.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(u[i]!=m[i]){p=u[i]<m[i];break}o=0}for(p&&(n=u,u=m,m=n,t.s=-t.s),c=u.length,i=m.length-c;i>0;--i)u[c++]=0;for(i=m.length;i>o;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=Kt-1;--u[s],u[i]+=Kt}u[i]-=m[i]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,ut?Je(t,y):t):new v(0)}function _a(e,t,n){var r,i=It(e),s=Gr(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+ms(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ms(-i-1)+s,n&&(r=n-o)>0&&(s+=ms(r))):i>=o?(s+=ms(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+ms(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=ms(r))),e.s<0?"-"+s:s}function cI(e,t){if(e.length>t)return e.length=t,!0}function hR(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(da+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return lI(o,s.toString())}else if(typeof s!="string")throw Error(da+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,VQ.test(s))lI(o,s);else throw Error(da+s)}if(i.prototype=he,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hR,i.config=i.set=KQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function KQ(e){if(!e||typeof e!="object")throw Error(pr+"Object expected");var t,n,r,i=["precision",1,rl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(il(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(da+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(da+n+": "+r);return this}var ib=hR(HQ);Vn=new ib(1);const Ge=ib;var GQ=e=>e,pR={},mR=e=>e===pR,uI=e=>function t(){return arguments.length===0||arguments.length===1&&mR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},gR=(e,t)=>e===1?t:uI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==pR).length;return s>=e?t(...r):gR(e-s,uI(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=r.map(p=>mR(p)?c.shift():p);return t(...h,...c)}))}),YQ=e=>gR(e.length,e),zx=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},XQ=YQ((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),QQ=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return GQ;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((c,u)=>u(c),s(...arguments))}},Ux=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function vR(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function yR(e,t,n){for(var r=new Ge(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var xR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},wR=(e,t,n)=>{if(e.lte(0))return new Ge(0);var r=vR(e.toNumber()),i=new Ge(10).pow(r),s=e.div(i),o=r!==1?.05:.1,c=new Ge(Math.ceil(s.div(o).toNumber())).add(n).mul(o),u=c.mul(i);return t?new Ge(u.toNumber()):new Ge(Math.ceil(u.toNumber()))},JQ=(e,t,n)=>{var r=new Ge(1),i=new Ge(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Ge(10).pow(vR(e)-1),i=new Ge(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ge(Math.floor(e)))}else e===0?i=new Ge(Math.floor((t-1)/2)):n||(i=new Ge(Math.floor(e)));var o=Math.floor((t-1)/2),c=QQ(XQ(u=>i.add(new Ge(u-o).mul(r)).toNumber()),zx);return c(0,t)},bR=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var o=wR(new Ge(n).sub(t).div(r-1),i,s),c;t<=0&&n>=0?c=new Ge(0):(c=new Ge(t).add(n).div(2),c=c.sub(new Ge(c).mod(o)));var u=Math.ceil(c.sub(t).div(o).toNumber()),h=Math.ceil(new Ge(n).sub(c).div(o).toNumber()),p=u+h+1;return p>r?bR(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,u=n>0?u:u+(r-p)),{step:o,tickMin:c.sub(new Ge(u).mul(o)),tickMax:c.add(new Ge(h).mul(o))})},ZQ=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[c,u]=xR([n,r]);if(c===-1/0||u===1/0){var h=u===1/0?[c,...zx(0,i-1).map(()=>1/0)]:[...zx(0,i-1).map(()=>-1/0),u];return n>r?Ux(h):h}if(c===u)return JQ(c,i,s);var{step:p,tickMin:m,tickMax:v}=bR(c,u,o,s,0),y=yR(m,v.add(new Ge(.1).mul(p)),p);return n>r?Ux(y):y},eJ=function(t,n){var[r,i]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=xR([r,i]);if(o===-1/0||c===1/0)return[r,i];if(o===c)return[o];var u=Math.max(n,2),h=wR(new Ge(c).sub(o).div(u-1),s,0),p=[...yR(new Ge(o),new Ge(c),h),c];return s===!1&&(p=p.map(m=>Math.round(m))),r>i?Ux(p):p},_R=e=>e.rootProps.maxBarSize,tJ=e=>e.rootProps.barGap,SR=e=>e.rootProps.barCategoryGap,nJ=e=>e.rootProps.barSize,Np=e=>e.rootProps.stackOffset,CR=e=>e.rootProps.reverseStackOrder,sb=e=>e.options.chartName,ab=e=>e.rootProps.syncId,kR=e=>e.rootProps.syncMethod,ob=e=>e.options.eventEmitter,_n={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Hn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ip=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:mi.reversed,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:mi.type,unit:void 0},iJ={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,ticks:void 0,type:Hn.type,unit:void 0},sJ={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:mi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:mi.scale,tick:mi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aJ={allowDataOverflow:Hn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hn.scale,tick:Hn.tick,tickCount:Hn.tickCount,ticks:void 0,type:"category",unit:void 0},lb=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?sJ:rJ,cb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aJ:iJ,Pp=e=>e.polarOptions,ub=q([Ui,Bi,Zt],eY),ER=q([Pp,ub],(e,t)=>{if(e!=null)return Mr(e.innerRadius,t,0)}),NR=q([Pp,ub],(e,t)=>{if(e!=null)return Mr(e.outerRadius,t,t*.8)}),oJ=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},IR=q([Pp],oJ);q([lb,IR],Ip);var PR=q([ub,ER,NR],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});q([cb,PR],Ip);var jR=q([Ye,Pp,ER,NR,Ui,Bi],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:c,startAngle:u,endAngle:h}=t;return{cx:Mr(o,i,i/2),cy:Mr(c,s,s/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:h,clockWise:!1}}}),Ft=(e,t)=>t,jp=(e,t,n)=>n;function db(e){return e==null?void 0:e.id}function TR(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return e.forEach(c=>{var u,h=(u=c.data)!==null&&u!==void 0?u:r;if(!(h==null||h.length===0)){var p=db(c);h.forEach((m,v)=>{var y=s==null||i?v:String(vn(m,s,null)),w=vn(m,c.dataKey,0),C;o.has(y)?C=o.get(y):C={},Object.assign(C,{[p]:w}),o.set(y,C)})}}),Array.from(o.values())}function Tp(e){return e.stackId!=null&&e.dataKey!=null}var Ap=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Op(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function lJ(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var $t=e=>{var t=Ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sl=e=>e.tooltip.settings.axisId;function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(r){cJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cJ(e,t,n){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bx=[0,"auto"],qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},AR=(e,t)=>e.cartesianAxis.xAxis[t],qi=(e,t)=>{var n=AR(e,t);return n??qt},Ht={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Bx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fu},OR=(e,t)=>e.cartesianAxis.yAxis[t],Hi=(e,t)=>{var n=OR(e,t);return n??Ht},fJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fb=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??fJ},En=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Hi(e,n);case"zAxis":return fb(e,n);case"angleAxis":return lb(e,n);case"radiusAxis":return cb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},hJ=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Hi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},vu=(e,t,n)=>{switch(t){case"xAxis":return qi(e,n);case"yAxis":return Hi(e,n);case"angleAxis":return lb(e,n);case"radiusAxis":return cb(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},DR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function RR(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var hb=e=>e.graphicalItems.cartesianItems,pJ=q([Ft,jp],RR),MR=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),yu=q([hb,En,pJ],MR,{memoizeOptions:{resultEqualityCheck:Op}}),LR=q([yu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Tp)),FR=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mJ=q([yu],FR),$R=e=>e.map(t=>t.data).filter(Boolean).flat(1),gJ=q([yu],$R,{memoizeOptions:{resultEqualityCheck:Op}}),zR=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},pb=q([gJ,nb],zR),UR=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:vn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:vn(i,r)}))):e.map(r=>({value:r})),Dp=q([pb,En,yu],UR);function BR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yf(e){if(Zr(e)||e instanceof Date){var t=Number(e);if(Ct(t))return t}}function fI(e){if(Array.isArray(e)){var t=[yf(e[0]),yf(e[1])];return js(t)?t:void 0}var n=yf(e);if(n!=null)return[n,n]}function Fi(e){return e.map(yf).filter(zV)}function vJ(e,t,n){return!n||typeof t!="number"||Rr(t)?[]:n.length?Fi(n.flatMap(r=>{var i=vn(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!Ct(s)||!Ct(o)))return[t-s,t+o]})):[]}var zt=e=>{var t=$t(e),n=sl(e);return vu(e,t,n)},xu=q([zt],e=>e==null?void 0:e.dataKey),yJ=q([LR,nb,zt],TR),WR=(e,t,n,r)=>{var i={},s=t.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),i);return Object.fromEntries(Object.entries(s).map(o=>{var[c,u]=o,h=r?[...u].reverse():u,p=h.map(db);return[c,{stackedData:nK(e,p,n),graphicalItems:h}]}))},Wx=q([yJ,LR,Np,CR],WR),qR=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=t;if(r==null&&n!=="zAxis"){var o=oK(e,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},xJ=q([En],e=>e.allowDataOverflow),mb=e=>{var t;if(e==null||!("domain"in e))return Bx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Fi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Bx},HR=q([En],mb),VR=q([HR,xJ],lR),wJ=q([Wx,Ms,Ft,VR],qR,{memoizeOptions:{resultEqualityCheck:Ap}}),gb=e=>e.errorBars,bJ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>BR(n,r)),Eh=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),c=Math.max(...s);return[o,c]}},KR=(e,t,n,r,i)=>{var s,o;if(n.length>0&&e.forEach(c=>{n.forEach(u=>{var h,p,m=(h=r[u.id])===null||h===void 0?void 0:h.filter(k=>BR(i,k)),v=vn(c,(p=t.dataKey)!==null&&p!==void 0?p:u.dataKey),y=vJ(c,v,m);if(y.length>=2){var w=Math.min(...y),C=Math.max(...y);(s==null||w<s)&&(s=w),(o==null||C>o)&&(o=C)}var _=fI(v);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(c=>{var u=fI(vn(c,t.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),Ct(s)&&Ct(o))return[s,o]},_J=q([pb,En,mJ,gb,Ft],KR,{memoizeOptions:{resultEqualityCheck:Ap}});function SJ(e){var{value:t}=e;if(Zr(t)||t instanceof Date)return t}var CJ=(e,t,n)=>{var r=e.map(SJ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&mO(r))?ND(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},GR=e=>e.referenceElements.dots,al=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),kJ=q([GR,Ft,jp],al),YR=e=>e.referenceElements.areas,EJ=q([YR,Ft,jp],al),XR=e=>e.referenceElements.lines,NJ=q([XR,Ft,jp],al),QR=(e,t)=>{var n=Fi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},IJ=q(kJ,Ft,QR),JR=(e,t)=>{var n=Fi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},PJ=q([EJ,Ft],JR);function jJ(e){var t;if(e.x!=null)return Fi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Fi(n)}function TJ(e){var t;if(e.y!=null)return Fi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Fi(n)}var ZR=(e,t)=>{var n=e.flatMap(r=>t==="xAxis"?jJ(r):TJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},AJ=q([NJ,Ft],ZR),OJ=q(IJ,AJ,PJ,(e,t,n)=>Eh(e,n,t)),e2=(e,t,n,r,i,s,o,c)=>{if(n!=null)return n;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=u?Eh(r,s,i):Eh(s,i);return qQ(t,h,e.allowDataOverflow)},DJ=q([En,HR,VR,wJ,_J,OJ,Ye,Ft],e2,{memoizeOptions:{resultEqualityCheck:Ap}}),RJ=[0,1],t2=(e,t,n,r,i,s,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:u}=e,h=Ta(t,s);if(h&&c==null){var p;return ND(0,(p=n==null?void 0:n.length)!==null&&p!==void 0?p:0)}return u==="category"?CJ(r,e,h):i==="expand"?RJ:o}},vb=q([En,Ye,pb,Dp,Np,Ft,DJ],t2),n2=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(lu(s));return c in gc?c:"point"}}},wu=q([En,Ye,DR,sb,Ft],n2);function MJ(e){if(e!=null){if(e in gc)return gc[e]();var t="scale".concat(lu(e));if(t in gc)return gc[t]()}}function yb(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=MJ(t);if(i!=null){var s=i.domain(n).range(r);return Q7(s),s}}}var r2=(e,t,n)=>{var r=mb(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&js(e))return ZQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&js(e))return eJ(e,t.tickCount,t.allowDecimals)}},xb=q([vb,vu,wu],r2),i2=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&js(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],c=n[n.length-1];return[Math.min(i,s),Math.max(o,c)]}return t},LJ=q([En,vb,xb,Ft],i2),FJ=q(Dp,En,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Fi(e.map(c=>c.value))).sort((c,u)=>c-u);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),s2=q(FJ,Ye,SR,Zt,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Ct(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=Mr(n,e*s),c=e*s/2;return c-o-(c-o)/s*o}return 0}),$J=(e,t)=>{var n=qi(e,t);return n==null||typeof n.padding!="string"?0:s2(e,"xAxis",t,n.padding)},zJ=(e,t)=>{var n=Hi(e,t);return n==null||typeof n.padding!="string"?0:s2(e,"yAxis",t,n.padding)},UJ=q(qi,$J,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),BJ=q(Hi,zJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),WJ=q([Zt,UJ,vp,gp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),qJ=q([Zt,Ye,BJ,vp,gp,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),bu=(e,t,n,r)=>{var i;switch(t){case"xAxis":return WJ(e,n,r);case"yAxis":return qJ(e,n,r);case"zAxis":return(i=fb(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return IR(e);case"radiusAxis":return PR(e,n);default:return}},a2=q([En,bu],Ip),ol=q([En,wu,LJ,a2],yb);q([yu,gb,Ft],bJ);function o2(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Rp=(e,t)=>t,Mp=(e,t,n)=>n,HJ=q(pp,Rp,Mp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(o2)),VJ=q(mp,Rp,Mp,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(o2)),l2=(e,t)=>({width:e.width,height:t.height}),KJ=(e,t)=>{var n=typeof t.width=="number"?t.width:fu;return{width:n,height:e.height}},c2=q(Zt,qi,l2),GJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},YJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},XJ=q(Bi,Zt,HJ,Rp,Mp,(e,t,n,r,i)=>{var s={},o;return n.forEach(c=>{var u=l2(t,c);o==null&&(o=GJ(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[c.id]=o-Number(h)*u.height,o+=(h?-1:1)*u.height}),s}),QJ=q(Ui,Zt,VJ,Rp,Mp,(e,t,n,r,i)=>{var s={},o;return n.forEach(c=>{var u=KJ(t,c);o==null&&(o=YJ(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[c.id]=o-Number(h)*u.width,o+=(h?-1:1)*u.width}),s}),JJ=(e,t)=>{var n=qi(e,t);if(n!=null)return XJ(e,n.orientation,n.mirror)},ZJ=q([Zt,qi,JJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),eZ=(e,t)=>{var n=Hi(e,t);if(n!=null)return QJ(e,n.orientation,n.mirror)},tZ=q([Zt,Hi,eZ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),u2=q(Zt,Hi,(e,t)=>{var n=typeof t.width=="number"?t.width:fu;return{width:n,height:e.height}}),hI=(e,t,n)=>{switch(t){case"xAxis":return c2(e,n).width;case"yAxis":return u2(e,n).height;default:return}},d2=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,c=Ta(e,r),u=t.map(h=>h.value);if(o&&c&&s==="category"&&i&&mO(u))return u}},wb=q([Ye,Dp,En,Ft],d2),f2=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Ta(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(c=>c.value)}},bb=q([Ye,Dp,vu,Ft],f2),pI=q([Ye,hJ,wu,ol,wb,bb,bu,xb,Ft],(e,t,n,r,i,s,o,c,u)=>{if(t!=null){var h=Ta(e,u);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:u,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:c,range:o,realScaleType:n,scale:r}}}),nZ=(e,t,n,r,i,s,o,c,u)=>{if(!(t==null||r==null)){var h=Ta(e,u),{type:p,ticks:m,tickCount:v}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=p==="category"&&r.bandwidth?r.bandwidth()/y:0;w=u==="angleAxis"&&s!=null&&s.length>=2?Ln(s[0]-s[1])*2*w:w;var C=m||i;if(C){var _=C.map((k,I)=>{var E=o?o.indexOf(k):k;return{index:I,coordinate:r(E)+w,value:k,offset:w}});return _.filter(k=>Ct(k.coordinate))}return h&&c?c.map((k,I)=>({coordinate:r(k)+w,value:k,index:I,offset:w})).filter(k=>Ct(k.coordinate)):r.ticks?r.ticks(v).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,I)=>({coordinate:r(k)+w,value:o?o[k]:k,index:I,offset:w}))}},h2=q([Ye,vu,wu,ol,xb,bu,wb,bb,Ft],nZ),rZ=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var c=Ta(e,o),{tickCount:u}=t,h=0;return h=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ln(r[0]-r[1])*2*h:h,c&&s?s.map((p,m)=>({coordinate:n(p)+h,value:p,index:m,offset:h})):n.ticks?n.ticks(u).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,m)=>({coordinate:n(p)+h,value:i?i[p]:p,index:m,offset:h}))}},Lo=q([Ye,vu,ol,bu,wb,bb,Ft],rZ),Fo=q(En,ol,(e,t)=>{if(!(e==null||t==null))return kh(kh({},e),{},{scale:t})}),iZ=q([En,wu,vb,a2],yb);q((e,t,n)=>fb(e,n),iZ,(e,t)=>{if(!(e==null||t==null))return kh(kh({},e),{},{scale:t})});var sZ=q([Ye,pp,mp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),p2=e=>e.options.defaultTooltipEventType,m2=e=>e.options.validateTooltipEventTypes;function g2(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function _b(e,t){var n=p2(e),r=m2(e);return g2(t,n,r)}function aZ(e){return Ce(t=>_b(t,e))}var v2=(e,t)=>{var n,r=Number(t);if(!(Rr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},oZ=e=>e.tooltip.settings,bs={active:!1,index:null,dataKey:void 0,coordinate:void 0},lZ={itemInteraction:{click:bs,hover:bs},axisInteraction:{click:bs,hover:bs},keyboardInteraction:bs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},y2=$n({name:"tooltip",initialState:lZ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ct()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Tr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:ct()},removeTooltipEntrySettings:{reducer(e,t){var n=Tr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:ct()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:cZ,replaceTooltipEntrySettings:uZ,removeTooltipEntrySettings:dZ,setTooltipSettingsState:fZ,setActiveMouseOverItemIndex:x2,mouseLeaveItem:hZ,mouseLeaveChart:w2,setActiveClickItemIndex:pZ,setMouseOverAxisIndex:b2,setMouseClickAxisIndex:mZ,setSyncInteraction:qx,setKeyboardInteraction:Hx}=y2.actions,gZ=y2.reducer;function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){vZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vZ(e,t,n){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function bZ(e){return e.index!=null}var _2=(e,t,n,r)=>{if(t==null)return bs;var i=wZ(e,t,n);if(i==null)return bs;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(bZ(i)){if(s)return af(af({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return af(af({},bs),{},{coordinate:i.coordinate})};function _Z(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function SZ(e,t){var n=_Z(e),r=t[0],i=t[1];if(n===void 0)return!1;var s=Math.min(r,i),o=Math.max(r,i);return n>=s&&n<=o}function CZ(e,t,n){if(n==null||t==null)return!0;var r=vn(e,t);return r==null||!js(n)?!0:SZ(r,n)}var Sb=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var s=Number(i);if(!Ct(s))return i;var o=0,c=1/0;t.length>0&&(c=t.length-1);var u=Math.max(o,Math.min(s,c)),h=t[u];return h==null||CZ(h,n,r)?String(u):null},S2=(e,t,n,r,i,s,o,c)=>{if(!(s==null||c==null)){var u=o[0],h=u==null?void 0:c(u.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},C2=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},_u=e=>e.options.tooltipPayloadSearcher,ll=e=>e.tooltip;function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IZ(e,t){return e??t}var k2=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:c,computedData:u,dataStartIndex:h,dataEndIndex:p}=n,m=[];return e.reduce((v,y)=>{var w,{dataDefinedOnItem:C,settings:_}=y,k=IZ(C,c),I=Array.isArray(k)?iD(k,h,p):k,E=(w=_==null?void 0:_.dataKey)!==null&&w!==void 0?w:r,j=_==null?void 0:_.nameKey,P;if(r&&Array.isArray(I)&&!Array.isArray(I[0])&&o==="axis"?P=$V(I,r,i):P=s(I,t,u,j),Array.isArray(P))P.forEach(z=>{var W=vI(vI({},_),{},{name:z.name,unit:z.unit,color:void 0,fill:void 0});v.push(HE({tooltipEntrySettings:W,dataKey:z.dataKey,payload:z.payload,value:vn(z.payload,z.dataKey),name:z.name}))});else{var A;v.push(HE({tooltipEntrySettings:_,dataKey:E,payload:P,value:vn(P,E),name:(A=vn(P,j))!==null&&A!==void 0?A:_==null?void 0:_.name}))}return v},m)}},Cb=q([zt,Ye,DR,sb,$t],n2),PZ=q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jZ=q([$t,sl],RR),Su=q([PZ,zt,jZ],MR,{memoizeOptions:{resultEqualityCheck:Op}}),TZ=q([Su],e=>e.filter(Tp)),AZ=q([Su],$R,{memoizeOptions:{resultEqualityCheck:Op}}),cl=q([AZ,Ms],zR),OZ=q([TZ,Ms,zt],TR),kb=q([cl,zt,Su],UR),E2=q([zt],mb),DZ=q([zt],e=>e.allowDataOverflow),N2=q([E2,DZ],lR),RZ=q([Su],e=>e.filter(Tp)),MZ=q([OZ,RZ,Np,CR],WR),LZ=q([MZ,Ms,$t,N2],qR),FZ=q([Su],FR),$Z=q([cl,zt,FZ,gb,$t],KR,{memoizeOptions:{resultEqualityCheck:Ap}}),zZ=q([GR,$t,sl],al),UZ=q([zZ,$t],QR),BZ=q([YR,$t,sl],al),WZ=q([BZ,$t],JR),qZ=q([XR,$t,sl],al),HZ=q([qZ,$t],ZR),VZ=q([UZ,HZ,WZ],Eh),KZ=q([zt,E2,N2,LZ,$Z,VZ,Ye,$t],e2),Cu=q([zt,Ye,cl,kb,Np,$t,KZ],t2),GZ=q([Cu,zt,Cb],r2),YZ=q([zt,Cu,GZ,$t],i2),I2=e=>{var t=$t(e),n=sl(e),r=!1;return bu(e,t,n,r)},P2=q([zt,I2],Ip),j2=q([zt,Cb,YZ,P2],yb),XZ=q([Ye,kb,zt,$t],d2),QZ=q([Ye,kb,zt,$t],f2),JZ=(e,t,n,r,i,s,o,c)=>{if(t){var{type:u}=t,h=Ta(e,c);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=u==="category"&&r.bandwidth?r.bandwidth()/p:0;return m=c==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ln(i[0]-i[1])*2*m:m,h&&o?o.map((v,y)=>({coordinate:r(v)+m,value:v,index:y,offset:m})):r.domain().map((v,y)=>({coordinate:r(v)+m,value:s?s[v]:v,index:y,offset:m}))}}},Vi=q([Ye,zt,Cb,j2,I2,XZ,QZ,$t],JZ),Eb=q([p2,m2,oZ],(e,t,n)=>g2(n.shared,e,t)),T2=e=>e.tooltip.settings.trigger,Nb=e=>e.tooltip.settings.defaultIndex,Lp=q([ll,Eb,T2,Nb],_2),$o=q([Lp,cl,xu,Cu],Sb),A2=q([Vi,$o],v2),O2=q([Lp],e=>{if(e)return e.dataKey}),D2=q([ll,Eb,T2,Nb],C2),ZZ=q([Ui,Bi,Ye,Zt,Vi,Nb,D2,_u],S2),eee=q([Lp,ZZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tee=q([Lp],e=>e.active),nee=q([D2,$o,Ms,xu,A2,_u,Eb],k2);q([nee],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){ree(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ree(e,t,n){return(t=iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aee=()=>Ce(zt),oee=()=>{var e=aee(),t=Ce(Vi),n=Ce(j2);return lh(!e||!n?void 0:xI(xI({},e),{},{scale:n}),t)};function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lee(e,t,n){return(t=cee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dee=(e,t,n,r)=>{var i=t.find(s=>s&&s.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},fee=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="centric"){var s=i.coordinate,{radius:o}=r;return lo(lo(lo({},r),on(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var c=i.coordinate,{angle:u}=r;return lo(lo(lo({},r),on(r.cx,r.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function hee(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var R2=(e,t,n,r,i)=>{var s,o=-1,c=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<c;u++){var h=u>0?n[u-1].coordinate:n[c-1].coordinate,p=n[u].coordinate,m=u>=c-1?n[0].coordinate:n[u+1].coordinate,v=void 0;if(Ln(p-h)!==Ln(m-p)){var y=[];if(Ln(m-p)===Ln(i[1]-i[0])){v=m;var w=p+i[1]-i[0];y[0]=Math.min(w,(w+h)/2),y[1]=Math.max(w,(w+h)/2)}else{v=h;var C=m+i[1]-i[0];y[0]=Math.min(p,(C+p)/2),y[1]=Math.max(p,(C+p)/2)}var _=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){({index:o}=n[u]);break}}else{var k=Math.min(h,m),I=Math.max(h,m);if(e>(k+p)/2&&e<=(I+p)/2){({index:o}=n[u]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:o}=t[E]);break}}return o},pee=()=>Ce(sb),Ib=(e,t)=>t,M2=(e,t,n)=>n,Pb=(e,t,n,r)=>r,mee=q(Vi,e=>lp(e,t=>t.coordinate)),jb=q([ll,Ib,M2,Pb],_2),Tb=q([jb,cl,xu,Cu],Sb),gee=(e,t,n)=>{if(t!=null){var r=ll(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},L2=q([ll,Ib,M2,Pb],C2),Nh=q([Ui,Bi,Ye,Zt,Vi,Pb,L2,_u],S2),vee=q([jb,Nh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),F2=q([Vi,Tb],v2),yee=q([L2,Tb,Ms,xu,F2,_u,Ib],k2),xee=q([jb,Tb],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wee=(e,t,n,r,i,s,o)=>{if(!(!e||!n||!r||!i)&&hee(e,o)){var c=lK(e,t),u=R2(c,s,i,n,r),h=dee(t,i,u,e);return{activeIndex:String(u),activeCoordinate:h}}},bee=(e,t,n,r,i,s,o)=>{if(!(!e||!r||!i||!s||!n)){var c=sY(e,n);if(c){var u=cK(c,t),h=R2(u,o,s,r,i),p=fee(t,s,h,c);return{activeIndex:String(h),activeCoordinate:p}}}},_ee=(e,t,n,r,i,s,o,c)=>{if(!(!e||!t||!r||!i||!s))return t==="horizontal"||t==="vertical"?wee(e,t,r,i,s,o,c):bee(e,t,n,r,i,s,o)},See=q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Cee=q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(_n)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:lJ}});function bI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(n),!0).forEach(function(r){kee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kee(e,t,n){return(t=Eee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iee={},Pee={zIndexMap:Object.values(_n).reduce((e,t)=>_I(_I({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Iee)},jee=new Set(Object.values(_n));function Tee(e){return jee.has(e)}var $2=$n({name:"zIndex",initialState:Pee,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ct()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Tee(n)&&delete e.zIndexMap[n])},prepare:ct()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n,elementId:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElementId=r:e.zIndexMap[n].elementId=r:e.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:ct()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElementId=void 0:e.zIndexMap[n].elementId=void 0)},prepare:ct()}}}),{registerZIndexPortal:Aee,unregisterZIndexPortal:Oee,registerZIndexPortalId:Dee,unregisterZIndexPortalId:Ree}=$2.actions,Mee=$2.reducer;function Ki(e){var{zIndex:t,children:n}=e,r=BK(),i=r&&t!==void 0&&t!==0,s=zn(),o=kt();b.useLayoutEffect(()=>i?(o(Aee({zIndex:t})),()=>{o(Oee({zIndex:t}))}):cu,[o,t,i]);var c=Ce(h=>See(h,t,s));if(!i)return n;if(!c)return null;var u=document.getElementById(c);return u?BP.createPortal(n,u):null}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(null,arguments)}function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function of(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){Lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lee(e,t,n){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fee(e){var t=$ee(e,"string");return typeof t=="symbol"?t:t+""}function $ee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zee(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function Uee(e){var t,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:h,chartName:p}=e,m=n,v=r,y=i;if(!u||!m||p!=="ScatterChart"&&h!=="axis")return null;var w,C,_;if(p==="ScatterChart")w=m,C=wG,_=_n.cursorLine;else if(p==="BarChart")w=bG(c,m,s,o),C=SD,_=_n.cursorRectangle;else if(c==="radial"&&yO(m)){var{cx:k,cy:I,radius:E,startAngle:j,endAngle:P}=CD(m);w={cx:k,cy:I,startAngle:j,endAngle:P,innerRadius:E,outerRadius:E},C=ED,_=_n.cursorLine}else w={points:cY(c,m,s)},C=yD,_=_n.cursorLine;var A=typeof u=="object"&&"className"in u?u.className:void 0,z=of(of(of(of({stroke:"#ccc",pointerEvents:"none"},s),w),pw(u)),{},{payload:v,payloadIndex:y,className:it("recharts-tooltip-cursor",A)});return b.createElement(Ki,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},b.createElement(zee,{cursor:u,cursorComp:C,cursorProps:z}))}function Bee(e){var t=oee(),n=hD(),r=xp(),i=pee();return t==null||n==null||r==null||i==null?null:b.createElement(Uee,Vx({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var z2=b.createContext(null),Wee=()=>b.useContext(z2),yy={exports:{}},CI;function qee(){return CI||(CI=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,h,p){this.fn=u,this.context=h,this.once=p||!1}function s(u,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,m||u,v),w=n?n+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],y]:u._events[w].push(y):(u._events[w]=y,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)t.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,y=m.length,w=new Array(y);v<y;v++)w[v]=m[v].fn;return w},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,y,w){var C=n?n+h:h;if(!this._events[C])return!1;var _=this._events[C],k=arguments.length,I,E;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),k){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,p),!0;case 3:return _.fn.call(_.context,p,m),!0;case 4:return _.fn.call(_.context,p,m,v),!0;case 5:return _.fn.call(_.context,p,m,v,y),!0;case 6:return _.fn.call(_.context,p,m,v,y,w),!0}for(E=1,I=new Array(k-1);E<k;E++)I[E-1]=arguments[E];_.fn.apply(_.context,I)}else{var j=_.length,P;for(E=0;E<j;E++)switch(_[E].once&&this.removeListener(h,_[E].fn,void 0,!0),k){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,p);break;case 3:_[E].fn.call(_[E].context,p,m);break;case 4:_[E].fn.call(_[E].context,p,m,v);break;default:if(!I)for(P=1,I=new Array(k-1);P<k;P++)I[P-1]=arguments[P];_[E].fn.apply(_[E].context,I)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var y=n?n+h:h;if(!this._events[y])return this;if(!p)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!v||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var C=0,_=[],k=w.length;C<k;C++)(w[C].fn!==p||v&&!w[C].once||m&&w[C].context!==m)&&_.push(w[C]);_.length?this._events[y]=_.length===1?_[0]:_:o(this,y)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(yy)),yy.exports}var Hee=qee();const Vee=ni(Hee);var Xc=new Vee,Kx="recharts.syncEvent.tooltip",kI="recharts.syncEvent.brush";function Kee(e,t){if(t){var n=Number.parseInt(t,10);if(!Rr(n))return e==null?void 0:e[n]}}var Gee={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},U2=$n({name:"options",initialState:Gee,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yee=U2.reducer,{createEventEmitter:Xee}=U2.actions;function Qee(e){return e.tooltip.syncInteraction}var Jee={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},B2=$n({name:"chartData",initialState:Jee,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:EI,setDataStartEndIndexes:Zee,setComputedData:Eoe}=B2.actions,ete=B2.reducer,tte=["x","y"];function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){nte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nte(e,t,n){return(t=rte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rte(e){var t=ite(e,"string");return typeof t=="symbol"?t:t+""}function ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ste(e,t){if(e==null)return{};var n,r,i=ate(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ate(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ote(){var e=Ce(ab),t=Ce(ob),n=kt(),r=Ce(kR),i=Ce(Vi),s=xp(),o=yp(),c=Ce(u=>u.rootProps.className);b.useEffect(()=>{if(e==null)return cu;var u=(h,p,m)=>{if(t!==m&&e===h){if(r==="index"){var v;if(o&&p!==null&&p!==void 0&&(v=p.payload)!==null&&v!==void 0&&v.coordinate&&p.payload.sourceViewBox){var y=p.payload.coordinate,{x:w,y:C}=y,_=ste(y,tte),{x:k,y:I,width:E,height:j}=p.payload.sourceViewBox,P=co(co({},_),{},{x:o.x+(E?(w-k)/E:0)*o.width,y:o.y+(j?(C-I)/j:0)*o.height});n(co(co({},p),{},{payload:co(co({},p.payload),{},{coordinate:P})}))}else n(p);return}if(i!=null){var A;if(typeof r=="function"){var z={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},W=r(i,z);A=i[W]}else r==="value"&&(A=i.find(de=>String(de.value)===p.payload.label));var{coordinate:Y}=p.payload;if(A==null||p.payload.active===!1||Y==null||o==null){n(qx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:oe,y:M}=Y,H=Math.min(oe,o.x+o.width),se=Math.min(M,o.y+o.height),ye={x:s==="horizontal"?A.coordinate:H,y:s==="horizontal"?se:A.coordinate},G=qx({active:p.payload.active,coordinate:ye,dataKey:p.payload.dataKey,index:String(A.index),label:p.payload.label,sourceViewBox:p.payload.sourceViewBox});n(G)}}};return Xc.on(Kx,u),()=>{Xc.off(Kx,u)}},[c,n,t,e,r,i,s,o])}function lte(){var e=Ce(ab),t=Ce(ob),n=kt();b.useEffect(()=>{if(e==null)return cu;var r=(i,s,o)=>{t!==o&&e===i&&n(Zee(s))};return Xc.on(kI,r),()=>{Xc.off(kI,r)}},[n,t,e])}function cte(){var e=kt();b.useEffect(()=>{e(Xee())},[e]),ote(),lte()}function ute(e,t,n,r,i,s){var o=Ce(y=>gee(y,e,t)),c=Ce(ob),u=Ce(ab),h=Ce(kR),p=Ce(Qee),m=p==null?void 0:p.active,v=yp();b.useEffect(()=>{if(!m&&u!=null&&c!=null){var y=qx({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v});Xc.emit(Kx,u,y,c)}},[m,n,o,i,r,c,u,h,s,v])}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?II(Object(n),!0).forEach(function(r){dte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dte(e,t,n){return(t=fte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pte(e){return e.dataKey}function mte(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(JK,t)}var jI=[],gte={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!tl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vte(e){var t,n,r=Qn(e,gte),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:c,content:u,filterNull:h,isAnimationActive:p,offset:m,payloadUniqBy:v,position:y,reverseDirection:w,useTranslate3d:C,wrapperStyle:_,cursor:k,shared:I,trigger:E,defaultIndex:j,portal:P,axisId:A}=r,z=kt(),W=typeof j=="number"?String(j):j;b.useEffect(()=>{z(fZ({shared:I,trigger:E,axisId:A,active:i,defaultIndex:W}))},[z,I,E,A,i,W]);var Y=yp(),oe=vD(),M=aZ(I),{activeIndex:H,isActive:se}=(t=Ce(ce=>xee(ce,M,E,W)))!==null&&t!==void 0?t:{},ye=Ce(ce=>yee(ce,M,E,W)),G=Ce(ce=>F2(ce,M,E,W)),de=Ce(ce=>vee(ce,M,E,W)),le=ye,F=Wee(),te=(n=i??se)!==null&&n!==void 0?n:!1,[B,O]=X9([le,te]),V=M==="axis"?G:void 0;ute(M,E,de,V,H,te);var ie=P??F;if(ie==null||Y==null||M==null)return null;var ae=le??jI;te||(ae=jI),h&&ae.length&&(ae=_9(ae.filter(ce=>ce.value!=null&&(ce.hide!==!0||r.includeHidden)),v,pte));var _e=ae.length>0,Ie=b.createElement(sG,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:p,active:te,coordinate:de,hasPayload:_e,offset:m,position:y,reverseDirection:w,useTranslate3d:C,viewBox:Y,wrapperStyle:_,lastBoundingBox:B,innerRef:O,hasPortalFromProps:!!P},mte(u,PI(PI({},r),{},{payload:ae,label:V,active:te,activeIndex:H,coordinate:de,accessibilityLayer:oe})));return b.createElement(b.Fragment,null,BP.createPortal(Ie,ie),te&&b.createElement(Bee,{cursor:k,tooltipEventType:M,coordinate:de,payload:ae,index:H}))}var W2=e=>null;W2.displayName="Cell";function yte(e,t,n){return(t=xte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xte(e){var t=wte(e,"string");return typeof t=="symbol"?t:t+""}function wte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bte{constructor(t){yte(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _te(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){Ste(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ste(e,t,n){return(t=Cte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cte(e){var t=kte(e,"string");return typeof t=="symbol"?t:t+""}function kte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ete={cacheSize:2e3,enableCache:!0},q2=_te({},Ete),AI=new bte(q2.cacheSize),Nte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OI="recharts_measurement_span";function Ite(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(c)}var DI=(e,t)=>{try{var n=document.getElementById(OI);n||(n=document.createElement("span"),n.setAttribute("id",OI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Nte,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Cc=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tl.isSsr)return{width:0,height:0};if(!q2.enableCache)return DI(t,n);var r=Ite(t,n),i=AI.get(r);if(i)return i;var s=DI(t,n);return AI.set(r,s),s},RI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,H2={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Tte=Object.keys(H2),po="NaN";function Ate(e,t){return e*H2[t]}class Dn{static parse(t){var n,[,r,i]=(n=jte.exec(t))!==null&&n!==void 0?n:[];return new Dn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Rr(t)&&(this.unit=""),n!==""&&!Pte.test(n)&&(this.num=NaN,this.unit=""),Tte.includes(n)&&(this.num=Ate(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Dn(NaN,""):new Dn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Rr(this.num)}}function V2(e){if(e.includes(po))return po;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=RI.exec(t))!==null&&n!==void 0?n:[],o=Dn.parse(r??""),c=Dn.parse(s??""),u=i==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return po;t=t.replace(RI,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,m,v]=(h=MI.exec(t))!==null&&h!==void 0?h:[],y=Dn.parse(p??""),w=Dn.parse(v??""),C=m==="+"?y.add(w):y.subtract(w);if(C.isNaN())return po;t=t.replace(MI,C.toString())}return t}var LI=/\(([^()]*)\)/;function Ote(e){for(var t=e,n;(n=LI.exec(t))!=null;){var[,r]=n;t=t.replace(LI,V2(r))}return t}function Dte(e){var t=e.replace(/\s+/g,"");return t=Ote(t),t=V2(t),t}function Rte(e){try{return Dte(e)}catch{return po}}function xy(e){var t=Rte(e.slice(5,-1));return t===po?"":t}var Mte=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Lte=["dx","dy","angle","className","breakAll"];function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(null,arguments)}function FI(e,t){if(e==null)return{};var n,r,i=Fte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var K2=/[ \f\n\r\t\v\u2028\u2029]+/,G2=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Qt(t)||(n?i=t.toString().split(""):i=t.toString().split(K2));var s=i.map(c=>({word:c,width:Cc(c,r).width})),o=n?0:Cc("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function $te(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var Y2=(e,t,n,r)=>e.reduce((i,s)=>{var{word:o,width:c}=s,u=i[i.length-1];if(u&&c!=null&&(t==null||r||u.width+c+n<Number(t)))u.words.push(o),u.width+=c+n;else{var h={words:[o],width:c};i.push(h)}return i},[]),X2=e=>e.reduce((t,n)=>t.width>n.width?t:n),zte="",$I=(e,t,n,r,i,s,o,c)=>{var u=e.slice(0,t),h=G2({breakAll:n,style:r,children:u+zte});if(!h)return[!1,[]];var p=Y2(h.wordsWithComputedWidth,s,o,c),m=p.length>i||X2(p).width>Number(s);return[m,p]},Ute=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:c,breakAll:u}=e,h=be(s),p=String(o),m=Y2(t,r,n,i);if(!h||i)return m;var v=m.length>s||X2(m).width>Number(r);if(!v)return m;for(var y=0,w=p.length-1,C=0,_;y<=w&&C<=p.length-1;){var k=Math.floor((y+w)/2),I=k-1,[E,j]=$I(p,I,u,c,s,r,n,i),[P]=$I(p,k,u,c,s,r,n,i);if(!E&&!P&&(y=k+1),E&&P&&(w=k-1),!E&&P){_=j;break}C++}return _||m},zI=e=>{var t=Qt(e)?[]:e.toString().split(K2);return[{words:t,width:void 0}]},Bte=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!tl.isSsr){var c,u,h=G2({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:m}=h;c=p,u=m}else return zI(r);return Ute({breakAll:s,children:r,maxLines:o,style:i},c,u,t,!!n)}return zI(r)},Q2="#808080",Wte={angle:0,breakAll:!1,capHeight:"0.71em",fill:Q2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ab=b.forwardRef((e,t)=>{var n=Qn(e,Wte),{x:r,y:i,lineHeight:s,capHeight:o,fill:c,scaleToFit:u,textAnchor:h,verticalAnchor:p}=n,m=FI(n,Mte),v=b.useMemo(()=>Bte({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:u,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,u,m.style,m.width]),{dx:y,dy:w,angle:C,className:_,breakAll:k}=m,I=FI(m,Lte);if(!Zr(r)||!Zr(i)||v.length===0)return null;var E=Number(r)+(be(y)?y:0),j=Number(i)+(be(w)?w:0);if(!Ct(E)||!Ct(j))return null;var P;switch(p){case"start":P=xy("calc(".concat(o,")"));break;case"middle":P=xy("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:P=xy("calc(".concat(v.length-1," * -").concat(s,")"));break}var A=[];if(u){var z=v[0].width,{width:W}=m;A.push("scale(".concat(be(W)&&be(z)?W/z:1,")"))}return C&&A.push("rotate(".concat(C,", ").concat(E,", ").concat(j,")")),A.length&&(I.transform=A.join(" ")),b.createElement("text",Gx({},fr(I),{ref:t,x:E,y:j,className:it("recharts-text",_),textAnchor:h,fill:c.includes("url")?Q2:c}),v.map((Y,oe)=>{var M=Y.words.join(k?"":" ");return b.createElement("tspan",{x:E,dy:oe===0?P:s,key:"".concat(M,"-").concat(oe)},M)}))});Ab.displayName="Text";var qte=["labelRef"];function Hte(e,t){if(e==null)return{};var n,r,i=Vte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){Kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kte(e,t,n){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gi.apply(null,arguments)}var J2=b.createContext(null),Xte=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:c}=e,u=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[t,n,r,i,s,o]);return b.createElement(J2.Provider,{value:u},c)},Z2=()=>{var e=b.useContext(J2),t=yp();return e||fD(t)},Qte=b.createContext(null),Jte=()=>{var e=b.useContext(Qte),t=Ce(jR);return e||t},Zte=e=>{var{value:t,formatter:n}=e,r=Qt(e.children)?t:e.children;return typeof n=="function"?n(r):r},Ob=e=>e!=null&&typeof e=="function",ene=(e,t)=>{var n=Ln(t-e),r=Math.min(Math.abs(t-e),360);return n*r},tne=(e,t,n,r,i)=>{var{offset:s,className:o}=e,{cx:c,cy:u,innerRadius:h,outerRadius:p,startAngle:m,endAngle:v,clockWise:y}=i,w=(h+p)/2,C=ene(m,v),_=C>=0?1:-1,k,I;switch(t){case"insideStart":k=m+_*s,I=y;break;case"insideEnd":k=v-_*s,I=!y;break;case"end":k=v+_*s,I=y;break;default:throw new Error("Unsupported position ".concat(t))}I=C<=0?I:!I;var E=on(c,u,w,k),j=on(c,u,w,k+(I?1:-1)*359),P="M".concat(E.x,",").concat(E.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(j.x,",").concat(j.y),A=Qt(e.id)?zc("recharts-radial-line-"):e.id;return b.createElement("text",gi({},r,{dominantBaseline:"central",className:it("recharts-radial-bar-label",o)}),b.createElement("defs",null,b.createElement("path",{id:A,d:P})),b.createElement("textPath",{xlinkHref:"#".concat(A)},n))},nne=(e,t,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:c,endAngle:u}=e,h=(c+u)/2;if(n==="outside"){var{x:p,y:m}=on(r,i,o+t,h);return{x:p,y:m,textAnchor:p>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(s+o)/2,{x:y,y:w}=on(r,i,v,h);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Yx=e=>"cx"in e&&be(e.cx),rne=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,s;n!=null&&!Yx(n)&&(s=n);var{x:o,y:c,upperWidth:u,lowerWidth:h,height:p}=t,m=o,v=o+(u-h)/2,y=(m+v)/2,w=(u+h)/2,C=m+u/2,_=p>=0?1:-1,k=_*r,I=_>0?"end":"start",E=_>0?"start":"end",j=u>=0?1:-1,P=j*r,A=j>0?"end":"start",z=j>0?"start":"end";if(i==="top"){var W={x:m+u/2,y:c-k,textAnchor:"middle",verticalAnchor:I};return St(St({},W),s?{height:Math.max(c-s.y,0),width:u}:{})}if(i==="bottom"){var Y={x:v+h/2,y:c+p+k,textAnchor:"middle",verticalAnchor:E};return St(St({},Y),s?{height:Math.max(s.y+s.height-(c+p),0),width:h}:{})}if(i==="left"){var oe={x:y-P,y:c+p/2,textAnchor:A,verticalAnchor:"middle"};return St(St({},oe),s?{width:Math.max(oe.x-s.x,0),height:p}:{})}if(i==="right"){var M={x:y+w+P,y:c+p/2,textAnchor:z,verticalAnchor:"middle"};return St(St({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:p}:{})}var H=s?{width:w,height:p}:{};return i==="insideLeft"?St({x:y+P,y:c+p/2,textAnchor:z,verticalAnchor:"middle"},H):i==="insideRight"?St({x:y+w-P,y:c+p/2,textAnchor:A,verticalAnchor:"middle"},H):i==="insideTop"?St({x:m+u/2,y:c+k,textAnchor:"middle",verticalAnchor:E},H):i==="insideBottom"?St({x:v+h/2,y:c+p-k,textAnchor:"middle",verticalAnchor:I},H):i==="insideTopLeft"?St({x:m+P,y:c+k,textAnchor:z,verticalAnchor:E},H):i==="insideTopRight"?St({x:m+u-P,y:c+k,textAnchor:A,verticalAnchor:E},H):i==="insideBottomLeft"?St({x:v+P,y:c+p-k,textAnchor:z,verticalAnchor:I},H):i==="insideBottomRight"?St({x:v+h-P,y:c+p-k,textAnchor:A,verticalAnchor:I},H):i&&typeof i=="object"&&(be(i.x)||Oi(i.x))&&(be(i.y)||Oi(i.y))?St({x:o+Mr(i.x,w),y:c+Mr(i.y,p),textAnchor:"end",verticalAnchor:"end"},H):St({x:C,y:c+p/2,textAnchor:"middle",verticalAnchor:"middle"},H)},ine={angle:0,offset:5,zIndex:_n.label,position:"middle",textBreakAll:!1};function gs(e){var t=Qn(e,ine),{viewBox:n,position:r,value:i,children:s,content:o,className:c="",textBreakAll:u,labelRef:h}=t,p=Jte(),m=Z2(),v=r==="center"?m:p??m,y,w,C;if(n==null?y=v:Yx(n)?y=n:y=fD(n),!y||Qt(i)&&Qt(s)&&!b.isValidElement(o)&&typeof o!="function")return null;var _=St(St({},t),{},{viewBox:y});if(b.isValidElement(o)){var{labelRef:k}=_,I=Hte(_,qte);return b.cloneElement(o,I)}if(typeof o=="function"){if(w=b.createElement(o,_),b.isValidElement(w))return w}else w=Zte(t);var E=fr(t);if(Yx(y)){if(r==="insideStart"||r==="insideEnd"||r==="end")return tne(t,r,w,E,y);C=nne(y,t.offset,t.position)}else C=rne(t,y);return b.createElement(Ki,{zIndex:t.zIndex},b.createElement(Ab,gi({ref:h,className:it("recharts-label",c)},E,C,{textAnchor:$te(E.textAnchor)?E.textAnchor:C.textAnchor,breakAll:u}),w))}gs.displayName="Label";var sne=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(gs,gi({key:"label-implicit"},r)):Zr(e)?b.createElement(gs,gi({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===gs?b.cloneElement(e,St({key:"label-implicit"},r)):b.createElement(gs,gi({key:"label-implicit",content:e},r)):Ob(e)?b.createElement(gs,gi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(gs,gi({},e,{key:"label-implicit"},r)):null};function ane(e){var{label:t,labelRef:n}=e,r=Z2();return sne(t,r,n)||null}var wy={},by={},BI;function one(){return BI||(BI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(by)),by}var _y={},WI;function lne(){return WI||(WI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(_y)),_y}var qI;function cne(){return qI||(qI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=one(),n=lne(),r=_w();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i})(wy)),wy}var Sy,HI;function une(){return HI||(HI=1,Sy=cne().last),Sy}var dne=une();const fne=ni(dne);var hne=["valueAccessor"],pne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}function VI(e,t){if(e==null)return{};var n,r,i=mne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var gne=e=>Array.isArray(e.value)?fne(e.value):e.value,eM=b.createContext(void 0),vne=eM.Provider,tM=b.createContext(void 0);tM.Provider;function yne(){return b.useContext(eM)}function xne(){return b.useContext(tM)}function xf(e){var{valueAccessor:t=gne}=e,n=VI(e,hne),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:c}=n,u=VI(n,pne),h=yne(),p=xne(),m=h||p;return!m||!m.length?null:b.createElement(Ki,{zIndex:c??_n.label},b.createElement(Ai,{className:"recharts-label-list"},m.map((v,y)=>{var w,C=Qt(r)?t(v,y):vn(v&&v.payload,r),_=Qt(s)?{}:{id:"".concat(s,"-").concat(y)};return b.createElement(gs,Ih({key:"label-".concat(y)},fr(v),u,_,{fill:(w=n.fill)!==null&&w!==void 0?w:v.fill,parentViewBox:v.parentViewBox,value:C,textBreakAll:o,viewBox:v.viewBox,index:y,zIndex:0}))})))}xf.displayName="LabelList";function wne(e){var{label:t}=e;return t?t===!0?b.createElement(xf,{key:"labelList-implicit"}):b.isValidElement(t)||Ob(t)?b.createElement(xf,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(xf,Ih({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var bne={radiusAxis:{},angleAxis:{}},nM=$n({name:"polarAxis",initialState:bne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Noe,removeRadiusAxis:Ioe,addAngleAxis:Poe,removeAngleAxis:joe}=nM.actions,_ne=nM.reducer,Cy={exports:{}},Ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI;function Sne(){if(KI)return Ve;KI=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,h=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,v=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,C=e?Symbol.for("react.block"):60121,_=e?Symbol.for("react.fundamental"):60117,k=e?Symbol.for("react.responder"):60118,I=e?Symbol.for("react.scope"):60119;function E(P){if(typeof P=="object"&&P!==null){var A=P.$$typeof;switch(A){case t:switch(P=P.type,P){case u:case h:case r:case s:case i:case m:return P;default:switch(P=P&&P.$$typeof,P){case c:case p:case w:case y:case o:return P;default:return A}}case n:return A}}}function j(P){return E(P)===h}return Ve.AsyncMode=u,Ve.ConcurrentMode=h,Ve.ContextConsumer=c,Ve.ContextProvider=o,Ve.Element=t,Ve.ForwardRef=p,Ve.Fragment=r,Ve.Lazy=w,Ve.Memo=y,Ve.Portal=n,Ve.Profiler=s,Ve.StrictMode=i,Ve.Suspense=m,Ve.isAsyncMode=function(P){return j(P)||E(P)===u},Ve.isConcurrentMode=j,Ve.isContextConsumer=function(P){return E(P)===c},Ve.isContextProvider=function(P){return E(P)===o},Ve.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===t},Ve.isForwardRef=function(P){return E(P)===p},Ve.isFragment=function(P){return E(P)===r},Ve.isLazy=function(P){return E(P)===w},Ve.isMemo=function(P){return E(P)===y},Ve.isPortal=function(P){return E(P)===n},Ve.isProfiler=function(P){return E(P)===s},Ve.isStrictMode=function(P){return E(P)===i},Ve.isSuspense=function(P){return E(P)===m},Ve.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===h||P===s||P===i||P===m||P===v||typeof P=="object"&&P!==null&&(P.$$typeof===w||P.$$typeof===y||P.$$typeof===o||P.$$typeof===c||P.$$typeof===p||P.$$typeof===_||P.$$typeof===k||P.$$typeof===I||P.$$typeof===C)},Ve.typeOf=E,Ve}var GI;function Cne(){return GI||(GI=1,Cy.exports=Sne()),Cy.exports}var kne=Cne(),YI=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",XI=null,ky=null,rM=e=>{if(e===XI&&Array.isArray(ky))return ky;var t=[];return b.Children.forEach(e,n=>{Qt(n)||(kne.isFragment(n)?t=t.concat(rM(n.props.children)):t.push(n))}),ky=t,XI=e,t};function Ene(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>YI(i)):r=[YI(t)],rM(e).forEach(i=>{var s=Oo(i,"type.displayName")||Oo(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var Ey={},QI;function Nne(){return QI||(QI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Ey)),Ey}var Ny,JI;function Ine(){return JI||(JI=1,Ny=Nne().isPlainObject),Ny}var Pne=Ine();const jne=ni(Pne);function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZI(Object(n),!0).forEach(function(r){Tne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tne(e,t,n){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ane(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ph.apply(null,arguments)}var tP=(e,t,n,r,i)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),o+="L ".concat(e+n-s/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},Dne={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rne=e=>{var t=Qn(e,Dne),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:c}=t,{animationEasing:u,animationDuration:h,animationBegin:p,isUpdateAnimationActive:m}=t,v=b.useRef(null),[y,w]=b.useState(-1),C=b.useRef(i),_=b.useRef(s),k=b.useRef(o),I=b.useRef(n),E=b.useRef(r),j=Aw(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ye=v.current.getTotalLength();ye&&w(ye)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var P=it("recharts-trapezoid",c);if(!m)return b.createElement("g",null,b.createElement("path",Ph({},fr(t),{className:P,d:tP(n,r,i,s,o)})));var A=C.current,z=_.current,W=k.current,Y=I.current,oe=E.current,M="0px ".concat(y===-1?1:y,"px"),H="".concat(y,"px 0px"),se=xD(["strokeDasharray"],h,u);return b.createElement(Tw,{animationId:j,key:j,canBegin:y>0,duration:h,easing:u,isActive:m,begin:p},ye=>{var G=sn(A,i,ye),de=sn(z,s,ye),le=sn(W,o,ye),F=sn(Y,n,ye),te=sn(oe,r,ye);v.current&&(C.current=G,_.current=de,k.current=le,I.current=F,E.current=te);var B=ye>0?{transition:se,strokeDasharray:H}:{strokeDasharray:M};return b.createElement("path",Ph({},fr(t),{className:P,d:tP(F,te,G,de,le),ref:v,style:eP(eP({},B),t.style)}))})},Mne=["option","shapeType","propTransformer","activeClassName"];function Lne(e,t){if(e==null)return{};var n,r,i=Fne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(n),!0).forEach(function(r){$ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ne(e,t,n){return(t=zne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bne(e,t){return jh(jh({},t),e)}function Wne(e,t){return e==="symbols"}function rP(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(SD,n);case"trapezoid":return b.createElement(Rne,n);case"sector":return b.createElement(ED,n);case"symbols":if(Wne(t))return b.createElement(vO,n);break;case"curve":return b.createElement(yD,n);default:return null}}function qne(e){return b.isValidElement(e)?e.props:e}function Hne(e){var{option:t,shapeType:n,propTransformer:r=Bne,activeClassName:i="recharts-active-shape"}=e,s=Lne(e,Mne),o;if(b.isValidElement(t))o=b.cloneElement(t,jh(jh({},s),qne(t)));else if(typeof t=="function")o=t(s);else if(jne(t)&&typeof t!="boolean"){var c=r(t,s);o=b.createElement(rP,{shapeType:n,elementProps:c})}else{var u=s;o=b.createElement(rP,{shapeType:n,elementProps:u})}return s.isActive?b.createElement(Ai,{className:i},o):o}var iM=(e,t)=>{var n=kt();return(r,i)=>s=>{e==null||e(r,i,s),n(x2({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},sM=e=>{var t=kt();return(n,r)=>i=>{e==null||e(n,r,i),t(hZ())}},aM=(e,t)=>{var n=kt();return(r,i)=>s=>{e==null||e(r,i,s),n(pZ({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Vne(e){var{tooltipEntrySettings:t}=e,n=kt(),r=zn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(cZ(t)):i.current!==t&&n(uZ({prev:i.current,next:t})),i.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{i.current&&(n(dZ(i.current)),i.current=null)},[n]),null}function Kne(e){var{legendPayload:t}=e,n=kt(),r=zn(),i=b.useRef(null);return b.useLayoutEffect(()=>{r||(i.current===null?n(qK(t)):i.current!==t&&n(HK({prev:i.current,next:t})),i.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{i.current&&(n(VK(i.current)),i.current=null)},[n]),null}var Iy,Gne=()=>{var[e]=b.useState(()=>zc("uid-"));return e},Yne=(Iy=$4.useId)!==null&&Iy!==void 0?Iy:Gne;function oM(e,t){var n=Yne();return t||(e?"".concat(e,"-").concat(n):n)}var Xne=b.createContext(void 0),Qne=e=>{var{id:t,type:n,children:r}=e,i=oM("recharts-".concat(n),t);return b.createElement(Xne.Provider,{value:i},r(i))},Jne={cartesianItems:[],polarItems:[]},lM=$n({name:"graphicalItems",initialState:Jne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ct()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Tr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:ct()},removeCartesianGraphicalItem:{reducer(e,t){var n=Tr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:ct()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ct()},removePolarGraphicalItem:{reducer(e,t){var n=Tr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:ct()}}}),{addCartesianGraphicalItem:Zne,replaceCartesianGraphicalItem:ere,removeCartesianGraphicalItem:tre,addPolarGraphicalItem:Toe,removePolarGraphicalItem:Aoe}=lM.actions,nre=lM.reducer,rre=e=>{var t=kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Zne(e)):n.current!==e&&t(ere({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(tre(n.current)),n.current=null)},[t]),null},ire=b.memo(rre);function iP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(n),!0).forEach(function(r){sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sre(e,t,n){return(t=are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function are(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lre={xAxis:{},yAxis:{},zAxis:{}},cM=$n({name:"cartesianAxis",initialState:lre,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ct()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:ct()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ct()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ct()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:ct()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ct()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ct()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:ct()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ct()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);e.yAxis[n]=sP(sP({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:cre,replaceXAxis:ure,removeXAxis:dre,addYAxis:fre,replaceYAxis:hre,removeYAxis:pre,addZAxis:Ooe,replaceZAxis:Doe,removeZAxis:Roe,updateYAxisWidth:mre}=cM.actions,gre=cM.reducer,vre=q([Zt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yre=q([vre,Ui,Bi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),uM=()=>Ce(yre),xre="Invariant failed";function wre(e,t){throw new Error(xre)}var bre=["x","y"];function Xx(){return Xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xx.apply(null,arguments)}function aP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(n),!0).forEach(function(r){_re(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _re(e,t,n){return(t=Sre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sre(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t){if(e==null)return{};var n,r,i=Ere(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ere(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nre(e,t){var{x:n,y:r}=e,i=kre(e,bre),s="".concat(n),o=parseInt(s,10),c="".concat(r),u=parseInt(c,10),h="".concat(t.height||i.height),p=parseInt(h,10),m="".concat(t.width||i.width),v=parseInt(m,10);return fc(fc(fc(fc(fc({},t),i),o?{x:o}:{}),u?{y:u}:{}),{},{height:p,width:v,name:t.name,radius:t.radius})}function Th(e){return b.createElement(Hne,Xx({shapeType:"rectangle",propTransformer:Nre,activeClassName:"recharts-active-bar"},e))}var Ire=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(be(t))return t;var s=be(r)||Qt(r);return s?t(r,i):(s||wre(),n)}},Pre={},dM=$n({name:"errorBars",initialState:Pre,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Moe,replaceErrorBar:Loe,removeErrorBar:Foe}=dM.actions,jre=dM.reducer,Tre=["children"];function Are(e,t){if(e==null)return{};var n,r,i=Ore(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ore(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Dre={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Rre=b.createContext(Dre);function Mre(e){var{children:t}=e,n=Are(e,Tre);return b.createElement(Rre.Provider,{value:n},t)}function fM(e,t){var n,r,i=Ce(h=>qi(h,e)),s=Ce(h=>Hi(h,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:qt.allowDataOverflow,c=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ht.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function Lre(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=uM(),{needClipX:s,needClipY:o,needClip:c}=fM(t,n);if(!c||!i)return null;var{x:u,y:h,width:p,height:m}=i;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:s?u:u-p/2,y:o?h:h-m/2,width:s?p:p*2,height:o?m:m*2}))}function Fre(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ct(e.zIndex)?e.zIndex:t}var Py={exports:{}},jy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oP;function $re(){if(oP)return jy;oP=1;var e=zo();function t(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,c=e.useDebugValue;return jy.useSyncExternalStoreWithSelector=function(u,h,p,m,v){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function _(P){if(!k){if(k=!0,I=P,P=m(P),v!==void 0&&w.hasValue){var A=w.value;if(v(A,P))return E=A}return E=P}if(A=E,n(I,P))return A;var z=m(P);return v!==void 0&&v(A,z)?(I=P,A):(I=P,E=z)}var k=!1,I,E,j=p===void 0?null:p;return[function(){return _(h())},j===null?void 0:function(){return _(j())}]},[h,p,m,v]);var C=r(u,y[0],y[1]);return s(function(){w.hasValue=!0,w.value=C},[C]),c(C),C},jy}var lP;function zre(){return lP||(lP=1,Py.exports=$re()),Py.exports}zre();function Ure(e){e()}function Bre(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ure(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cP={notify(){},get:()=>[]};function Wre(e,t){let n,r=cP,i=0,s=!1;function o(C){p();const _=r.subscribe(C);let k=!1;return()=>{k||(k=!0,_(),m())}}function c(){r.notify()}function u(){w.onStateChange&&w.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(u),r=Bre())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=cP)}function v(){s||(s=!0,p())}function y(){s&&(s=!1,m())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return w}var qre=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hre=qre(),Vre=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kre=Vre(),Gre=()=>Hre||Kre?b.useLayoutEffect:b.useEffect,Yre=Gre();function uP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xre(e,t){if(uP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!uP(e[n[i]],t[n[i]]))return!1;return!0}var Ty=Symbol.for("react-redux-context"),Ay=typeof globalThis<"u"?globalThis:{};function Qre(){if(!b.createContext)return{};const e=Ay[Ty]??(Ay[Ty]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var Jre=Qre();function Zre(e){const{children:t,context:n,serverState:r,store:i}=e,s=b.useMemo(()=>{const u=Wre(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),o=b.useMemo(()=>i.getState(),[i]);Yre(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const c=n||Jre;return b.createElement(c.Provider,{value:s},t)}var eie=Zre,tie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function nie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Db(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(tie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Xre(e[r],t[r]))return!1}else if(!nie(e[r],t[r]))return!1;return!0}var rie=["onMouseEnter","onMouseLeave","onClick"],iie=["value","background","tooltipPosition"],sie=["id"],aie=["onMouseEnter","onClick","onMouseLeave"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(n),!0).forEach(function(r){oie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oie(e,t,n){return(t=lie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ah(e,t){if(e==null)return{};var n,r,i=uie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var die=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:oD(n,t),payload:e}]},fie=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:c,tooltipType:u}=e,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:oD(s,t),hide:o,type:u,color:i,unit:c}};return b.createElement(Vne,{tooltipEntrySettings:h})});function hie(e){var t=Ce($o),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:c,onClick:u}=s,h=Ah(s,rie),p=iM(o,r),m=sM(c),v=aM(u,r);if(!i||n==null)return null;var y=pw(i);return b.createElement(Ki,{zIndex:Fre(i,_n.barBackground)},n.map((w,C)=>{var{value:_,background:k,tooltipPosition:I}=w,E=Ah(w,iie);if(!k)return null;var j=p(w,C),P=m(w,C),A=v(w,C),z=wn(wn(wn(wn(wn({option:i,isActive:String(C)===t},E),{},{fill:"#eee"},k),y),bw(h,w,C)),{},{onMouseEnter:j,onMouseLeave:P,onClick:A,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return b.createElement(Th,$i({key:"background-bar-".concat(C)},z))}))}function pie(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return wn(wn({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return b.createElement(vne,{value:t?i:void 0},n)}function mie(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:s,dataKey:o}=e,c=Ce($o),u=Ce(O2),h=n&&String(s)===c&&(u==null||o===u),p=h?n:t;return h?b.createElement(Ki,{zIndex:_n.activeBar},b.createElement(Th,$i({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:o}))):b.createElement(Th,$i({},r,{name:String(r.name)},i,{isActive:h,option:p,index:s,dataKey:o}))}function gie(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:s}=e;return b.createElement(Th,$i({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:s}))}function vie(e){var t,{data:n,props:r}=e,i=(t=Ti(r))!==null&&t!==void 0?t:{},{id:s}=i,o=Ah(i,sie),{shape:c,dataKey:u,activeBar:h}=r,{onMouseEnter:p,onClick:m,onMouseLeave:v}=r,y=Ah(r,aie),w=iM(p,u),C=sM(v),_=aM(m,u);return n?b.createElement(b.Fragment,null,n.map((k,I)=>b.createElement(Ai,$i({key:"rectangle-".concat(k==null?void 0:k.x,"-").concat(k==null?void 0:k.y,"-").concat(k==null?void 0:k.value,"-").concat(I),className:"recharts-bar-rectangle"},bw(y,k,I),{onMouseEnter:w(k,I),onMouseLeave:C(k,I),onClick:_(k,I)}),h?b.createElement(mie,{shape:c,activeBar:h,baseProps:o,entry:k,index:I,dataKey:u}):b.createElement(gie,{shape:c,baseProps:o,entry:k,index:I,dataKey:u})))):null}function yie(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:h,onAnimationStart:p}=t,m=n.current,v=Aw(t,"recharts-bar-"),[y,w]=b.useState(!1),C=!y,_=b.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),k=b.useCallback(()=>{typeof p=="function"&&p(),w(!0)},[p]);return b.createElement(pie,{showLabels:C,rects:r},b.createElement(Tw,{animationId:v,begin:o,duration:c,isActive:s,easing:u,onAnimationEnd:_,onAnimationStart:k,key:v},I=>{var E=I===1?r:r==null?void 0:r.map((j,P)=>{var A=m&&m[P];if(A)return wn(wn({},j),{},{x:sn(A.x,j.x,I),y:sn(A.y,j.y,I),width:sn(A.width,j.width,I),height:sn(A.height,j.height,I)});if(i==="horizontal"){var z=sn(0,j.height,I),W=sn(j.stackedBarStart,j.y,I);return wn(wn({},j),{},{y:W,height:z})}var Y=sn(0,j.width,I),oe=sn(j.stackedBarStart,j.x,I);return wn(wn({},j),{},{width:Y,x:oe})});return I>0&&(n.current=E??null),E==null?null:b.createElement(Ai,null,b.createElement(vie,{props:t,data:E}))}),b.createElement(wne,{label:t.label}),t.children)}function xie(e){var t=b.useRef(null);return b.createElement(yie,{previousRectanglesRef:t,props:e})}var hM=0,wie=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:vn(e,t)}};class bie extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:c,background:u,id:h}=this.props;if(t||n==null)return null;var p=it("recharts-bar",i),m=h;return b.createElement(Ai,{className:p,id:h},c&&b.createElement("defs",null,b.createElement(Lre,{clipPathId:m,xAxisId:s,yAxisId:o})),b.createElement(Ai,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(m,")"):void 0},b.createElement(hie,{data:n,dataKey:r,background:u,allOtherBarProps:this.props}),b.createElement(xie,this.props)))}}var _ie={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:hM,xAxisId:0,yAxisId:0,zIndex:_n.bar};function Sie(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:p}=e,{needClip:m}=fM(t,n),v=xp(),y=zn(),w=Ene(e.children,W2),C=Ce(I=>Qie(I,t,n,y,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var _,k=C==null?void 0:C[0];return k==null||k.height==null||k.width==null?_=0:_=v==="vertical"?k.height/2:k.width/2,b.createElement(Mre,{xAxisId:t,yAxisId:n,data:C,dataPointFormatter:wie,errorBarOffset:_},b.createElement(bie,$i({},e,{layout:v,needClip:m,data:C,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:p})))}function Cie(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:h,stackedData:p,displayedData:m,offset:v,cells:y,parentViewBox:w,dataStartIndex:C}=e,_=t==="horizontal"?c:o,k=p?_.scale.domain():null,I=iK({numericAxis:_}),E=_.scale(I);return m.map((j,P)=>{var A,z,W,Y,oe,M;p?A=J7(p[P+C],k):(A=vn(j,n),Array.isArray(A)||(A=[I,A]));var H=Ire(r,hM)(A[1],P);if(t==="horizontal"){var se,[ye,G]=[c.scale(A[0]),c.scale(A[1])];z=BE({axis:o,ticks:u,bandSize:s,offset:i.offset,entry:j,index:P}),W=(se=G??ye)!==null&&se!==void 0?se:void 0,Y=i.size;var de=ye-G;if(oe=Rr(de)?0:de,M={x:z,y:v.top,width:Y,height:v.height},Math.abs(H)>0&&Math.abs(oe)<Math.abs(H)){var le=Ln(oe||H)*(Math.abs(H)-Math.abs(oe));W-=le,oe+=le}}else{var[F,te]=[o.scale(A[0]),o.scale(A[1])];if(z=F,W=BE({axis:c,ticks:h,bandSize:s,offset:i.offset,entry:j,index:P}),Y=te-F,oe=i.size,M={x:v.left,y:W,width:v.width,height:oe},Math.abs(H)>0&&Math.abs(Y)<Math.abs(H)){var B=Ln(Y||H)*(Math.abs(H)-Math.abs(Y));Y+=B}}if(z==null||W==null||Y==null||oe==null)return null;var O=wn(wn({},j),{},{stackedBarStart:E,x:z,y:W,width:Y,height:oe,value:p?A:A[1],payload:j,background:M,tooltipPosition:{x:z+Y/2,y:W+oe/2},parentViewBox:w},y&&y[P]&&y[P].props);return O}).filter(Boolean)}function kie(e){var t=Qn(e,_ie),n=zn();return b.createElement(Qne,{id:t.id,type:"bar"},r=>b.createElement(b.Fragment,null,b.createElement(Kne,{legendPayload:die(t)}),b.createElement(fie,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),b.createElement(ire,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:rK(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),b.createElement(Ki,{zIndex:t.zIndex},b.createElement(Sie,$i({},t,{id:r})))))}var pM=b.memo(kie,Db);pM.displayName="Bar";function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){Eie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eie(e,t,n){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pie=(e,t)=>t,jie=(e,t,n)=>n,Tie=(e,t,n,r)=>r,Aie=(e,t,n,r,i)=>i,ku=q([hb,Aie],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),Oie=q([ku],e=>e==null?void 0:e.maxBarSize),Die=(e,t,n,r,i,s)=>s,hP=(e,t,n)=>{var r=n??e;if(!Qt(r))return Mr(r,t,0)},Rie=q([Ye,hb,Pie,jie,Tie],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Mie=(e,t,n,r)=>{var i=Ye(e);return i==="horizontal"?Wx(e,"yAxis",n,r):Wx(e,"xAxis",t,r)},Lie=(e,t,n)=>{var r=Ye(e);return r==="horizontal"?hI(e,"xAxis",t):hI(e,"yAxis",n)},Fie=(e,t,n)=>{var r={},i=e.filter(Tp),s=e.filter(h=>h.stackId==null),o=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),c=Object.entries(o).map(h=>{var[p,m]=h,v=m.map(w=>w.dataKey),y=hP(t,n,m[0].barSize);return{stackId:p,dataKeys:v,barSize:y}}),u=s.map(h=>{var p=[h.dataKey].filter(v=>v!=null),m=hP(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:m}});return[...c,...u]},$ie=q([Rie,nJ,Lie],Fie),zie=(e,t,n,r,i)=>{var s,o,c=ku(e,t,n,r,i);if(c!=null){var u=Ye(e),h=_R(e),{maxBarSize:p}=c,m=Qt(p)?h:p,v,y;return u==="horizontal"?(v=Fo(e,"xAxis",t,r),y=Lo(e,"xAxis",t,r)):(v=Fo(e,"yAxis",n,r),y=Lo(e,"yAxis",n,r)),(s=(o=lh(v,y,!0))!==null&&o!==void 0?o:m)!==null&&s!==void 0?s:0}},mM=(e,t,n,r)=>{var i=Ye(e),s,o;return i==="horizontal"?(s=Fo(e,"xAxis",t,r),o=Lo(e,"xAxis",t,r)):(s=Fo(e,"yAxis",n,r),o=Lo(e,"yAxis",n,r)),lh(s,o)};function Uie(e,t,n,r,i){var s=r.length;if(!(s<1)){var o=Mr(e,n,0,!0),c,u=[];if(Ct(r[0].barSize)){var h=!1,p=n/s,m=r.reduce((k,I)=>k+(I.barSize||0),0);m+=(s-1)*o,m>=n&&(m-=(s-1)*o,o=0),m>=n&&p>0&&(h=!0,p*=.9,m=s*p);var v=(n-m)/2>>0,y={offset:v-o,size:0};c=r.reduce((k,I)=>{var E,j={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:y.offset+y.size+o,size:h?p:(E=I.barSize)!==null&&E!==void 0?E:0}},P=[...k,j];return y=P[P.length-1].position,P},u)}else{var w=Mr(t,n,0,!0);n-2*w-(s-1)*o<=0&&(o=0);var C=(n-2*w-(s-1)*o)/s;C>1&&(C>>=0);var _=Ct(i)?Math.min(C,i):C;c=r.reduce((k,I,E)=>[...k,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:w+(C+o)*E+(C-_)/2,size:_}}],u)}return c}}var Bie=(e,t,n,r,i,s,o)=>{var c=Qt(o)?t:o,u=Uie(n,r,i!==s?i:s,e,c);return i!==s&&u!=null&&(u=u.map(h=>lf(lf({},h),{},{position:lf(lf({},h.position),{},{offset:h.position.offset-i/2})}))),u},Wie=q([$ie,_R,tJ,SR,zie,mM,Oie],Bie),qie=(e,t,n,r)=>Fo(e,"xAxis",t,r),Hie=(e,t,n,r)=>Fo(e,"yAxis",n,r),Vie=(e,t,n,r)=>Lo(e,"xAxis",t,r),Kie=(e,t,n,r)=>Lo(e,"yAxis",n,r),Gie=q([Wie,ku],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Yie=(e,t)=>{var n=db(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}},Xie=q([Mie,ku],Yie),Qie=q([Zt,Pw,qie,Hie,Vie,Kie,Gie,Ye,nb,mM,Xie,ku,Die],(e,t,n,r,i,s,o,c,u,h,p,m,v)=>{var{chartData:y,dataStartIndex:w,dataEndIndex:C}=u;if(!(m==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||n==null||r==null||i==null||s==null||h==null)){var{data:_}=m,k;if(_!=null&&_.length>0?k=_:k=y==null?void 0:y.slice(w,C+1),k!=null)return Cie({layout:c,barSettings:m,pos:o,parentViewBox:t,bandSize:h,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:p,displayedData:k,offset:e,cells:v,dataStartIndex:w})}}),Jie=e=>{var{chartData:t}=e,n=kt(),r=zn();return b.useEffect(()=>r?()=>{}:(n(EI(t)),()=>{n(EI(void 0))}),[t,n,r]),null},pP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},gM=$n({name:"brush",initialState:pP,reducers:{setBrushSettings(e,t){return t.payload==null?pP:t.payload}}}),{setBrushSettings:$oe}=gM.actions,Zie=gM.reducer;function ese(e,t,n){return(t=tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Rb{static create(t){return new Rb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}ese(Rb,"EPS",1e-4);function rse(e){return(e%180+180)%180}var ise=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=rse(i),o=s*Math.PI/180,c=Math.atan(r/n),u=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(u)},sse={dots:[],areas:[],lines:[]},vM=$n({name:"referenceElements",initialState:sse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Tr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Tr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Tr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:zoe,removeDot:Uoe,addArea:Boe,removeArea:Woe,addLine:qoe,removeLine:Hoe}=vM.actions,ase=vM.reducer,ose=b.createContext(void 0),lse=e=>{var{children:t}=e,[n]=b.useState("".concat(zc("recharts"),"-clip")),r=uM();if(r==null)return null;var{x:i,y:s,width:o,height:c}=r;return b.createElement(ose.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:i,y:s,height:c,width:o}))),t)};function yM(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t)n.push(e[r]);return n}function cse(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ise(r,n)}function use(e,t,n){var r=n==="width",{x:i,y:s,width:o,height:c}=e;return t===1?{start:r?i:s,end:r?i+o:s+c}:{start:r?i+o:s+c,end:r?i:s}}function Oh(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function dse(e,t){return yM(e,t+1)}function fse(e,t,n,r,i){for(var s=(r||[]).slice(),{start:o,end:c}=t,u=0,h=1,p=o,m=function(){var w=r==null?void 0:r[u];if(w===void 0)return{v:yM(r,h)};var C=u,_,k=()=>(_===void 0&&(_=n(w,C)),_),I=w.coordinate,E=u===0||Oh(e,I,k,p,c);E||(u=0,p=o,h+=1),E&&(p=I+e*(k()/2+i),u+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function mP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(n),!0).forEach(function(r){hse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hse(e,t,n){return(t=pse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gse(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:c}=t,{end:u}=t,h=function(v){var y=s[v],w,C=()=>(w===void 0&&(w=n(y,v)),w);if(v===o-1){var _=e*(y.coordinate+e*C()/2-u);s[v]=y=mn(mn({},y),{},{tickCoord:_>0?y.coordinate-_*e:y.coordinate})}else s[v]=y=mn(mn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var k=Oh(e,y.tickCoord,C,c,u);k&&(u=y.tickCoord-e*(C()/2+i),s[v]=mn(mn({},y),{},{isShow:!0}))}},p=o-1;p>=0;p--)h(p);return s}function vse(e,t,n,r,i,s){var o=(r||[]).slice(),c=o.length,{start:u,end:h}=t;if(s){var p=r[c-1],m=n(p,c-1),v=e*(p.coordinate+e*m/2-h);if(o[c-1]=p=mn(mn({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate}),p.tickCoord!=null){var y=Oh(e,p.tickCoord,()=>m,u,h);y&&(h=p.tickCoord-e*(m/2+i),o[c-1]=mn(mn({},p),{},{isShow:!0}))}}for(var w=s?c-1:c,C=function(I){var E=o[I],j,P=()=>(j===void 0&&(j=n(E,I)),j);if(I===0){var A=e*(E.coordinate-e*P()/2-u);o[I]=E=mn(mn({},E),{},{tickCoord:A<0?E.coordinate-A*e:E.coordinate})}else o[I]=E=mn(mn({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var z=Oh(e,E.tickCoord,P,u,h);z&&(u=E.tickCoord+e*(P()/2+i),o[I]=mn(mn({},E),{},{isShow:!0}))}},_=0;_<w;_++)C(_);return o}function Mb(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:c,interval:u,tickFormatter:h,unit:p,angle:m}=e;if(!i||!i.length||!r)return[];if(be(u)||tl.isSsr){var v;return(v=dse(i,be(u)?u:0))!==null&&v!==void 0?v:[]}var y=[],w=c==="top"||c==="bottom"?"width":"height",C=p&&w==="width"?Cc(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},_=(E,j)=>{var P=typeof h=="function"?h(E.value,j):E.value;return w==="width"?cse(Cc(P,{fontSize:t,letterSpacing:n}),C,m):Cc(P,{fontSize:t,letterSpacing:n})[w]},k=i.length>=2?Ln(i[1].coordinate-i[0].coordinate):1,I=use(s,k,w);return u==="equidistantPreserveStart"?fse(k,I,_,i,o):(u==="preserveStart"||u==="preserveStartEnd"?y=vse(k,I,_,i,o,u==="preserveStartEnd"):y=gse(k,I,_,i,o),y.filter(E=>E.isShow))}var yse=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){Array.from(t).forEach(p=>{if(p){var m=p.getBoundingClientRect();m.width>o&&(o=m.width)}});var c=n?n.getBoundingClientRect().width:0,u=i+s,h=o+u+c+(n?r:0);return Math.round(h)}return 0},xse=["axisLine","width","height","className","hide","ticks","axisType"];function wse(e,t){if(e==null)return{};var n,r,i=bse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(null,arguments)}function gP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(n),!0).forEach(function(r){_se(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _se(e,t,n){return(t=Sse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=Cse(e,"string");return typeof t=="symbol"?t:t+""}function Cse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_n.axis};function kse(e){var{x:t,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:c,otherSvgProps:u}=e;if(!c)return null;var h=Nt(Nt(Nt({},u),Ti(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var p=+(s==="top"&&!o||s==="bottom"&&o);h=Nt(Nt({},h),{},{x1:t,y1:n+p*i,x2:t+r,y2:n+p*i})}else{var m=+(s==="left"&&!o||s==="right"&&o);h=Nt(Nt({},h),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return b.createElement("line",Sa({},h,{className:it("recharts-cartesian-axis-line",Oo(c,"className"))}))}function Ese(e,t,n,r,i,s,o,c,u){var h,p,m,v,y,w,C=c?-1:1,_=e.tickSize||o,k=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":h=p=e.coordinate,v=n+ +!c*i,m=v-C*_,w=m-C*u,y=k;break;case"left":m=v=e.coordinate,p=t+ +!c*r,h=p-C*_,y=h-C*u,w=k;break;case"right":m=v=e.coordinate,p=t+ +c*r,h=p+C*_,y=h+C*u,w=k;break;default:h=p=e.coordinate,v=n+ +c*i,m=v+C*_,w=m+C*u,y=k;break}return{line:{x1:h,y1:m,x2:p,y2:v},tick:{x:y,y:w}}}function Nse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ise(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pse(e){var{option:t,tickProps:n,value:r}=e,i,s=it(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))i=b.cloneElement(t,Nt(Nt({},n),{},{className:s}));else if(typeof t=="function")i=t(Nt(Nt({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=it(o,t==null?void 0:t.className)),i=b.createElement(Ab,Sa({},n,{className:o}),r)}return i}var jse=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:c,padding:u,tickTextProps:h,orientation:p,mirror:m,x:v,y,width:w,height:C,tickSize:_,tickMargin:k,fontSize:I,letterSpacing:E,getTicksConfig:j,events:P,axisType:A}=e,z=Mb(Nt(Nt({},j),{},{ticks:n}),I,E),W=Nse(p,m),Y=Ise(p,m),oe=Ti(j),M=pw(r),H={};typeof i=="object"&&(H=i);var se=Nt(Nt({},oe),{},{fill:"none"},H),ye=z.map(le=>Nt({entry:le},Ese(le,v,y,w,C,p,_,m,k))),G=ye.map(le=>{var{entry:F,line:te}=le;return b.createElement(Ai,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(F.value,"-").concat(F.coordinate,"-").concat(F.tickCoord)},i&&b.createElement("line",Sa({},se,te,{className:it("recharts-cartesian-axis-tick-line",Oo(i,"className"))})))}),de=ye.map((le,F)=>{var{entry:te,tick:B}=le,O=Nt(Nt(Nt(Nt({textAnchor:W,verticalAnchor:Y},oe),{},{stroke:"none",fill:s},M),B),{},{index:F,payload:te,visibleTicksCount:z.length,tickFormatter:o,padding:u},h);return b.createElement(Ai,Sa({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},bw(P,te,F)),r&&b.createElement(Pse,{option:r,tickProps:O,value:"".concat(typeof o=="function"?o(te.value,F):te.value).concat(c||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},de.length>0&&b.createElement(Ki,{zIndex:_n.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:t},de)),G.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},G))}),Tse=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:c,axisType:u}=e,h=wse(e,xse),[p,m]=b.useState(""),[v,y]=b.useState(""),w=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return yse({ticks:w.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var C=b.useCallback(_=>{if(_){var k=_.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=k;var I=k[0];if(I){var E=window.getComputedStyle(I),j=E.fontSize,P=E.letterSpacing;(j!==p||P!==v)&&(m(j),y(P))}}},[p,v]);return o||r!=null&&r<=0||i!=null&&i<=0?null:b.createElement(Ki,{zIndex:e.zIndex},b.createElement(Ai,{className:it("recharts-cartesian-axis",s)},b.createElement(kse,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Ti(e)}),b.createElement(jse,{ref:C,axisType:u,events:h,fontSize:p,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(Xte,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(ane,{label:e.label,labelRef:e.labelRef}),e.children)))}),Lb=b.forwardRef((e,t)=>{var n=Qn(e,Ei);return b.createElement(Tse,Sa({},n,{ref:t}))});Lb.displayName="CartesianAxis";var Ase=["x1","y1","x2","y2","key"],Ose=["offset"],Dse=["xAxisId","yAxisId"],Rse=["xAxisId","yAxisId"];function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(n),!0).forEach(function(r){Mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mse(e,t,n){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lse(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oa.apply(null,arguments)}function Dh(e,t){if(e==null)return{};var n,r,i=$se(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $se(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:c}=e;return b.createElement("rect",{x:r,y:i,ry:c,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xM(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:s,y1:o,x2:c,y2:u,key:h}=n,p=Dh(n,Ase),m=(i=Ti(p))!==null&&i!==void 0?i:{},{offset:v}=m,y=Dh(m,Ose);r=b.createElement("line",oa({},y,{x1:s,y1:o,x2:c,y2:u,fill:"none",key:h}))}return r}function Use(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,c=Dh(e,Dse),u=i.map((h,p)=>{var m=gn(gn({},c),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return b.createElement(xM,{key:"line-".concat(p),option:r,lineItemProps:m})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Bse(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,c=Dh(e,Rse),u=i.map((h,p)=>{var m=gn(gn({},c),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return b.createElement(xM,{option:r,lineItemProps:m,key:"line-".concat(p)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function Wse(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:c,horizontal:u=!0}=e;if(!u||!t||!t.length||c==null)return null;var h=c.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==h[0]&&h.unshift(0);var p=h.map((m,v)=>{var y=!h[v+1],w=y?i+o-m:h[v+1]-m;if(w<=0)return null;var C=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:w,width:s,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function qse(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:c,verticalPoints:u}=e;if(!t||!n||!n.length)return null;var h=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==h[0]&&h.unshift(0);var p=h.map((m,v)=>{var y=!h[v+1],w=y?i+o-m:h[v+1]-m;if(w<=0)return null;var C=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:m,y:s,width:w,height:c,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Hse=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return sD(Mb(gn(gn(gn({},Ei),n),{},{ticks:aD(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Vse=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return sD(Mb(gn(gn(gn({},Ei),n),{},{ticks:aD(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},Kse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_n.grid};function wM(e){var t=pD(),n=mD(),r=hD(),i=gn(gn({},Qn(e,Kse)),{},{x:be(e.x)?e.x:r.left,y:be(e.y)?e.y:r.top,width:be(e.width)?e.width:r.width,height:be(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:c,y:u,width:h,height:p,syncWithTicks:m,horizontalValues:v,verticalValues:y}=i,w=zn(),C=Ce(Y=>pI(Y,"xAxis",s,w)),_=Ce(Y=>pI(Y,"yAxis",o,w));if(!ei(h)||!ei(p)||!be(c)||!be(u))return null;var k=i.verticalCoordinatesGenerator||Hse,I=i.horizontalCoordinatesGenerator||Vse,{horizontalPoints:E,verticalPoints:j}=i;if((!E||!E.length)&&typeof I=="function"){var P=v&&v.length,A=I({yAxis:_?gn(gn({},_),{},{ticks:P?v:_.ticks}):void 0,width:t??h,height:n??p,offset:r},P?!0:m);ch(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(E=A)}if((!j||!j.length)&&typeof k=="function"){var z=y&&y.length,W=k({xAxis:C?gn(gn({},C),{},{ticks:z?y:C.ticks}):void 0,width:t??h,height:n??p,offset:r},z?!0:m);ch(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof W,"]")),Array.isArray(W)&&(j=W)}return b.createElement(Ki,{zIndex:i.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(zse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),b.createElement(Wse,oa({},i,{horizontalPoints:E})),b.createElement(qse,oa({},i,{verticalPoints:j})),b.createElement(Use,oa({},i,{offset:r,horizontalPoints:E,xAxis:C,yAxis:_})),b.createElement(Bse,oa({},i,{offset:r,verticalPoints:j,xAxis:C,yAxis:_}))))}wM.displayName="CartesianGrid";var Gse=["domain","range"],Yse=["domain","range"];function yP(e,t){if(e==null)return{};var n,r,i=Xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Xse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function bM(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=yP(e,Gse),{domain:s,range:o}=t,c=yP(t,Yse);return!xP(n,s)||!xP(r,o)?!1:Db(i,c)}var Qse=["dangerouslySetInnerHTML","ticks"],Jse=["id"];function Qx(){return Qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qx.apply(null,arguments)}function wP(e,t){if(e==null)return{};var n,r,i=Zse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eae(e){var t=kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(cre(e)):n.current!==e&&t(ure({prev:n.current,next:e})),n.current=e},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(dre(n.current)),n.current=null)},[t]),null}var tae=e=>{var{xAxisId:t,className:n}=e,r=Ce(Pw),i=zn(),s="xAxis",o=Ce(_=>ol(_,s,t,i)),c=Ce(_=>h2(_,s,t,i)),u=Ce(_=>c2(_,t)),h=Ce(_=>ZJ(_,t)),p=Ce(_=>AR(_,t));if(u==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:v}=e,y=wP(e,Qse),{id:w}=p,C=wP(p,Jse);return b.createElement(Lb,Qx({},y,C,{scale:o,x:h.x,y:h.y,width:u.width,height:u.height,className:it("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:c,axisType:s}))},nae={allowDataOverflow:qt.allowDataOverflow,allowDecimals:qt.allowDecimals,allowDuplicatedCategory:qt.allowDuplicatedCategory,angle:qt.angle,axisLine:Ei.axisLine,height:qt.height,hide:!1,includeHidden:qt.includeHidden,interval:qt.interval,minTickGap:qt.minTickGap,mirror:qt.mirror,orientation:qt.orientation,padding:qt.padding,reversed:qt.reversed,scale:qt.scale,tick:qt.tick,tickCount:qt.tickCount,tickLine:Ei.tickLine,tickSize:Ei.tickSize,type:qt.type,xAxisId:0},rae=e=>{var t=Qn(e,nae);return b.createElement(b.Fragment,null,b.createElement(eae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(tae,t))},_M=b.memo(rae,bM);_M.displayName="XAxis";var iae=["dangerouslySetInnerHTML","ticks"],sae=["id"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jx.apply(null,arguments)}function bP(e,t){if(e==null)return{};var n,r,i=aae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oae(e){var t=kt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(fre(e)):n.current!==e&&t(hre({prev:n.current,next:e})),n.current=e},[e,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(pre(n.current)),n.current=null)},[t]),null}var lae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,s=b.useRef(null),o=b.useRef(null),c=Ce(Pw),u=zn(),h=kt(),p="yAxis",m=Ce(P=>ol(P,p,t,u)),v=Ce(P=>u2(P,t)),y=Ce(P=>tZ(P,t)),w=Ce(P=>h2(P,p,t,u)),C=Ce(P=>OR(P,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!v||Ob(i)||b.isValidElement(i)||C==null)){var P=s.current;if(P){var A=P.getCalculatedWidth();Math.round(v.width)!==Math.round(A)&&h(mre({id:t,width:A}))}}},[w,v,h,i,t,r,C]),v==null||y==null||C==null)return null;var{dangerouslySetInnerHTML:_,ticks:k}=e,I=bP(e,iae),{id:E}=C,j=bP(C,sae);return b.createElement(Lb,Jx({},I,j,{ref:s,labelRef:o,scale:m,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:v.width,height:v.height,className:it("recharts-".concat(p," ").concat(p),n),viewBox:c,ticks:w,axisType:p}))},cae={allowDataOverflow:Ht.allowDataOverflow,allowDecimals:Ht.allowDecimals,allowDuplicatedCategory:Ht.allowDuplicatedCategory,angle:Ht.angle,axisLine:Ei.axisLine,hide:!1,includeHidden:Ht.includeHidden,interval:Ht.interval,minTickGap:Ht.minTickGap,mirror:Ht.mirror,orientation:Ht.orientation,padding:Ht.padding,reversed:Ht.reversed,scale:Ht.scale,tick:Ht.tick,tickCount:Ht.tickCount,tickLine:Ei.tickLine,tickSize:Ei.tickSize,type:Ht.type,width:Ht.width,yAxisId:0},uae=e=>{var t=Qn(e,cae);return b.createElement(b.Fragment,null,b.createElement(oae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(lae,t))},SM=b.memo(uae,bM);SM.displayName="YAxis";var dae=(e,t)=>t,Fb=q([dae,Ye,jR,$t,P2,Vi,mee,Zt],_ee),$b=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},CM=hr("mouseClick"),kM=du();kM.startListening({actionCreator:CM,effect:(e,t)=>{var n=e.payload,r=Fb(t.getState(),$b(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(mZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Zx=hr("mouseMove"),EM=du(),cf=null;EM.startListening({actionCreator:Zx,effect:(e,t)=>{var n=e.payload;cf!==null&&cancelAnimationFrame(cf);var r=$b(n);cf=requestAnimationFrame(()=>{var i=t.getState(),s=_b(i,i.tooltip.settings.shared);if(s==="axis"){var o=Fb(i,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(b2({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(w2())}cf=null})}});var _P={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},NM=$n({name:"rootProps",initialState:_P,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:_P.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fae=NM.reducer,{updateOptions:hae}=NM.actions,IM=$n({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Voe}=IM.actions,pae=IM.reducer,PM=hr("keyDown"),jM=hr("focus"),zb=du();zb.startListening({actionCreator:PM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Sb(i,cl(n),xu(n),Cu(n)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Vi(n);if(s==="Enter"){var h=Nh(n,"axis","hover",String(i.index));t.dispatch(Hx({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:h}));return}var p=sZ(n),m=p==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,y=c+v*m;if(!(u==null||y>=u.length||y<0)){var w=Nh(n,"axis","hover",String(y));t.dispatch(Hx({active:!0,activeIndex:y.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});zb.startListening({actionCreator:jM,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=Nh(n,"axis","hover",String(s));t.dispatch(Hx({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var ar=hr("externalEvent"),TM=du(),Oy=new Map;TM.startListening({actionCreator:ar,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,s=Oy.get(i);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var c=t.getState(),u={activeCoordinate:eee(c),activeDataKey:O2(c),activeIndex:$o(c),activeLabel:A2(c),activeTooltipIndex:$o(c),isTooltipActive:tee(c)};n(u,r)}finally{Oy.delete(i)}});Oy.set(i,o)}}});var mae=q([ll],e=>e.tooltipItemPayloads),gae=q([mae,_u,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),AM=hr("touchMove"),OM=du();OM.startListening({actionCreator:AM,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=_b(r,r.tooltip.settings.shared);if(i==="axis"){var s=Fb(r,$b({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(b2({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(dK),p=(o=u.getAttribute(fK))!==null&&o!==void 0?o:void 0,m=gae(t.getState(),h,p);t.dispatch(x2({activeDataKey:p,activeIndex:h,activeCoordinate:m}))}}}});var vae=OO({brush:Zie,cartesianAxis:gre,chartData:ete,errorBars:jre,graphicalItems:nre,layout:V7,legend:KK,options:Yee,polarAxis:_ne,polarOptions:pae,referenceElements:ase,rootProps:fae,tooltip:gZ,zIndex:Mee}),yae=function(t){return v7({reducer:vae,preloadedState:t,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([kM.middleware,EM.middleware,zb.middleware,TM.middleware,OM.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(HO({type:"raf"}))},devTools:tl.devToolsEnabled})};function xae(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=zn(),s=b.useRef(null);if(i)return n;s.current==null&&(s.current=yae(t));var o=Sw;return b.createElement(eie,{context:o,store:s.current},n)}function wae(e){var{layout:t,margin:n}=e,r=kt(),i=zn();return b.useEffect(()=>{i||(r(W7(t)),r(B7(n)))},[r,i,t,n]),null}var bae=b.memo(wae,Db);function _ae(e){var t=kt();return b.useEffect(()=>{t(hae(e))},[t,e]),null}function SP(e){var{zIndex:t,isPanorama:n}=e,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=oM("".concat(r).concat(t)),s=kt();return b.useLayoutEffect(()=>(s(Dee({zIndex:t,elementId:i,isPanorama:n})),()=>{s(Ree({zIndex:t,isPanorama:n}))}),[s,t,i,n]),b.createElement("g",{id:i})}function CP(e){var{children:t,isPanorama:n}=e,r=Ce(Cee);if(!r||r.length===0)return t;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return b.createElement(b.Fragment,null,i.map(o=>b.createElement(SP,{key:o,zIndex:o,isPanorama:n})),t,s.map(o=>b.createElement(SP,{key:o,zIndex:o,isPanorama:n})))}var Sae=["children"];function Cae(e,t){if(e==null)return{};var n,r,i=kae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}var Eae={width:"100%",height:"100%",display:"block"},Nae=b.forwardRef((e,t)=>{var n=pD(),r=mD(),i=vD();if(!ei(n)||!ei(r))return null;var{children:s,otherAttributes:o,title:c,desc:u}=e,h,p;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?p=o.role:p=i?"application":void 0),b.createElement(QA,Rh({},o,{title:c,desc:u,role:p,tabIndex:h,width:n,height:r,style:Eae,ref:t}),s)}),Iae=e=>{var{children:t}=e,n=Ce(vp);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return b.createElement(QA,{width:r,height:i,x:o,y:s},t)},kP=b.forwardRef((e,t)=>{var{children:n}=e,r=Cae(e,Sae),i=zn();return i?b.createElement(Iae,null,b.createElement(CP,{isPanorama:!0},n)):b.createElement(Nae,Rh({ref:t},r),b.createElement(CP,{isPanorama:!1},n))});function Pae(){var e=kt(),[t,n]=b.useState(null),r=Ce(uK);return b.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Ct(s)&&s!==r&&e(H7(s))}},[t,e,r]),n}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(n),!0).forEach(function(r){Tae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tae(e,t,n){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ca.apply(null,arguments)}var Dae=()=>(cte(),null);function Mh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Rae=b.forwardRef((e,t)=>{var n,r,i=b.useRef(null),[s,o]=b.useState({containerWidth:Mh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:Mh((r=e.style)===null||r===void 0?void 0:r.height)}),c=b.useCallback((h,p)=>{o(m=>{var v=Math.round(h),y=Math.round(p);return m.containerWidth===v&&m.containerHeight===y?m:{containerWidth:v,containerHeight:y}})},[]),u=b.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null&&typeof ResizeObserver<"u"){var{width:p,height:m}=h.getBoundingClientRect();c(p,m);var v=w=>{var{width:C,height:_}=w[0].contentRect;c(C,_)},y=new ResizeObserver(v);y.observe(h),i.current=y}},[t,c]);return b.useEffect(()=>()=>{var h=i.current;h!=null&&h.disconnect()},[c]),b.createElement(b.Fragment,null,b.createElement(wp,{width:s.containerWidth,height:s.containerHeight}),b.createElement("div",Ca({ref:u},e)))}),Mae=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,s]=b.useState({containerWidth:Mh(n),containerHeight:Mh(r)}),o=b.useCallback((u,h)=>{s(p=>{var m=Math.round(u),v=Math.round(h);return p.containerWidth===m&&p.containerHeight===v?p:{containerWidth:m,containerHeight:v}})},[]),c=b.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:h,height:p}=u.getBoundingClientRect();o(h,p)}},[t,o]);return b.createElement(b.Fragment,null,b.createElement(wp,{width:i.containerWidth,height:i.containerHeight}),b.createElement("div",Ca({ref:c},e)))}),Lae=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(wp,{width:n,height:r}),b.createElement("div",Ca({ref:t},e)))}),Fae=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return Oi(n)||Oi(r)?b.createElement(Mae,Ca({},e,{ref:t})):b.createElement(Lae,Ca({},e,{ref:t}))});function $ae(e){return e===!0?Rae:Fae}var zae=b.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:h,onMouseLeave:p,onMouseMove:m,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:C,style:_,width:k,responsive:I,dispatchTouchEvents:E=!0}=e,j=b.useRef(null),P=kt(),[A,z]=b.useState(null),[W,Y]=b.useState(null),oe=Pae(),M=jw(),H=(M==null?void 0:M.width)>0?M.width:k,se=(M==null?void 0:M.height)>0?M.height:i,ye=b.useCallback(K=>{oe(K),typeof t=="function"&&t(K),z(K),Y(K),K!=null&&(j.current=K)},[oe,t,z,Y]),G=b.useCallback(K=>{P(CM(K)),P(ar({handler:s,reactEvent:K}))},[P,s]),de=b.useCallback(K=>{P(Zx(K)),P(ar({handler:h,reactEvent:K}))},[P,h]),le=b.useCallback(K=>{P(w2()),P(ar({handler:p,reactEvent:K}))},[P,p]),F=b.useCallback(K=>{P(Zx(K)),P(ar({handler:m,reactEvent:K}))},[P,m]),te=b.useCallback(()=>{P(jM())},[P]),B=b.useCallback(K=>{P(PM(K.key))},[P]),O=b.useCallback(K=>{P(ar({handler:o,reactEvent:K}))},[P,o]),V=b.useCallback(K=>{P(ar({handler:c,reactEvent:K}))},[P,c]),ie=b.useCallback(K=>{P(ar({handler:u,reactEvent:K}))},[P,u]),ae=b.useCallback(K=>{P(ar({handler:v,reactEvent:K}))},[P,v]),_e=b.useCallback(K=>{P(ar({handler:C,reactEvent:K}))},[P,C]),Ie=b.useCallback(K=>{E&&P(AM(K)),P(ar({handler:w,reactEvent:K}))},[P,E,w]),ce=b.useCallback(K=>{P(ar({handler:y,reactEvent:K}))},[P,y]),Le=$ae(I);return b.createElement(z2.Provider,{value:A},b.createElement(eV.Provider,{value:W},b.createElement(Le,{width:H??(_==null?void 0:_.width),height:se??(_==null?void 0:_.height),className:it("recharts-wrapper",r),style:jae({position:"relative",cursor:"default",width:H,height:se},_),onClick:G,onContextMenu:O,onDoubleClick:V,onFocus:te,onKeyDown:B,onMouseDown:ie,onMouseEnter:de,onMouseLeave:le,onMouseMove:F,onMouseUp:ae,onTouchEnd:ce,onTouchMove:Ie,onTouchStart:_e,ref:ye},b.createElement(Dae,null),n)))}),Uae=["width","height","responsive","children","className","style","compact","title","desc"];function Bae(e,t){if(e==null)return{};var n,r,i=Wae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qae=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:c,compact:u,title:h,desc:p}=e,m=Bae(e,Uae),v=Ti(m);return u?b.createElement(b.Fragment,null,b.createElement(wp,{width:n,height:r}),b.createElement(kP,{otherAttributes:v,title:h,desc:p},s)):b.createElement(zae,{className:o,style:c,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(kP,{otherAttributes:v,title:h,desc:p,ref:t},b.createElement(lse,null,s)))});function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e0.apply(null,arguments)}var Hae={top:5,right:5,bottom:5,left:5},Vae={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hae,reverseStackOrder:!1,syncMethod:"index",responsive:!1},Kae=b.forwardRef(function(t,n){var r,i=Qn(t.categoricalChartProps,Vae),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:h}=t,p={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return b.createElement(xae,{preloadedState:{options:p},reduxStoreName:(r=h.id)!==null&&r!==void 0?r:s},b.createElement(Jie,{chartData:h.data}),b.createElement(bae,{layout:i.layout,margin:i.margin}),b.createElement(_ae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),b.createElement(qae,e0({},i,{ref:n})))}),Gae=["axis","item"],Yae=b.forwardRef((e,t)=>b.createElement(Kae,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gae,tooltipPayloadSearcher:Kee,categoricalChartProps:e,ref:t}));function Xae({data:e,title:t,color:n="#ef4444"}){return d.jsxs(Fe,{className:"col-span-4",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:t})}),d.jsx(ze,{className:"pl-2",children:d.jsx(zK,{width:"100%",height:350,children:d.jsxs(Yae,{data:e,children:[d.jsx(_M,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),d.jsx(SM,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:r=>`${r}`}),d.jsx(wM,{strokeDasharray:"3 3",vertical:!1}),d.jsx(vte,{cursor:{fill:"transparent"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),d.jsx(pM,{dataKey:"total",fill:n,radius:[4,4,0,0]})]})})})]})}function Qae(){const{cars:e,customers:t,transactions:n}=Mt(),[r,i]=b.useState("month"),s=new Date().getMonth(),o=new Date().getFullYear(),c=n.filter(y=>{const w=new Date(y.startDate);return w.getMonth()===s&&w.getFullYear()===o&&y.status!=="Cancelled"}).reduce((y,w)=>y+(Number(w.total)||0),0),u=n.reduce((y,w)=>y+(Number(w.amountPaid)||0),0),h=[{title:"Result of this Month",value:`${c.toLocaleString()}`,icon:MA,description:"Total Revenue this month"},{title:"Total Paid Amount",value:`${u.toLocaleString()}`,icon:BA,description:"Collected from customers"},{title:"Total Customers",value:t.length,icon:Yf,description:"Registered users"},{title:"Active Rentals",value:n.filter(y=>y.status==="Active").length,icon:MH,description:"Currently on road"}],p=b.useMemo(()=>{const y=new Date;let w=[];if(r==="week")for(let C=6;C>=0;C--){const _=new Date(y);_.setDate(_.getDate()-C);const k=_.toLocaleDateString("en-US",{weekday:"short"}),I=_.toISOString().split("T")[0],E=n.filter(j=>j.startDate===I).reduce((j,P)=>j+P.total,0);w.push({name:k,total:E})}else if(r==="month")for(let C=3;C>=0;C--){const _=new Date(y);_.setDate(_.getDate()-C*7);const k=`Week ${4-C}`,I=n.reduce((E,j)=>E+Math.random()*j.total*.2,0);w.push({name:k,total:Math.round(I)})}else w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map(_=>({name:_,total:Math.floor(Math.random()*5e3)+1e3}));return w},[r,n]),m=n.slice(-5).reverse(),v=[...e].sort((y,w)=>{const C=n.filter(k=>k.carId===y.id).reduce((k,I)=>k+I.total,0);return n.filter(k=>k.carId===w.id).reduce((k,I)=>k+I.total,0)-C}).slice(0,3);return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ve,{variant:r==="week"?"default":"outline",size:"sm",onClick:()=>i("week"),children:"Week"}),d.jsx(ve,{variant:r==="month"?"default":"outline",size:"sm",onClick:()=>i("month"),children:"Month"}),d.jsx(ve,{variant:r==="year"?"default":"outline",size:"sm",onClick:()=>i("year"),children:"Year"})]})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:h.map(y=>{const w=y.icon;return d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Rt,{className:"text-sm font-medium",children:y.title}),d.jsx(w,{className:"h-4 w-4 text-muted-foreground"})]}),d.jsxs(ze,{children:[d.jsx("div",{className:"text-2xl font-bold",children:y.value}),d.jsx("p",{className:"text-xs text-muted-foreground",children:y.description})]})]},y.title)})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[d.jsx("div",{className:"col-span-4",children:d.jsx(Xae,{data:p,title:"Revenue Overview",color:"#ef4444"})}),d.jsx("div",{className:"col-span-3",children:d.jsxs(Fe,{className:"h-full",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Recent Sales"})}),d.jsx(ze,{children:d.jsx("div",{className:"space-y-8",children:m.map(y=>{const w=t.find(C=>C.id===y.customerId);return d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center text-primary font-bold",children:w?w.name[0]:"?"}),d.jsxs("div",{className:"ml-4 space-y-1",children:[d.jsx("p",{className:"text-sm font-medium leading-none",children:w?w.name:"Unknown Customer"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:w?w.email:"No email available"})]}),d.jsxs("div",{className:"ml-auto font-medium",children:["+",y.total]})]},y.id)})})})]})})]}),d.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:d.jsxs(Fe,{className:"col-span-3",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Top Performing Cars"})}),d.jsx(ze,{children:d.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:v.map(y=>{const w=n.filter(C=>C.carId===y.id).reduce((C,_)=>C+_.total,0);return d.jsxs("div",{className:"flex items-center space-x-4 border p-4 rounded-lg",children:[d.jsx("div",{className:"h-16 w-24 overflow-hidden rounded bg-muted",children:d.jsx("img",{src:y.image,alt:y.model,className:"h-full w-full object-cover"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium",children:[y.make," ",y.model]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Revenue: ",w]})]})]},y.id)})})})]})})]})}function DM({isOpen:e,onClose:t,car:n}){const{updateCar:r}=Mt(),[i,s]=b.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",status:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""});b.useEffect(()=>{n&&s({make:n.make,model:n.model,year:n.year,price:n.price,tenDayPrice:n.tenDayPrice||"",monthlyPrice:n.monthlyPrice||"",status:n.status,plateNumber:n.plateNumber||"",image:n.image,color:n.color||"",mileage:n.mileage||"",fuelType:n.fuelType||"Petrol",fitnessValidTo:n.fitnessValidTo||"",taxValidTo:n.taxValidTo||"",insuranceValidTo:n.insuranceValidTo||"",description:n.description||"",rcImage:n.rcImage||"",insuranceImage:n.insuranceImage||"",pocImage:n.pocImage||""})},[n]);const o=(u,h)=>{const p=h.target.files[0];if(p){const m=new FileReader;m.onloadend=()=>{s(v=>({...v,[u]:m.result}))},m.readAsDataURL(p)}},c=u=>{u.preventDefault(),r(n.id,i),t()};return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Edit Car"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Make",value:i.make,onChange:u=>s({...i,make:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Model",value:i.model,onChange:u=>s({...i,model:u.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Year",value:i.year,onChange:u=>s({...i,year:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Plate Number",value:i.plateNumber,onChange:u=>s({...i,plateNumber:u.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Color",value:i.color,onChange:u=>s({...i,color:u.target.value})}),d.jsx(X,{placeholder:"Mileage",value:i.mileage,onChange:u=>s({...i,mileage:u.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Fuel Type"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.fuelType,onChange:u=>s({...i,fuelType:u.target.value}),children:[d.jsx("option",{value:"Petrol",children:"Petrol"}),d.jsx("option",{value:"Diesel",children:"Diesel"}),d.jsx("option",{value:"Electric",children:"Electric"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"CNG",children:"CNG"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"Daily Rate"}),d.jsx(X,{type:"number",placeholder:"Daily",value:i.price,onChange:u=>s({...i,price:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"10 Days Rate"}),d.jsx(X,{type:"number",placeholder:"10 Days",value:i.tenDayPrice,onChange:u=>s({...i,tenDayPrice:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs font-medium",children:"Monthly Rate"}),d.jsx(X,{type:"number",placeholder:"Monthly",value:i.monthlyPrice,onChange:u=>s({...i,monthlyPrice:u.target.value})})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Validity Dates"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Fitness"}),d.jsx(X,{type:"date",value:i.fitnessValidTo,onChange:u=>s({...i,fitnessValidTo:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Tax"}),d.jsx(X,{type:"date",value:i.taxValidTo,onChange:u=>s({...i,taxValidTo:u.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Insurance"}),d.jsx(X,{type:"date",value:i.insuranceValidTo,onChange:u=>s({...i,insuranceValidTo:u.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.status,onChange:u=>s({...i,status:u.target.value}),children:[d.jsx("option",{value:"Available",children:"Available"}),d.jsx("option",{value:"Rented",children:"Rented"}),d.jsx("option",{value:"Maintenance",children:"Maintenance"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",placeholder:"Car description...",value:i.description,onChange:u=>s({...i,description:u.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Main Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("image",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"RC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("rcImage",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Insurance"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("insuranceImage",u),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"POC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("pocImage",u),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function Jae(){const{cars:e,addCar:t}=Mt(),[n,r]=b.useState(!1),[i,s]=b.useState({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""}),[o,c]=b.useState(null),u=(p,m)=>{const v=m.target.files[0];if(v){const y=new FileReader;y.onloadend=()=>{s(w=>({...w,[p]:y.result}))},y.readAsDataURL(v)}},h=p=>{if(p.preventDefault(),e.some(m=>m.plateNumber===i.plateNumber)){alert("A car with this Plate Number already exists!");return}t({...i,status:"Available"}),r(!1),s({make:"",model:"",year:"",price:"",tenDayPrice:"",monthlyPrice:"",plateNumber:"",image:"",color:"",mileage:"",fuelType:"Petrol",fitnessValidTo:"",taxValidTo:"",insuranceValidTo:"",description:"",rcImage:"",insuranceImage:"",pocImage:""})};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Cars"}),d.jsxs(ve,{onClick:()=>r(!n),children:[d.jsx(ja,{className:"mr-2 h-4 w-4"})," Add Car"]})]}),n&&d.jsxs(Fe,{className:"max-w-4xl mx-auto",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Add New Car"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Make",value:i.make,onChange:p=>s({...i,make:p.target.value}),required:!0}),d.jsx(X,{placeholder:"Model",value:i.model,onChange:p=>s({...i,model:p.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Year",value:i.year,onChange:p=>s({...i,year:p.target.value}),required:!0}),d.jsx(X,{placeholder:"Plate Number",value:i.plateNumber,onChange:p=>s({...i,plateNumber:p.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Color",value:i.color,onChange:p=>s({...i,color:p.target.value})}),d.jsx(X,{placeholder:"Mileage",value:i.mileage,onChange:p=>s({...i,mileage:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Fuel Type"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.fuelType,onChange:p=>s({...i,fuelType:p.target.value}),children:[d.jsx("option",{value:"Petrol",children:"Petrol"}),d.jsx("option",{value:"Diesel",children:"Diesel"}),d.jsx("option",{value:"Electric",children:"Electric"}),d.jsx("option",{value:"Hybrid",children:"Hybrid"}),d.jsx("option",{value:"CNG",children:"CNG"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsx(X,{type:"number",placeholder:"Daily Price",value:i.price,onChange:p=>s({...i,price:p.target.value}),required:!0}),d.jsx(X,{type:"number",placeholder:"10 Days Price",value:i.tenDayPrice,onChange:p=>s({...i,tenDayPrice:p.target.value})}),d.jsx(X,{type:"number",placeholder:"Monthly Price",value:i.monthlyPrice,onChange:p=>s({...i,monthlyPrice:p.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Validity Dates"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Fitness"}),d.jsx(X,{type:"date",value:i.fitnessValidTo,onChange:p=>s({...i,fitnessValidTo:p.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Tax"}),d.jsx(X,{type:"date",value:i.taxValidTo,onChange:p=>s({...i,taxValidTo:p.target.value})})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("label",{className:"text-xs text-muted-foreground",children:"Insurance"}),d.jsx(X,{type:"date",value:i.insuranceValidTo,onChange:p=>s({...i,insuranceValidTo:p.target.value})})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",placeholder:"Car description...",value:i.description,onChange:p=>s({...i,description:p.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Main Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("image",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"RC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("rcImage",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Insurance"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("insuranceImage",p),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"POC Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:p=>u("pocImage",p),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Car"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(p=>d.jsxs("div",{className:"relative group",children:[d.jsx(qo,{to:`/cars/${p.id}`,children:d.jsxs(Fe,{className:"overflow-hidden hover:shadow-lg transition-shadow h-full",children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:p.image,alt:`${p.make} ${p.model}`,className:"h-full w-full object-cover transition-transform hover:scale-105"})}),d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-xl",children:[p.make," ",p.model]}),d.jsxs("p",{className:"text-muted-foreground",children:[p.year,"  ",p.plateNumber]})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.status==="Available"?"bg-green-100 text-green-800":p.status==="On Rent"?"bg-blue-100 text-blue-800":p.status==="On Maintenance"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:p.status})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("p",{className:"text-lg font-bold text-primary",children:["",p.price,d.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/day"})]}),p.monthlyPrice&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:["",p.monthlyPrice,"/month"]})]})]})]})}),d.jsx(ve,{variant:"secondary",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:m=>{m.preventDefault(),c(p)},children:d.jsx(jr,{className:"h-4 w-4"})})]},p.id))}),d.jsx(DM,{isOpen:!!o,onClose:()=>c(null),car:o})]})}const Ub=b.createContext(null),Bb=b.forwardRef(({className:e,value:t,onValueChange:n,defaultValue:r,children:i,...s},o)=>{const[c,u]=b.useState(r),h=t!==void 0?t:c,p=n||u;return d.jsx(Ub.Provider,{value:{value:h,onValueChange:p},children:d.jsx("div",{ref:o,className:ft("w-full",e),...s,children:i})})});Bb.displayName="Tabs";const Wb=b.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ft("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Wb.displayName="TabsList";const Co=b.forwardRef(({className:e,value:t,children:n,...r},i)=>{const s=b.useContext(Ub);if(!s)throw new Error("TabsTrigger must be used within Tabs");const o=s.value===t;return d.jsx("button",{ref:i,className:ft("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",o?"bg-background text-foreground shadow-sm":"hover:bg-background/50 hover:text-foreground",e),onClick:()=>s.onValueChange(t),...r,children:n})});Co.displayName="TabsTrigger";const ko=b.forwardRef(({className:e,value:t,children:n,...r},i)=>{const s=b.useContext(Ub);if(!s)throw new Error("TabsContent must be used within Tabs");return s.value!==t?null:d.jsx("div",{ref:i,className:ft("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...r,children:n})});ko.displayName="TabsContent";function RM({isOpen:e,onClose:t,carId:n}){const{addMaintenanceRecord:r,cars:i}=Mt(),[s,o]=b.useState(n||""),[c,u]=b.useState({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",description:"",image:null}),h=m=>{const v=m.target.files[0];if(v){const y=new FileReader;y.onloadend=()=>{u({...c,image:y.result})},y.readAsDataURL(v)}},p=m=>{m.preventDefault();const v=n||s;v&&(r({...c,carId:parseInt(v),amount:c.amount?parseFloat(c.amount):0}),t(),u({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",description:"",image:null}),n||o(""))};return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Add Maintenance Record"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[!n&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Select Car"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s,onChange:m=>o(m.target.value),required:!0,children:[d.jsx("option",{value:"",children:"Select a car..."}),i.map(m=>d.jsxs("option",{value:m.id,children:[m.make," ",m.model," (",m.licensePlate||"No Plate",")"]},m.id))]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Name"}),d.jsx(X,{value:c.workshopName,onChange:m=>u({...c,workshopName:m.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Address"}),d.jsx(X,{value:c.workshopDetails,onChange:m=>u({...c,workshopDetails:m.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),d.jsx(X,{value:c.phoneNumber,onChange:m=>u({...c,phoneNumber:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Amount"}),d.jsx(X,{type:"number",value:c.amount,onChange:m=>u({...c,amount:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Date"}),d.jsx(X,{type:"date",value:c.date,onChange:m=>u({...c,date:m.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:c.description,onChange:m=>u({...c,description:m.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Receipt/Image"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ve,{type:"button",variant:"outline",onClick:()=>document.getElementById("maintenance-image").click(),className:"w-full",children:[d.jsx(HA,{className:"mr-2 h-4 w-4"})," Upload Image"]}),d.jsx("input",{id:"maintenance-image",type:"file",accept:"image/*",className:"hidden",onChange:h})]}),c.image&&d.jsx("div",{className:"mt-2 relative h-32 w-full rounded-md overflow-hidden border",children:d.jsx("img",{src:c.image,alt:"Preview",className:"h-full w-full object-cover"})})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Record"})]})})]})}function qb({isOpen:e,onClose:t,record:n}){const{updateMaintenanceRecord:r}=Mt(),[i,s]=b.useState({workshopName:"",workshopDetails:"",phoneNumber:"",amount:"",date:"",returnDate:"",description:"",image:null});b.useEffect(()=>{n&&s({workshopName:n.workshopName||"",workshopDetails:n.workshopDetails||"",phoneNumber:n.phoneNumber||"",amount:n.amount||"",date:n.date||"",returnDate:n.returnDate||"",description:n.description||"",image:n.image||null})},[n]);const o=u=>{const h=u.target.files[0];if(h){const p=new FileReader;p.onloadend=()=>{s({...i,image:p.result})},p.readAsDataURL(h)}},c=u=>{u.preventDefault(),n&&(r(n.id,{...n,...i,amount:i.amount?parseFloat(i.amount):0}),t())};return n?d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Edit Maintenance Record"})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Name"}),d.jsx(X,{value:i.workshopName,onChange:u=>s({...i,workshopName:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Workshop Address"}),d.jsx(X,{value:i.workshopDetails,onChange:u=>s({...i,workshopDetails:u.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),d.jsx(X,{value:i.phoneNumber,onChange:u=>s({...i,phoneNumber:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Amount"}),d.jsx(X,{type:"number",value:i.amount,onChange:u=>s({...i,amount:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Date"}),d.jsx(X,{type:"date",value:i.date,onChange:u=>s({...i,date:u.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Return Date (Completion)"}),d.jsx(X,{type:"date",value:i.returnDate,onChange:u=>s({...i,returnDate:u.target.value}),placeholder:"Select return date"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Setting a return date will mark the car as Available."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Description"}),d.jsx("textarea",{className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.description,onChange:u=>s({...i,description:u.target.value}),placeholder:"Optional"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Receipt/Image"}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ve,{type:"button",variant:"outline",onClick:()=>document.getElementById("edit-maintenance-image").click(),className:"w-full",children:[d.jsx(HA,{className:"mr-2 h-4 w-4"})," Upload Image"]}),d.jsx("input",{id:"edit-maintenance-image",type:"file",accept:"image/*",className:"hidden",onChange:o})]}),i.image&&d.jsx("div",{className:"mt-2 relative h-32 w-full rounded-md overflow-hidden border",children:d.jsx("img",{src:i.image,alt:"Preview",className:"h-full w-full object-cover"})})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Changes"})]})})]}):null}const Eu=b.forwardRef(({className:e,...t},n)=>d.jsx("div",{className:"relative w-full overflow-auto",children:d.jsx("table",{ref:n,className:ft("w-full caption-bottom text-sm",e),...t})}));Eu.displayName="Table";const Nu=b.forwardRef(({className:e,...t},n)=>d.jsx("thead",{ref:n,className:ft("[&_tr]:border-b",e),...t}));Nu.displayName="TableHeader";const Iu=b.forwardRef(({className:e,...t},n)=>d.jsx("tbody",{ref:n,className:ft("[&_tr:last-child]:border-0",e),...t}));Iu.displayName="TableBody";const Zae=b.forwardRef(({className:e,...t},n)=>d.jsx("tfoot",{ref:n,className:ft("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Zae.displayName="TableFooter";const Yn=b.forwardRef(({className:e,...t},n)=>d.jsx("tr",{ref:n,className:ft("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Yn.displayName="TableRow";const gt=b.forwardRef(({className:e,...t},n)=>d.jsx("th",{ref:n,className:ft("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));gt.displayName="TableHead";const rt=b.forwardRef(({className:e,...t},n)=>d.jsx("td",{ref:n,className:ft("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));rt.displayName="TableCell";const eoe=b.forwardRef(({className:e,...t},n)=>d.jsx("caption",{ref:n,className:ft("mt-4 text-sm text-muted-foreground",e),...t}));eoe.displayName="TableCaption";function Pu({isOpen:e,onClose:t,transaction:n}){const{updateTransaction:r,cars:i,customers:s}=Mt(),[o,c]=b.useState({startDate:"",endDate:"",status:"",paymentStatus:"",notes:"",payments:[]}),[u,h]=b.useState({amount:"",date:new Date().toISOString().split("T")[0],type:"Credit",medium:"Cash",notes:""});b.useEffect(()=>{if(n){let k=n.payments||[];k.length===0&&n.amountPaid>0&&(k=[{id:lx(),date:n.startDate,amount:n.amountPaid,type:"Credit",medium:"Cash",notes:"Initial Payment (Migrated)"}]),c({startDate:n.startDate,endDate:n.endDate,status:n.status,paymentStatus:n.paymentStatus||"Pending",notes:n.notes||"",payments:k})}},[n]);const p=o.payments.reduce((k,I)=>I.type==="Credit"?k+Number(I.amount):k-Number(I.amount),0),m=Math.max(0,(Number(n==null?void 0:n.total)||0)-p),v=()=>{if(!u.amount||!u.date)return;const k={id:lx(),...u,amount:Number(u.amount)},I=[...o.payments,k],j=I.reduce((P,A)=>A.type==="Credit"?P+Number(A.amount):P-Number(A.amount),0)>=(Number(n.total)||0)?"Paid":"Pending";c({...o,payments:I,paymentStatus:j}),h({amount:"",date:new Date().toISOString().split("T")[0],type:"Credit",medium:"Cash",notes:""})},y=k=>{if(window.confirm("Delete this transaction record?")){const I=o.payments.filter(E=>E.id!==k);c({...o,payments:I})}},w=k=>{k.preventDefault(),r(n.id,{...o,amountPaid:p}),t()};if(!n)return null;const C=i.find(k=>k.id===n.carId),_=s.find(k=>k.id===n.customerId);return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Edit Transaction"})}),d.jsxs("div",{className:"mt-6 flex flex-col h-[calc(100vh-100px)] overflow-y-auto",children:[d.jsxs("div",{className:"mb-6 space-y-2",children:[d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transaction ID: ",n.id]}),d.jsxs("p",{className:"font-medium",children:[C==null?void 0:C.make," ",C==null?void 0:C.model]}),d.jsx("p",{className:"text-sm",children:_==null?void 0:_.name})]}),d.jsxs("form",{id:"edit-transaction-form",onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:o.startDate,onChange:k=>c({...o,startDate:k.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:o.endDate,onChange:k=>c({...o,endDate:k.target.value}),required:!0})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:o.status,onChange:k=>c({...o,status:k.target.value}),children:[d.jsx("option",{value:"Active",children:"Active"}),d.jsx("option",{value:"Completed",children:"Completed"}),d.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:o.paymentStatus,onChange:k=>c({...o,paymentStatus:k.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Notes",value:o.notes,onChange:k=>c({...o,notes:k.target.value})})]})]}),d.jsxs("div",{className:"mt-8 space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Financial History"}),d.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border space-y-4",children:[d.jsx("h4",{className:"text-sm font-medium",children:"Add Transaction"}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:u.type,onChange:k=>h({...u,type:k.target.value}),children:[d.jsx("option",{value:"Credit",children:"Credit (In)"}),d.jsx("option",{value:"Debit",children:"Debit (Out)"})]}),d.jsx(X,{type:"date",className:"h-9",value:u.date,onChange:k=>h({...u,date:k.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx(X,{type:"number",placeholder:"Amount",className:"h-9",value:u.amount,onChange:k=>h({...u,amount:k.target.value})}),d.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:u.medium,onChange:k=>h({...u,medium:k.target.value}),children:[d.jsx("option",{value:"Cash",children:"Cash"}),d.jsx("option",{value:"UPI",children:"UPI"}),d.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),d.jsx("option",{value:"Card",children:"Card"})]})]}),d.jsx(X,{placeholder:"Transaction ID / Notes",className:"h-9",value:u.notes,onChange:k=>h({...u,notes:k.target.value})}),d.jsxs(ve,{onClick:v,size:"sm",className:"w-full",disabled:!u.amount,children:[d.jsx(ja,{className:"h-4 w-4 mr-2"})," Add Entry"]})]}),d.jsx("div",{className:"border rounded-md",children:d.jsxs(Eu,{children:[d.jsx(Nu,{children:d.jsxs(Yn,{children:[d.jsx(gt,{children:"Date"}),d.jsx(gt,{children:"Type"}),d.jsx(gt,{children:"Amount"}),d.jsx(gt,{})]})}),d.jsxs(Iu,{children:[o.payments.map(k=>d.jsxs(Yn,{children:[d.jsx(rt,{className:"text-xs",children:k.date}),d.jsxs(rt,{children:[d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${k.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.type}),d.jsx("div",{className:"text-[10px] text-muted-foreground mt-0.5",children:k.medium})]}),d.jsxs(rt,{className:"font-medium",children:["",k.amount]}),d.jsx(rt,{children:d.jsx(ve,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>y(k.id),children:d.jsx(cx,{className:"h-3 w-3"})})})]},k.id)),o.payments.length===0&&d.jsx(Yn,{children:d.jsx(rt,{colSpan:4,className:"text-center text-muted-foreground text-xs py-4",children:"No transactions recorded"})})]})]})}),d.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 space-y-2 border",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Rental Cost"}),d.jsxs("span",{className:"font-bold",children:["",n.total]})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-muted-foreground",children:"Total Paid (Credits - Debits)"}),d.jsxs("span",{className:"font-bold text-green-600",children:["",p]})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t",children:[d.jsx("span",{className:"font-medium",children:"Pending Balance"}),d.jsxs("span",{className:`font-bold ${m>0?"text-destructive":"text-green-600"}`,children:["",m]})]})]})]}),d.jsx("div",{className:"mt-auto pt-4 border-t bg-background sticky bottom-0",children:d.jsx(ve,{type:"submit",form:"edit-transaction-form",className:"w-full",children:"Save Changes"})})]})]})}function toe(){const{id:e}=s0(),t=ri(),{cars:n,transactions:r,customers:i,addTransaction:s,maintenanceRecords:o,deleteCar:c,deleteTransaction:u}=Mt(),[h,p]=b.useState("overview"),[m,v]=b.useState(!1),[y,w]=b.useState(!1),[C,_]=b.useState(!1),[k,I]=b.useState(null),[E,j]=b.useState(!1),[P,A]=b.useState(null),[z,W]=b.useState(!1),Y=B=>{I(B),j(!0)},oe=B=>{window.confirm("Are you sure you want to delete this rental record?")&&u(B)},[M,H]=b.useState({customerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),[se,ye]=b.useState({total:0,breakdown:[]}),G=n.find(B=>B.id===e),de=r.filter(B=>B.carId===e);if(b.useEffect(()=>{G&&!M.dailyRate&&H(B=>({...B,dailyRate:G.price}))},[G]),b.useEffect(()=>{if(M.startDate&&M.endDate&&G){const B=new Date(M.startDate),O=new Date(M.endDate),V=Math.abs(O-B),ie=Math.ceil(V/(1e3*60*60*24));let ae=0,_e=[];const Ie=M.dailyRate?parseFloat(M.dailyRate):G.price;if(ie>0)if(ie>=30&&G.monthlyPrice){const ce=G.monthlyPrice/30;ae=Math.round(ce*ie),_e.push({label:`Monthly Rate Applied (${ie} days @ ${Math.round(ce)}/day)`,amount:ae})}else if(ie>=10&&G.tenDayPrice){const ce=G.tenDayPrice/10;ae=Math.round(ce*ie),_e.push({label:`10-Day Rate Applied (${ie} days @ ${Math.round(ce)}/day)`,amount:ae})}else ae=Math.round(Ie*ie),_e.push({label:`Standard Daily Rate (${ie} days @ ${Ie}/day)`,amount:ae});ye({total:ae,breakdown:_e})}},[M.startDate,M.endDate,G,M.dailyRate]),!G)return d.jsx("div",{children:"Car not found"});const le=B=>{B.preventDefault();const O=new Date(M.startDate),V=new Date(M.endDate);if(de.some(_e=>{if(_e.status==="Cancelled")return!1;const Ie=new Date(_e.startDate),ce=new Date(_e.endDate);return O>=Ie&&O<=ce||V>=Ie&&V<=ce||O<=Ie&&V>=ce})){alert("This car is already rented for the selected dates!");return}const ae=[];M.paymentStatus==="Paid"&&ae.push({id:lx(),date:new Date().toISOString().split("T")[0],amount:se.total,type:"Credit",medium:"Cash",notes:"Initial Payment"}),s({carId:G.id,customerId:M.customerId,startDate:M.startDate,endDate:M.endDate,total:se.total,status:"Active",paymentStatus:M.paymentStatus,notes:M.notes,breakdown:se.breakdown,dailyRate:M.dailyRate,payments:ae,amountPaid:M.paymentStatus==="Paid"?se.total:0}),v(!1),H({customerId:"",startDate:"",endDate:"",notes:"",paymentStatus:"Pending",dailyRate:""}),p("rentals")},F=()=>{window.confirm("Are you sure you want to delete this car? This action cannot be undone.")&&(c(G.id),t("/cars"))},te=()=>{if(!G.insuranceValidTo)return null;const B=new Date,V=new Date(G.insuranceValidTo)-B,ie=Math.ceil(V/(1e3*60*60*24));return ie<=3&&ie>=0?d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg mb-6 flex items-center gap-3 text-destructive",children:[d.jsx(Ck,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"Insurance Expiring Soon!"}),d.jsxs("p",{className:"text-sm",children:["Insurance is valid only for ",ie," more day",ie!==1?"s":"",". Please renew immediately."]})]})]}):ie<0?d.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg mb-6 flex items-center gap-3 text-destructive",children:[d.jsx(Ck,{className:"h-5 w-5"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold",children:"Insurance Expired!"}),d.jsxs("p",{className:"text-sm",children:["Insurance expired on ",G.insuranceValidTo,". Do not rent this car until renewed."]})]})]}):null};return d.jsxs("div",{className:"space-y-8 relative",children:[te(),d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-4xl font-bold mb-2",children:[G.make," ",G.model]}),d.jsxs("p",{className:"text-xl text-muted-foreground",children:[G.year,"  ",G.plateNumber]}),d.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[G.color&&d.jsxs("span",{children:["Color: ",G.color]}),G.fuelType&&d.jsxs("span",{children:["Fuel: ",G.fuelType]}),G.mileage&&d.jsxs("span",{children:["Mileage: ",G.mileage]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{variant:"outline",onClick:()=>w(!0),children:[d.jsx(jr,{className:"mr-2 h-4 w-4"})," Edit"]}),d.jsxs(ve,{variant:"destructive",onClick:F,children:[d.jsx(cx,{className:"mr-2 h-4 w-4"})," Delete"]}),d.jsxs(ve,{onClick:()=>v(!0),children:[d.jsx(ja,{className:"mr-2 h-4 w-4"})," Rent Car"]})]})]}),d.jsxs(Bb,{value:h,onValueChange:p,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 mb-6",children:d.jsxs(Wb,{className:"bg-transparent p-0",children:[d.jsx(Co,{value:"overview",className:`rounded-none border-b-2 px-6 py-3 ${h==="overview"?"border-primary text-primary":"border-transparent"}`,children:"Overview"}),d.jsx(Co,{value:"rentals",className:`rounded-none border-b-2 px-6 py-3 ${h==="rentals"?"border-primary text-primary":"border-transparent"}`,children:"Rentals"}),d.jsx(Co,{value:"maintenance",className:`rounded-none border-b-2 px-6 py-3 ${h==="maintenance"?"border-primary text-primary":"border-transparent"}`,children:"Maintenance"})]})}),d.jsx(ko,{value:"overview",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-lg bg-muted",children:G.image?d.jsx("img",{src:G.image,alt:`${G.make} ${G.model}`,className:"h-full w-full object-cover"}):d.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No Image"})}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[G.rcImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.rcImage),children:[d.jsx("img",{src:G.rcImage,alt:"RC",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View RC"})]}),G.insuranceImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.insuranceImage),children:[d.jsx("img",{src:G.insuranceImage,alt:"Insurance",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View Insurance"})]}),G.pocImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(G.pocImage),children:[d.jsx("img",{src:G.pocImage,alt:"POC",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View POC"})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex items-center gap-4",children:d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${G.status==="Available"?"bg-green-100 text-green-800":G.status==="On Rent"?"bg-blue-100 text-blue-800":G.status==="On Maintenance"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:G.status})}),G.description&&d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Description"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:G.description})]}),(G.fitnessValidTo||G.taxValidTo||G.insuranceValidTo)&&d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Rt,{className:"text-base",children:"Validity"})}),d.jsxs(ze,{className:"grid grid-cols-2 gap-4 text-sm",children:[G.fitnessValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Fitness"}),d.jsx("span",{className:"font-medium",children:G.fitnessValidTo})]}),G.taxValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Tax"}),d.jsx("span",{className:"font-medium",children:G.taxValidTo})]}),G.insuranceValidTo&&d.jsxs("div",{children:[d.jsx("span",{className:"text-muted-foreground block",children:"Insurance"}),d.jsx("span",{className:"font-medium",children:G.insuranceValidTo})]})]})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Rt,{className:"text-base",children:"Pricing"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"Daily Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.price]})]}),G.tenDayPrice&&d.jsxs("div",{className:"flex justify-between items-center border-b pb-2",children:[d.jsx("span",{className:"text-muted-foreground",children:"10 Days Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.tenDayPrice]})]}),G.monthlyPrice&&d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-muted-foreground",children:"Monthly Rate"}),d.jsxs("span",{className:"font-bold text-xl",children:["",G.monthlyPrice]})]})]})]})]})]})}),d.jsx(ko,{value:"rentals",children:d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsx("h3",{className:"text-2xl font-bold",children:"Rental History"})}),d.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[d.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 bg-muted/50 font-medium text-sm",children:[d.jsx("div",{className:"col-span-2",children:"Customer"}),d.jsx("div",{children:"Dates"}),d.jsx("div",{children:"Amount"}),d.jsx("div",{children:"Balance"}),d.jsx("div",{className:"text-right",children:"Actions"})]}),d.jsxs("div",{className:"divide-y",children:[de.map(B=>{const O=i.find(_e=>_e.id===B.customerId),V=Number(B.total)||0,ie=Number(B.amountPaid)||0,ae=V-ie;return d.jsxs("div",{className:"grid grid-cols-6 gap-4 p-4 items-center text-sm hover:bg-muted/20 transition-colors",children:[d.jsxs("div",{className:"col-span-2",children:[d.jsx("div",{className:"font-medium",children:O==null?void 0:O.name}),d.jsx("div",{className:"text-xs text-muted-foreground",children:O==null?void 0:O.phone})]}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:B.startDate}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["to ",B.endDate]})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-medium",children:["",V]}),d.jsx("div",{className:`text-xs ${B.paymentStatus==="Paid"?"text-green-600":"text-orange-600"}`,children:B.paymentStatus})]}),d.jsx("div",{children:d.jsxs("div",{className:`font-medium ${ae>0?"text-destructive":"text-green-600"}`,children:["",ae]})}),d.jsxs("div",{className:"flex justify-end gap-2",children:[d.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>{A(B),W(!0)},children:d.jsx(jr,{className:"h-4 w-4"})}),d.jsx(ve,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>oe(B.id),children:d.jsx(cx,{className:"h-4 w-4"})})]})]},B.id)}),de.length===0&&d.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"No rental history found."})]})]})]})}),d.jsx(ko,{value:"maintenance",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Maintenance History"}),d.jsxs(ve,{onClick:()=>_(!0),children:[d.jsx(Fc,{className:"mr-2 h-4 w-4"})," Add Record"]})]}),d.jsx("div",{className:"grid gap-4",children:o.filter(B=>B.carId===e).length>0?o.filter(B=>B.carId===e).map(B=>d.jsx(Fe,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsx("h4",{className:"font-bold text-lg",children:B.workshopName}),d.jsx("p",{className:"text-sm text-muted-foreground",children:B.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:B.date}),d.jsx("span",{children:""}),d.jsx("span",{children:B.workshopDetails})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",B.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>Y(B),children:d.jsx(jr,{className:"h-4 w-4"})}),B.image&&d.jsx(ve,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+B.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},B.id)):d.jsx("div",{className:"text-center py-12 text-muted-foreground bg-surface rounded-lg",children:"No maintenance records found for this car."})})]})})]}),d.jsx(RM,{isOpen:C,onClose:()=>_(!1),carId:G.id}),d.jsx(qb,{isOpen:E,onClose:()=>j(!1),record:k}),d.jsxs($r,{isOpen:m,onClose:()=>v(!1),children:[d.jsx(zr,{children:d.jsxs(Ur,{children:["Rent ",G.make," ",G.model]})}),d.jsx("div",{className:"mt-6",children:d.jsxs("form",{onSubmit:le,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Customer"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:M.customerId,onChange:B=>H({...M,customerId:B.target.value}),required:!0,children:[d.jsx("option",{value:"",children:"Select Customer"}),i.map(B=>d.jsx("option",{value:B.id,children:B.name},B.id))]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),d.jsx(X,{type:"date",value:M.startDate,onChange:B=>H({...M,startDate:B.target.value}),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"End Date"}),d.jsx(X,{type:"date",value:M.endDate,onChange:B=>H({...M,endDate:B.target.value}),required:!0})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Per Day Amount"}),d.jsx(X,{type:"number",value:M.dailyRate,onChange:B=>H({...M,dailyRate:B.target.value}),placeholder:"Enter daily rate"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:M.paymentStatus,onChange:B=>H({...M,paymentStatus:B.target.value}),children:[d.jsx("option",{value:"Pending",children:"Pending"}),d.jsx("option",{value:"Paid",children:"Paid"}),d.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Notes"}),d.jsx(X,{placeholder:"Additional notes...",value:M.notes,onChange:B=>H({...M,notes:B.target.value})})]}),d.jsxs("div",{className:"bg-surface dark:bg-surface-dark p-4 rounded-lg space-y-2",children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("span",{className:"text-sm font-medium",children:"Price Breakdown"})}),se.breakdown.length>0?d.jsxs("div",{className:"space-y-1",children:[se.breakdown.map((B,O)=>d.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[d.jsx("span",{children:B.label}),d.jsxs("span",{children:["",B.amount]})]},O)),d.jsxs("div",{className:"border-t pt-2 mt-2 flex justify-between text-sm font-bold",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["",se.total]})]})]}):d.jsx("p",{className:"text-xs text-muted-foreground",children:"Select dates to see price breakdown."})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Confirm Rental"})]})})]}),d.jsx(Pu,{isOpen:z,onClose:()=>W(!1),transaction:P}),d.jsx(DM,{isOpen:y,onClose:()=>w(!1),car:G})]})}function noe({isOpen:e,onClose:t,customer:n}){const{updateCustomer:r,dealers:i}=Mt(),[s,o]=b.useState({name:"",email:"",phone:"",address:"",image:"",uniqueId:"",dob:"",dlImage:"",aadhaarFront:"",aadhaarBack:"",dealerId:""});b.useEffect(()=>{n&&o({name:n.name,email:n.email,phone:n.phone,address:n.address||"",image:n.image||"",uniqueId:n.uniqueId||"",dob:n.dob||"",dlImage:n.dlImage||"",aadhaarFront:n.aadhaarFront||"",aadhaarBack:n.aadhaarBack||"",dealerId:n.dealerId||""})},[n]);const c=(h,p)=>{const m=p.target.files[0];if(m){const v=new FileReader;v.onloadend=()=>{o(y=>({...y,[h]:v.result}))},v.readAsDataURL(m)}},u=h=>{h.preventDefault(),r(n.id,s),t()};return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Edit Customer"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:u,className:"space-y-4",children:[d.jsx(X,{placeholder:"Name",value:s.name,onChange:h=>o({...s,name:h.target.value}),required:!0}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:s.email,onChange:h=>o({...s,email:h.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:s.phone,onChange:h=>o({...s,phone:h.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Unique ID (e.g. LIC123)",value:s.uniqueId,onChange:h=>o({...s,uniqueId:h.target.value})}),d.jsx(X,{type:"date",placeholder:"Date of Birth",value:s.dob,onChange:h=>o({...s,dob:h.target.value})})]}),d.jsx(X,{placeholder:"Address",value:s.address,onChange:h=>o({...s,address:h.target.value})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Assigned Dealer (Optional)"}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:s.dealerId,onChange:h=>o({...s,dealerId:h.target.value}),children:[d.jsx("option",{value:"",children:"None"}),i.map(h=>d.jsx("option",{value:h.id,children:h.name},h.id))]})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:h=>c("image",h),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"DL Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:h=>c("dlImage",h),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Front"}),d.jsx(X,{type:"file",accept:"image/*",onChange:h=>c("aadhaarFront",h),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Back"}),d.jsx(X,{type:"file",accept:"image/*",onChange:h=>c("aadhaarBack",h),className:"cursor-pointer text-xs"})]})]})]}),s.image&&d.jsx("div",{className:"mt-2 flex justify-center",children:d.jsx("img",{src:s.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-full border-2 border-primary"})}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function MM({isOpen:e,onClose:t,entity:n,transactions:r,type:i}){const{cars:s}=Mt(),[o,c]=b.useState(null);if(!n)return null;const u=r.filter(p=>{const m=i==="customer"?p.customerId===n.id:p.dealerId===n.id,v=p.paymentStatus!=="Paid";return m&&v}),h=p=>{c(p)};return d.jsxs(d.Fragment,{children:[d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsxs(Ur,{children:["Pending ",i==="customer"?"Payments":"Collections",": ",n.name]})}),d.jsx("div",{className:"mt-6 space-y-4",children:u.length>0?u.map(p=>{const m=s.find(C=>C.id===p.carId),v=Number(p.amountPaid)||0,y=Number(p.total)||0,w=Math.max(0,y-v);return d.jsxs(Fe,{className:"overflow-hidden",children:[d.jsx("div",{className:"h-1 w-full bg-destructive"}),d.jsxs(ze,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold",children:m?`${m.make} ${m.model}`:"Unknown Car"}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[p.startDate," - ",p.endDate]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("div",{className:"font-bold text-destructive",children:["",w]}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["of ",y]})]})]}),d.jsx(ve,{size:"sm",className:"w-full mt-2",variant:"outline",onClick:()=>h(p),children:"Settle Amount"})]})]},p.id)}):d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No pending transactions found."})})]}),d.jsx(Pu,{isOpen:!!o,onClose:()=>{c(null)},transaction:o})]})}function roe({customer:e,transactions:t=[],cars:n=[],dealers:r=[],onEdit:i,onViewDetails:s,onDelete:o,onPendingClick:c}){const[u,h]=b.useState(!1),p=t.filter(w=>w.customerId===e.id),m=p.flatMap(w=>{const C=n.find(I=>I.id===w.carId),_=C?`${C.make} ${C.model}`:"Unknown Car",k=[];return k.push({id:w.id,uniqueId:w.id,date:w.startDate,description:_,type:"Debit",status:w.status,amount:Number(w.total)||0,isRental:!0}),w.payments&&w.payments.length>0?w.payments.forEach(I=>{k.push({id:I.id,uniqueId:I.id,date:I.date,description:`Payment for ${_}`,type:I.type,status:"Paid",amount:Number(I.amount)||0,isRental:!1})}):Number(w.amountPaid)>0&&k.push({id:`${w.id}_payment`,uniqueId:"Legacy",date:w.startDate,description:`Payment for ${_}`,type:"Credit",status:"Paid",amount:Number(w.amountPaid),isRental:!1}),k}).sort((w,C)=>new Date(C.date)-new Date(w.date)),v=p.filter(w=>w.paymentStatus!=="Paid").reduce((w,C)=>w+Math.max(0,(Number(C.total)||0)-(Number(C.amountPaid)||0)),0),y=r.find(w=>w.id===e.dealerId);return d.jsx(Fe,{className:`relative overflow-hidden transition-all duration-300 hover:shadow-lg border-l-4 ${v>0?"border-l-destructive/50":"border-l-primary/20 hover:border-l-primary"}`,children:d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"h-14 w-14 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-white shadow-sm",children:e.image?d.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"}):d.jsx(Gf,{className:"h-7 w-7 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg leading-tight",children:e.name}),d.jsxs("div",{className:"flex flex-col text-sm text-muted-foreground mt-1",children:[d.jsx("span",{children:e.phone}),e.uniqueId&&d.jsxs("span",{className:"text-xs bg-muted px-1.5 py-0.5 rounded w-fit mt-1",children:["ID: ",e.uniqueId]})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[v>0&&d.jsxs("div",{onClick:w=>{w.stopPropagation(),c()},className:"flex flex-col items-end mr-2 cursor-pointer hover:opacity-80 transition-opacity",children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-destructive",children:"Pending"}),d.jsxs("span",{className:"text-sm font-bold text-destructive",children:["",v.toLocaleString()]})]}),d.jsx(ve,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",onClick:()=>h(!u),children:u?d.jsx($A,{className:"h-5 w-5"}):d.jsx(FA,{className:"h-5 w-5"})})]})]}),u&&d.jsxs("div",{className:"mt-6 pt-6 border-t animate-in slide-in-from-top-2 duration-300 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Email"}),d.jsx("div",{className:"font-medium truncate",title:e.email,children:e.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Date of Birth"}),d.jsx("div",{className:"font-medium",children:e.dob||"N/A"})]}),d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Address"}),d.jsx("div",{className:"font-medium",children:e.address||"N/A"})]}),y&&d.jsxs("div",{className:"col-span-2",children:[d.jsx("label",{className:"text-xs text-muted-foreground font-medium",children:"Assigned Dealer"}),d.jsxs("div",{className:"font-medium flex items-center gap-1",children:[d.jsx(WA,{className:"h-3 w-3"})," ",y.name]})]})]}),(e.dlImage||e.aadhaarFront||e.aadhaarBack)&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-bold uppercase text-muted-foreground mb-2",children:"Documents"}),d.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[{img:e.dlImage,label:"DL"},{img:e.aadhaarFront,label:"Aadhaar Front"},{img:e.aadhaarBack,label:"Aadhaar Back"}].map((w,C)=>w.img&&d.jsxs("div",{className:"h-20 w-32 flex-shrink-0 rounded-md border bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(w.img,"_blank"),children:[d.jsx("img",{src:w.img,alt:w.label,className:"h-full w-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:d.jsx(oH,{className:"h-5 w-5 text-white"})}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-[10px] px-1 py-0.5 truncate text-center",children:w.label})]},C))})]}),d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-2",children:d.jsx("h4",{className:"text-xs font-bold uppercase text-muted-foreground",children:"Financial Ledger"})}),d.jsx("div",{className:"rounded-md border",children:d.jsxs(Eu,{children:[d.jsx(Nu,{children:d.jsxs(Yn,{className:"bg-muted/50",children:[d.jsx(gt,{className:"w-[85px] text-xs",children:"Trans ID"}),d.jsx(gt,{className:"text-xs",children:"Description"}),d.jsx(gt,{className:"w-[100px] text-xs",children:"Status"}),d.jsx(gt,{className:"w-[90px] text-xs",children:"Date"}),d.jsx(gt,{className:"text-right text-xs",children:"Amount"})]})}),d.jsx(Iu,{children:m.length>0?m.slice(0,5).map((w,C)=>d.jsxs(Yn,{className:"text-xs",children:[d.jsx(rt,{className:"font-mono text-[10px] text-muted-foreground",children:w.uniqueId==="Legacy"?"-":w.uniqueId.slice(0,8)}),d.jsx(rt,{className:"font-medium",children:w.description}),d.jsx(rt,{children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium whitespace-nowrap ${w.type==="Credit"?"bg-green-100/50 text-green-800":"bg-red-100/50 text-red-800"}`,children:w.type})}),d.jsx(rt,{children:w.date}),d.jsxs(rt,{className:`text-right font-medium ${w.type==="Credit"?"text-green-600":""}`,children:[w.type==="Credit"?"+":"-","",w.amount.toLocaleString()]})]},`${w.id}-${C}`)):d.jsx(Yn,{children:d.jsx(rt,{colSpan:5,className:"text-center text-xs text-muted-foreground py-4",children:"No financial records found"})})})]})})]}),d.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[d.jsxs(ve,{variant:"outline",size:"sm",onClick:o,className:"h-8 text-xs gap-2 text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[d.jsx(qA,{className:"h-3 w-3"}),"Delete"]}),d.jsxs(ve,{variant:"outline",size:"sm",onClick:s,className:"h-8 text-xs gap-2",children:[d.jsx(Gf,{className:"h-3 w-3"}),"Full Profile"]}),d.jsxs(ve,{variant:"default",size:"sm",onClick:i,className:"h-8 text-xs gap-2",children:[d.jsx(jr,{className:"h-3 w-3"}),"Edit"]})]})]})]})})}function ioe(){const{customers:e,addCustomer:t,deleteCustomer:n,transactions:r,dealers:i,cars:s}=Mt(),o=ri(),[c,u]=b.useState(!1),[h,p]=b.useState({name:"",email:"",phone:"",address:"",dob:"",dealerId:"",dlImage:"",aadhaarFront:"",aadhaarBack:""}),[m,v]=b.useState(null),[y,w]=b.useState(null),C=(I,E)=>{const j=E.target.files[0];if(j){const P=new FileReader;P.onloadend=()=>{p(A=>({...A,[I]:P.result}))},P.readAsDataURL(j)}},_=async I=>{if(window.confirm("Are you sure you want to delete this customer? This action cannot be undone."))try{await n(I)}catch(E){alert("Failed to delete customer: "+E.message)}},k=I=>{I.preventDefault();try{t(h),u(!1),p({name:"",email:"",phone:"",address:"",dob:"",dealerId:"",dlImage:"",aadhaarFront:"",aadhaarBack:""})}catch(E){alert(E.message)}};return i.filter(I=>!!I.id),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Customers"}),d.jsxs(ve,{onClick:()=>u(!c),children:[d.jsx(ja,{className:"mr-2 h-4 w-4"})," Add Customer"]})]}),c&&d.jsxs(Fe,{className:"max-w-2xl",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Add New Customer"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Customer Name",value:h.name,onChange:I=>p({...h,name:I.target.value}),required:!0}),d.jsx(X,{type:"email",placeholder:"Email",value:h.email,onChange:I=>p({...h,email:I.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Phone",value:h.phone,onChange:I=>p({...h,phone:I.target.value}),required:!0}),d.jsx(X,{type:"date",placeholder:"Date of Birth",value:h.dob,onChange:I=>p({...h,dob:I.target.value})}),d.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:h.dealerId,onChange:I=>p({...h,dealerId:I.target.value}),children:[d.jsx("option",{value:"",children:"Select Dealer (Optional)"}),i.map(I=>d.jsx("option",{value:I.id,children:I.name},I.id))]})]}),d.jsx(X,{placeholder:"Address",value:h.address,onChange:I=>p({...h,address:I.target.value})}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:I=>C("image",I),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"DL Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:I=>C("dlImage",I),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Front"}),d.jsx(X,{type:"file",accept:"image/*",onChange:I=>C("aadhaarFront",I),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Aadhaar Back"}),d.jsx(X,{type:"file",accept:"image/*",onChange:I=>C("aadhaarBack",I),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Customer"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(I=>d.jsx(roe,{customer:I,transactions:r,cars:s,dealers:i,onEdit:()=>v(I),onViewDetails:()=>o("/customers/"+I.id),onPendingClick:()=>w(I),onDelete:()=>_(I.id)},I.id))}),d.jsx(noe,{isOpen:!!m,onClose:()=>v(null),customer:m}),d.jsx(MM,{isOpen:!!y,onClose:()=>w(null),entity:y,transactions:r,type:"customer"})]})}function soe(){var I;const{id:e}=s0(),t=ri(),{customers:n,transactions:r,dealers:i,cars:s}=Mt(),[o,c]=b.useState(null),[u,h]=b.useState(null),[p,m]=b.useState(null);if(b.useEffect(()=>{const E=n.find(j=>j.id===e);E&&c(E)},[e,n]),!o)return d.jsx("div",{className:"p-8",children:"Loading..."});const v=r.filter(E=>E.customerId===o.id),y=v.flatMap(E=>{const j=s.find(z=>z.id===E.carId),P=j?`${j.make} ${j.model}`:"Unknown Car",A=[];return A.push({id:E.id,uniqueId:E.id,date:E.startDate,description:P,type:"Debit",status:E.status,amount:Number(E.total)||0,originalTransaction:E,isRental:!0}),E.payments&&E.payments.length>0?E.payments.forEach(z=>{A.push({id:z.id,uniqueId:z.id,date:z.date,description:`Payment for ${P}`,type:z.type,status:"Paid",amount:Number(z.amount)||0,originalTransaction:E,isRental:!1})}):Number(E.amountPaid)>0&&A.push({id:`${E.id}_payment`,uniqueId:"Legacy",date:E.startDate,description:`Payment for ${P}`,type:"Credit",status:"Paid",amount:Number(E.amountPaid),originalTransaction:E,isRental:!1}),A}).sort((E,j)=>new Date(j.date)-new Date(E.date)),w=v.reduce((E,j)=>E+(Number(j.total)||0),0),C=v.filter(E=>E.paymentStatus!=="Paid").reduce((E,j)=>E+Math.max(0,(Number(j.total)||0)-(Number(j.amountPaid)||0)),0),_=[...new Set(v.map(E=>E.dealerId).filter(E=>E))],k=i.filter(E=>_.includes(E.id));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>t("/customers"),children:d.jsx(RA,{className:"h-5 w-5"})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 overflow-hidden border-2 border-white shadow-sm ${o.image?"cursor-pointer hover:opacity-80 transition-opacity":""}`,onClick:()=>o.image&&m(o.image),children:o.image?d.jsx("img",{src:o.image,alt:o.name,className:"h-full w-full object-cover"}):d.jsx(Gf,{className:"h-6 w-6 text-primary"})}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o.name})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Fe,{children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Contact Information"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Kf,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.phone})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),d.jsxs("h3",{className:"text-2xl font-bold",children:["",w.toLocaleString()]})]})}),d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Amount"}),d.jsxs("h3",{className:"text-2xl font-bold text-destructive",children:["",C.toLocaleString()]})]})})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Rt,{className:"text-base",children:"Personal Information"})}),d.jsxs(ze,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Unique ID"}),d.jsx("span",{className:"font-medium",children:o.uniqueId||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Date of Birth"}),d.jsx("span",{className:"font-medium",children:o.dob||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsx("span",{className:"font-medium max-w-[200px] text-right",children:o.address||"N/A"})]}),o.dealerId&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Assigned Dealer"}),d.jsxs("span",{className:"font-medium flex items-center gap-1 justify-end",children:[d.jsx(WA,{className:"h-3 w-3"}),((I=i.find(E=>E.id===o.dealerId))==null?void 0:I.name)||"Unknown"]})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Documents"}),d.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.dlImage&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.dlImage),children:[d.jsx("img",{src:o.dlImage,alt:"DL",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"View DL"})]}),o.aadhaarFront&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.aadhaarFront),children:[d.jsx("img",{src:o.aadhaarFront,alt:"Aadhaar Front",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Front"})]}),o.aadhaarBack&&d.jsxs("div",{className:"aspect-video rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.aadhaarBack),children:[d.jsx("img",{src:o.aadhaarBack,alt:"Aadhaar Back",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Back"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("div",{className:"flex justify-between items-center mb-3",children:d.jsx("h3",{className:"font-semibold text-lg",children:"Transaction History"})}),d.jsx("div",{className:"rounded-md border bg-card",children:d.jsxs(Eu,{children:[d.jsx(Nu,{children:d.jsxs(Yn,{className:"bg-muted/50",children:[d.jsx(gt,{className:"w-[85px] text-xs",children:"Trans ID"}),d.jsx(gt,{className:"text-xs",children:"Description"}),d.jsx(gt,{className:"w-[100px] text-xs",children:"Status"}),d.jsx(gt,{className:"w-[90px] text-xs",children:"Date"}),d.jsx(gt,{className:"text-right text-xs",children:"Amount"}),d.jsx(gt,{className:"w-[40px]"})]})}),d.jsx(Iu,{children:y.length>0?y.map((E,j)=>{var P;return d.jsxs(Yn,{className:"text-xs",children:[d.jsx(rt,{className:"font-mono text-[10px] text-muted-foreground align-top py-3",children:E.uniqueId==="Legacy"?"-":E.uniqueId.slice(0,8)}),d.jsxs(rt,{className:"align-top py-3 font-medium",children:[E.description,E.isRental&&d.jsx("div",{className:"text-[10px] text-muted-foreground mt-0.5 font-normal",children:(P=E.originalTransaction)!=null&&P.endDate?`Till ${E.originalTransaction.endDate}`:"Active"})]}),d.jsx(rt,{className:"align-top py-3",children:d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium whitespace-nowrap ${E.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E.type==="Credit"?"Credit":"Debit"})}),d.jsx(rt,{className:"align-top py-3",children:E.date}),d.jsxs(rt,{className:`text-right font-medium align-top py-3 ${E.type==="Credit"?"text-green-600":""}`,children:[E.type==="Credit"?"+":"-","",E.amount.toLocaleString()]}),d.jsx(rt,{className:"align-top py-3",children:E.originalTransaction&&d.jsx(ve,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>h(E.originalTransaction),children:d.jsx(jr,{className:"h-3 w-3"})})})]},`${E.id}-${j}`)}):d.jsx(Yn,{children:d.jsx(rt,{colSpan:6,className:"text-center text-xs text-muted-foreground py-4",children:"No financial records found"})})})]})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Associated Dealers"}),d.jsx("div",{className:"space-y-3",children:k.length>0?k.map(E=>d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4",children:[d.jsx("h4",{className:"font-medium mb-1",children:E.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Kf,{className:"mr-2 h-4 w-4"}),E.email]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Lc,{className:"mr-2 h-4 w-4"}),E.phone]})]})]})},E.id)):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No associated dealers."})})]})]})]}),d.jsx(Pu,{isOpen:!!u,onClose:()=>h(null),transaction:u}),p&&d.jsx("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-200",onClick:()=>m(null),children:d.jsxs("div",{className:"relative max-w-4xl max-h-[90vh]",children:[d.jsx("img",{src:p,alt:"Expanded Profile",className:"max-w-full max-h-[90vh] object-contain rounded-md"}),d.jsx("button",{className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2",onClick:E=>{E.stopPropagation(),m(null)},children:d.jsx($c,{size:32})})]})})]})}function aoe(){const{transactions:e,cars:t,customers:n}=Mt(),[r,i]=b.useState(null);return d.jsxs("div",{className:"space-y-8",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Transactions"}),d.jsx("div",{className:"grid gap-4",children:e.map(s=>{const o=t.find(u=>u.id===s.carId),c=n.find(u=>u.id===s.customerId);return d.jsx(Fe,{className:"relative group",children:d.jsxs(ze,{className:"p-6 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"font-bold text-lg",children:[o==null?void 0:o.make," ",o==null?void 0:o.model]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Customer: ",c==null?void 0:c.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.startDate," - ",s.endDate]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",s.total]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.status})]}),d.jsx(ve,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>i(s),children:d.jsx(jr,{className:"h-4 w-4"})})]})]})},s.id)})}),d.jsx(Pu,{isOpen:!!r,onClose:()=>i(null),transaction:r})]})}function ooe(){const[e,t]=b.useState(null),[n,r]=b.useState(!1),[i,s]=b.useState(!1);b.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&s(!0);const u=p=>{p.preventDefault(),t(p)};return window.addEventListener("beforeinstallprompt",u),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!window.matchMedia("(display-mode: standalone)").matches&&(sessionStorage.getItem("iosInstallDismissed")||r(!0)),()=>{window.removeEventListener("beforeinstallprompt",u)}},[]);const o=async()=>{if(!e)return;e.prompt();const{outcome:u}=await e.userChoice;u==="accepted"&&t(null)},c=()=>{r(!1),sessionStorage.setItem("iosInstallDismissed","true")};return i?null:e?d.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 bg-surface dark:bg-surface-dark border border-primary/20 shadow-lg rounded-lg p-4 animate-in slide-in-from-bottom duration-300",children:d.jsxs("div",{className:"flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-primary",children:"Install Driveway"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Install our app for a better experience"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>t(null),children:d.jsx($c,{className:"h-4 w-4"})}),d.jsxs(ve,{onClick:o,className:"gap-2",children:[d.jsx(sH,{className:"h-4 w-4"})," Install"]})]})]})}):n?d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-surface dark:bg-surface-dark border-t border-gray-200 dark:border-gray-800 p-4 shadow-lg animate-in slide-in-from-bottom duration-300 pb-8",children:d.jsxs("div",{className:"max-w-md mx-auto relative",children:[d.jsx(ve,{variant:"ghost",size:"icon",className:"absolute -top-2 right-0",onClick:c,children:d.jsx($c,{className:"h-4 w-4"})}),d.jsxs("div",{className:"flex items-start gap-4 pr-8",children:[d.jsx("div",{className:"bg-primary/10 p-3 rounded-xl",children:d.jsx(IH,{className:"h-6 w-6 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-1",children:"Install Driveway"}),d.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["To install this app on your iPhone, tap the ",d.jsx("span",{className:"font-bold",children:"Share"})," icon below and select ",d.jsx("span",{className:"font-bold",children:'"Add to Home Screen"'}),"."]})]})]}),d.jsx("div",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 w-4 h-4 bg-surface dark:bg-surface-dark rotate-45 border-b border-r border-gray-200 dark:border-gray-800"})]})}):null}function loe({isOpen:e,onClose:t,dealer:n}){const{updateDealer:r}=Mt(),[i,s]=b.useState({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""});b.useEffect(()=>{n&&s({name:n.name||"",email:n.email||"",phone:n.phone||"",address:n.address||"",contactPerson:n.contactPerson||"",pan:n.pan||"",image:n.image||"",logo:n.logo||"",shopAct:n.shopAct||"",panImage:n.panImage||"",proof:n.proof||"",altProof:n.altProof||""})},[n]);const o=(u,h)=>{const p=h.target.files[0];if(p){const m=new FileReader;m.onloadend=()=>{s(v=>({...v,[u]:m.result}))},m.readAsDataURL(p)}},c=u=>{u.preventDefault(),r(n.id,i),t()};return d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsx(zr,{children:d.jsx(Ur,{children:"Edit Dealer"})}),d.jsx("div",{className:"mt-6 h-[calc(100vh-10rem)] overflow-y-auto pr-4",children:d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Dealer Name",value:i.name,onChange:u=>s({...i,name:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Unique ID (e.g. DLR001)",value:i.uniqueId,onChange:u=>s({...i,uniqueId:u.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:i.email,onChange:u=>s({...i,email:u.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:i.phone,onChange:u=>s({...i,phone:u.target.value}),required:!0})]}),d.jsx(X,{placeholder:"Contact Person Name",value:i.contactPerson,onChange:u=>s({...i,contactPerson:u.target.value})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"PAN Number"}),d.jsx(X,{value:i.pan,onChange:u=>s({...i,pan:u.target.value})})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Address"}),d.jsx(X,{value:i.address,onChange:u=>s({...i,address:u.target.value})})]})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("image",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Logo"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("logo",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("proof",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Alt Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("altProof",u),className:"text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Shop Act"}),'type="file" accept="image/*" onChange=',u=>o("panImage",u),'className="cursor-pointer text-xs" />']}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"GST Certificate"}),d.jsx(X,{type:"file",accept:"image/*",onChange:u=>o("gstImage",u),className:"cursor-pointer text-xs"})]})]})]}),i.image&&d.jsx("div",{className:"mt-2 flex justify-center",children:d.jsx("img",{src:i.image,alt:"Preview",className:"w-20 h-20 object-cover rounded-full border-2 border-primary"})}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Changes"})]})})]})}function coe({dealer:e,transactions:t=[],onEdit:n,onViewDetails:r,onDelete:i,onPendingClick:s}){const[o,c]=b.useState(!1);return d.jsx(Fe,{className:"relative overflow-hidden transition-all duration-300 hover:shadow-lg border-l-4 border-l-secondary/20 hover:border-l-secondary",children:d.jsxs(ze,{className:"p-6",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex gap-4",children:[d.jsx("div",{className:"h-12 w-12 rounded-full bg-secondary/10 flex items-center justify-center flex-shrink-0 overflow-hidden",children:e.image?d.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"}):d.jsx(Gf,{className:"h-6 w-6 text-secondary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg leading-none mb-2",children:e.name}),d.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e.email}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone})]})]}),d.jsx(ve,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",onClick:()=>c(!o),children:o?d.jsx($A,{className:"h-5 w-5"}):d.jsx(FA,{className:"h-5 w-5"})})]}),o&&d.jsxs("div",{className:"mt-6 pt-6 border-t animate-in slide-in-from-top-2 duration-200",children:[(()=>{const u=t.filter(m=>m.dealerId===e.id),h=u.filter(m=>m.paymentStatus!=="Paid").reduce((m,v)=>m+Math.max(0,(Number(v.total)||0)-(Number(v.amountPaid)||0)),0),p=[...u].sort((m,v)=>new Date(v.startDate)-new Date(m.startDate)).slice(0,2);return d.jsxs("div",{className:"mb-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/50 rounded-lg cursor-pointer hover:bg-muted transition-colors",onClick:s,children:[d.jsx("span",{className:"text-sm font-medium",children:"Pending Collection"}),d.jsxs("span",{className:`font-bold ${h>0?"text-destructive":"text-muted-foreground"}`,children:["",h.toLocaleString()]})]}),p.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-xs font-semibold uppercase text-muted-foreground mb-2",children:"Recent Activity"}),d.jsx("div",{className:"space-y-2",children:p.map(m=>d.jsxs("div",{className:"text-sm flex justify-between items-center border-b pb-2 last:border-0 last:pb-0",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:m.startDate}),d.jsxs("div",{className:"text-xs text-muted-foreground",children:["",m.total]})]}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${m.paymentStatus==="Paid"?"bg-green-100 text-green-800":m.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:m.paymentStatus||"Pending"})]},m.id))})]})]})})(),e.address&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h4",{className:"text-sm font-semibold mb-1",children:"Address"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:e.address})]}),d.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[d.jsxs(ve,{variant:"outline",size:"sm",onClick:i,className:"gap-2 text-destructive hover:text-destructive hover:bg-destructive/10 border-destructive/20",children:[d.jsx(qA,{className:"h-4 w-4"}),"Delete"]}),d.jsxs(ve,{variant:"outline",size:"sm",onClick:r,className:"gap-2",children:[d.jsx(Yf,{className:"h-4 w-4"}),"View Details"]}),d.jsxs(ve,{variant:"default",size:"sm",onClick:n,className:"gap-2",children:[d.jsx(jr,{className:"h-4 w-4"}),"Edit Details"]})]})]})]})})}function uoe(){const{dealers:e,addDealer:t,deleteDealer:n,transactions:r}=Mt(),i=ri(),[s,o]=b.useState(!1),[c,u]=b.useState({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""}),[h,p]=b.useState(null),[m,v]=b.useState(null),y=(_,k)=>{const I=k.target.files[0];if(I){const E=new FileReader;E.onloadend=()=>{u(j=>({...j,[_]:E.result}))},E.readAsDataURL(I)}},w=async _=>{if(window.confirm("Are you sure you want to delete this dealer? This action cannot be undone."))try{await n(_)}catch(k){alert("Failed to delete dealer: "+k.message)}},C=_=>{_.preventDefault();try{t(c),o(!1),u({name:"",email:"",phone:"",address:"",contactPerson:"",pan:"",image:"",logo:"",shopAct:"",panImage:"",proof:"",altProof:""})}catch(k){alert(k.message)}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dealers"}),d.jsxs(ve,{onClick:()=>o(!s),children:[d.jsx(ja,{className:"mr-2 h-4 w-4"})," Add Dealer"]})]}),s&&d.jsxs(Fe,{className:"max-w-2xl",children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Add New Dealer"})}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"Dealer Name",value:c.name,onChange:_=>u({...c,name:_.target.value}),required:!0}),d.jsx(X,{placeholder:"Contact Person Name",value:c.contactPerson,onChange:_=>u({...c,contactPerson:_.target.value})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{type:"email",placeholder:"Email",value:c.email,onChange:_=>u({...c,email:_.target.value}),required:!0}),d.jsx(X,{placeholder:"Phone",value:c.phone,onChange:_=>u({...c,phone:_.target.value}),required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(X,{placeholder:"PAN Number",value:c.pan,onChange:_=>u({...c,pan:_.target.value})}),d.jsx(X,{placeholder:"Address",value:c.address,onChange:_=>u({...c,address:_.target.value})})]}),d.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Documents & Images"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Profile Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("image",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Logo"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("logo",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("proof",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Alt Proof"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("altProof",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"Shop Act"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("shopAct",_),className:"cursor-pointer text-xs"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-medium",children:"PAN Card Image"}),d.jsx(X,{type:"file",accept:"image/*",onChange:_=>y("panImage",_),className:"cursor-pointer text-xs"})]})]})]}),d.jsx(ve,{type:"submit",className:"w-full",children:"Save Dealer"})]})})]}),d.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(_=>d.jsx(coe,{dealer:_,transactions:r,onEdit:()=>p(_),onViewDetails:()=>i("/dealers/"+_.id),onPendingClick:()=>v(_),onDelete:()=>w(_.id)},_.id))}),d.jsx(loe,{isOpen:!!h,onClose:()=>p(null),dealer:h}),d.jsx(MM,{isOpen:!!m,onClose:()=>v(null),entity:m,transactions:r,type:"dealer"})]})}function doe(){const{id:e}=s0(),t=ri(),{transactions:n,dealers:r,customers:i,cars:s}=Mt(),[o,c]=b.useState(null),[u,h]=b.useState(null);if(b.useEffect(()=>{const C=r.find(_=>_.id===e);C&&c(C)},[e,r]),!o)return d.jsx("div",{className:"p-8",children:"Loading..."});const p=n.filter(C=>C.dealerId===o.id),m=p.reduce((C,_)=>C+(Number(_.total)||0),0),v=p.filter(C=>C.paymentStatus!=="Paid").reduce((C,_)=>C+Math.max(0,(Number(_.total)||0)-(Number(_.amountPaid)||0)),0),y=[...new Set(p.map(C=>C.customerId).filter(C=>C))],w=i.filter(C=>y.includes(C.id));return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>t("/dealers"),children:d.jsx(RA,{className:"h-5 w-5"})}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:o.name})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Fe,{children:[d.jsx(Dt,{children:d.jsx(Rt,{children:"Contact Information"})}),d.jsxs(ze,{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Kf,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.email})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{children:o.phone})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Generated"}),d.jsxs("h3",{className:"text-2xl font-bold",children:["",m.toLocaleString()]})]})}),d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 pt-4",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Collection"}),d.jsxs("h3",{className:"text-2xl font-bold text-destructive",children:["",v.toLocaleString()]})]})})]}),d.jsxs(Fe,{children:[d.jsx(Dt,{className:"pb-3",children:d.jsx(Rt,{className:"text-base",children:"Business Information"})}),d.jsxs(ze,{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Unique ID"}),d.jsx("span",{className:"font-medium",children:o.uniqueId||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Contact Person"}),d.jsx("span",{className:"font-medium",children:o.contactPerson||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"PAN Number"}),d.jsx("span",{className:"font-medium",children:o.pan||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-muted-foreground",children:"Address"}),d.jsx("span",{className:"font-medium max-w-[200px] text-right",children:o.address||"N/A"})]})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Documents"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[o.logo&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.logo),children:[d.jsx("img",{src:o.logo,alt:"Logo",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Logo"})]}),o.proof&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.proof),children:[d.jsx("img",{src:o.proof,alt:"Proof",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Proof"})]}),o.altProof&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.altProof),children:[d.jsx("img",{src:o.altProof,alt:"Alt Proof",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Alt Proof"})]}),o.shopAct&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.shopAct),children:[d.jsx("img",{src:o.shopAct,alt:"Shop Act",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"Shop Act"})]}),o.panImage&&d.jsxs("div",{className:"aspect-square rounded bg-muted overflow-hidden relative group cursor-pointer",onClick:()=>window.open(o.panImage),children:[d.jsx("img",{src:o.panImage,alt:"PAN",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity text-white text-xs font-bold",children:"PAN"})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Transaction History"}),d.jsx("div",{className:"space-y-3",children:p.length>0?p.map(C=>{const _=s.find(k=>k.id===C.carId);return d.jsx(Fe,{className:"overflow-hidden",children:d.jsxs(ze,{className:"p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(LA,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"font-medium",children:_?`${_.make} ${_.model}`:"Unknown Car"})]}),d.jsx("span",{className:`text-sm font-semibold ${C.status==="Active"?"text-green-600":"text-gray-600"}`,children:C.status})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[d.jsx(MA,{className:"h-4 w-4"}),C.startDate," - ",C.endDate]}),d.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm font-medium",children:["",C.total]}),Number(C.amountPaid)>0&&C.paymentStatus!=="Paid"&&d.jsxs("span",{className:"text-xs text-muted-foreground",children:["(Paid: ",C.amountPaid,")"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${C.paymentStatus==="Paid"?"bg-green-100 text-green-800":C.paymentStatus==="Pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:C.paymentStatus||"Pending"}),d.jsx(ve,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>h(C),children:d.jsx(jr,{className:"h-3 w-3"})})]})]})]})},C.id)}):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No transactions found."})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Associated Customers"}),d.jsx("div",{className:"space-y-3",children:w.length>0?w.map(C=>d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4",children:[d.jsx("h4",{className:"font-medium mb-1",children:C.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Kf,{className:"mr-2 h-4 w-4"}),C.email]}),d.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[d.jsx(Lc,{className:"mr-2 h-4 w-4"}),C.phone]})]})]})},C.id)):d.jsx("p",{className:"text-sm text-muted-foreground",children:"No associated customers."})})]})]})]}),d.jsx(Pu,{isOpen:!!u,onClose:()=>h(null),transaction:u})]})}function foe({isOpen:e,onClose:t,workshop:n}){const{cars:r}=Mt(),[i,s]=b.useState(null),[o,c]=b.useState(!1);if(!n)return null;const u=h=>{s(h),c(!0)};return d.jsxs(d.Fragment,{children:[d.jsxs($r,{isOpen:e,onClose:t,children:[d.jsxs(zr,{children:[d.jsxs(Ur,{className:"flex items-center gap-2",children:[d.jsx(Fc,{className:"h-5 w-5"}),n.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 mt-1",children:[d.jsx(UA,{className:"h-3 w-3"})," ",n.details]})]}),d.jsxs("div",{className:"mt-6 space-y-6",children:[d.jsx(Fe,{children:d.jsxs(ze,{className:"p-4 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),d.jsxs("p",{className:"text-2xl font-bold",children:["",n.totalSpent]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Services"}),d.jsx("p",{className:"text-2xl font-bold",children:n.records.length})]})]})}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Service History"}),n.records.map(h=>{const p=r.find(m=>m.id===h.carId);return d.jsx(Fe,{children:d.jsx(ze,{className:"p-4",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:p?`${p.make} ${p.model} `:"Unknown Car"}),d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:h.description}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:h.date}),h.returnDate&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"-"}),d.jsx("span",{children:h.returnDate})]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold",children:["",h.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>u(h),children:d.jsx(jr,{className:"h-4 w-4"})}),h.image&&d.jsx(ve,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+h.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},h.id)})]})]})]}),d.jsx(qb,{isOpen:o,onClose:()=>c(!1),record:i})]})}function hoe(){const{maintenanceRecords:e,cars:t}=Mt(),[n,r]=b.useState(null),[i,s]=b.useState(!1),[o,c]=b.useState(!1),[u,h]=b.useState(null),[p,m]=b.useState(!1),[v,y]=b.useState("workshops");if(!e||!t)return d.jsx("div",{className:"p-8",children:"Loading maintenance data..."});const w=e.reduce((k,I)=>(k[I.workshopName]||(k[I.workshopName]={name:I.workshopName,details:I.workshopDetails,totalSpent:0,records:[]}),k[I.workshopName].totalSpent+=I.amount,k[I.workshopName].records.push(I),k),{}),C=k=>{r(k),s(!0)},_=k=>{h(k),m(!0)};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Maintenance & Workshops"}),d.jsxs(ve,{onClick:()=>c(!0),children:[d.jsx(ja,{className:"mr-2 h-4 w-4"})," Add Maintenance"]})]}),d.jsxs(Bb,{value:v,onValueChange:y,children:[d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-800 mb-6",children:d.jsxs(Wb,{className:"bg-transparent p-0",children:[d.jsx(Co,{value:"workshops",className:`rounded-none border-b-2 px-6 py-3 ${v==="workshops"?"border-primary text-primary":"border-transparent"}`,children:"Workshops"}),d.jsx(Co,{value:"history",className:`rounded-none border-b-2 px-6 py-3 ${v==="history"?"border-primary text-primary":"border-transparent"}`,children:"Service History"})]})}),d.jsx(ko,{value:"workshops",children:d.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[Object.values(w).map(k=>{var I;return d.jsxs(Fe,{className:"flex flex-col",children:[d.jsxs(Dt,{children:[d.jsxs(Rt,{className:"flex items-center gap-2",children:[d.jsx(Fc,{className:"h-5 w-5"}),k.name]}),d.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[d.jsx(UA,{className:"h-3 w-3"})," ",k.details,((I=k.records[0])==null?void 0:I.phoneNumber)&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"mx-1",children:""}),d.jsx(Lc,{className:"h-3 w-3"})," ",k.records[0].phoneNumber]})]})]}),d.jsxs(ze,{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-2xl font-bold",children:["",k.totalSpent]}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Spent"})]}),d.jsxs("div",{className:"space-y-3 mt-auto",children:[d.jsx("h4",{className:"font-medium text-sm",children:"Recent Service History"}),k.records.slice(0,3).map((E,j)=>{const P=t.find(A=>A.id===E.carId);return d.jsxs("div",{className:"text-sm border-l-2 border-primary pl-3",children:[d.jsx("p",{className:"font-medium",children:P?`${P.make} ${P.model}`:"Unknown Car"}),d.jsxs("p",{className:"text-muted-foreground text-xs",children:[E.date,"  ",E.description||"No description"]})]},j)}),k.records.length>3&&d.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+ ",k.records.length-3," more records"]}),d.jsxs(ve,{variant:"outline",className:"w-full mt-4",onClick:()=>C(k),children:["View Details ",d.jsx(Yq,{className:"ml-2 h-4 w-4"})]})]})]})]},k.name)}),Object.keys(w).length===0&&d.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-12 text-muted-foreground bg-surface dark:bg-surface-dark rounded-lg border border-dashed",children:[d.jsx(Fc,{className:"h-12 w-12 mb-4 opacity-20"}),d.jsx("p",{children:"No maintenance records found."}),d.jsx(ve,{variant:"link",onClick:()=>c(!0),children:"Add your first maintenance record"})]})]})}),d.jsx(ko,{value:"history",children:d.jsxs("div",{className:"space-y-4",children:[e.sort((k,I)=>new Date(I.date)-new Date(k.date)).map(k=>{const I=t.find(E=>E.id===k.carId);return d.jsx(Fe,{children:d.jsx(ze,{className:"p-6",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h4",{className:"font-bold text-lg",children:k.workshopName}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[" ",I?`${I.make} ${I.model}`:"Unknown Car"]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:k.description||"No description provided"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-2",children:[d.jsx("span",{children:k.date}),k.returnDate&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"-"}),d.jsx("span",{children:k.returnDate})]}),d.jsx("span",{children:""}),d.jsx("span",{children:k.workshopDetails}),k.phoneNumber&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:""}),d.jsx("span",{children:k.phoneNumber})]})]})]}),d.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[d.jsxs("p",{className:"font-bold text-xl",children:["",k.amount]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(ve,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>_(k),children:d.jsx(jr,{className:"h-4 w-4"})}),k.image&&d.jsx(ve,{variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>{window.open().document.write('<img src="'+k.image+'" style="max-width:100%;"/>')},children:"Receipt"})]})]})]})})},k.id)}),e.length===0&&d.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No maintenance records found."})]})})]}),d.jsx(foe,{isOpen:i,onClose:()=>s(!1),workshop:n}),d.jsx(RM,{isOpen:o,onClose:()=>c(!1)}),d.jsx(qb,{isOpen:p,onClose:()=>m(!1),record:u})]})}function poe(){const{transactions:e,cars:t,customers:n,dealers:r}=Mt(),[i,s]=b.useState(""),[o,c]=b.useState("All"),h=b.useMemo(()=>{const y=[];return e.forEach(w=>{const C=t.find(I=>I.id===w.carId),_=n.find(I=>I.id===w.customerId),k=r.find(I=>I.id===w.dealerId);w.payments&&w.payments.length>0&&w.payments.forEach(I=>{y.push({...I,transactionId:w.id,carModel:C?`${C.make} ${C.model}`:"Unknown Car",customerName:_?_.name:"Unknown Customer",dealerName:k?k.name:null,rentalDate:`${w.startDate} - ${w.endDate}`})})}),y.sort((w,C)=>new Date(C.date)-new Date(w.date))},[e,t,n,r]).filter(y=>{const w=y.customerName.toLowerCase().includes(i.toLowerCase())||y.carModel.toLowerCase().includes(i.toLowerCase())||y.notes&&y.notes.toLowerCase().includes(i.toLowerCase()),C=o==="All"||y.type===o;return w&&C}),p=h.filter(y=>y.type==="Credit").reduce((y,w)=>y+(Number(w.amount)||0),0),m=h.filter(y=>y.type==="Debit").reduce((y,w)=>y+(Number(w.amount)||0),0),v=p-m;return d.jsxs("div",{className:"space-y-6",children:[d.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Financials"}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Rt,{className:"text-sm font-medium",children:"Net Cashflow"}),d.jsx("span",{className:"text-muted-foreground font-bold text-lg",children:""})]}),d.jsx(ze,{children:d.jsxs("div",{className:`text-2xl font-bold ${v>=0?"text-green-600":"text-destructive"}`,children:[v>=0?"+":"","",v.toLocaleString()]})})]}),d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Rt,{className:"text-sm font-medium",children:"Total Income (Credit)"}),d.jsx(Vq,{className:"h-4 w-4 text-green-600"})]}),d.jsx(ze,{children:d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["",p.toLocaleString()]})})]}),d.jsxs(Fe,{children:[d.jsxs(Dt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Rt,{className:"text-sm font-medium",children:"Total Expenses (Debit)"}),d.jsx(Qq,{className:"h-4 w-4 text-destructive"})]}),d.jsx(ze,{children:d.jsxs("div",{className:"text-2xl font-bold text-destructive",children:["",m.toLocaleString()]})})]})]}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-center",children:[d.jsxs("div",{className:"relative w-full md:w-96",children:[d.jsx(EH,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(X,{placeholder:"Search customer, car, or notes...",className:"pl-8",value:i,onChange:y=>s(y.target.value)})]}),d.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[d.jsx(ve,{variant:o==="All"?"default":"outline",onClick:()=>c("All"),size:"sm",children:"All"}),d.jsx(ve,{variant:o==="Credit"?"default":"outline",onClick:()=>c("Credit"),size:"sm",className:o==="Credit"?"bg-green-600 hover:bg-green-700":"",children:"Income Only"}),d.jsx(ve,{variant:o==="Debit"?"default":"outline",onClick:()=>c("Debit"),size:"sm",className:o==="Debit"?"bg-destructive hover:bg-destructive/90":"",children:"Expense Only"})]})]}),d.jsx(Fe,{children:d.jsx("div",{className:"rounded-md border",children:d.jsxs(Eu,{children:[d.jsx(Nu,{children:d.jsxs(Yn,{children:[d.jsx(gt,{children:"Date"}),d.jsx(gt,{children:"Type"}),d.jsx(gt,{children:"Entity"}),d.jsx(gt,{children:"Details"}),d.jsx(gt,{children:"Medium"}),d.jsx(gt,{className:"text-right",children:"Amount"})]})}),d.jsxs(Iu,{children:[h.map(y=>d.jsxs(Yn,{children:[d.jsx(rt,{className:"font-medium whitespace-nowrap",children:y.date}),d.jsx(rt,{children:d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:y.type})}),d.jsxs(rt,{children:[d.jsx("div",{className:"font-medium",children:y.customerName}),y.dealerName&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:["Dealer: ",y.dealerName]})]}),d.jsxs(rt,{children:[d.jsx("div",{className:"text-sm",children:y.carModel}),d.jsx("div",{className:"text-xs text-muted-foreground",children:y.notes||"No notes"})]}),d.jsx(rt,{className:"text-muted-foreground",children:y.medium}),d.jsxs(rt,{className:`text-right font-bold ${y.type==="Credit"?"text-green-600":"text-destructive"}`,children:[y.type==="Debit"?"-":"+","",y.amount]})]},y.id)),h.length===0&&d.jsx(Yn,{children:d.jsx(rt,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No financial records found matching your filters."})})]})]})})})]})}function moe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState(!1),{login:u}=ip(),h=ri();async function p(m){m.preventDefault();try{s(""),c(!0),await u(e,n),h("/")}catch(v){s("Failed to sign in. Please check your credentials."),console.error(v)}c(!1)}return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-background-dark p-4",children:d.jsxs(Fe,{className:"w-full max-w-md",children:[d.jsxs(Dt,{className:"space-y-1",children:[d.jsx(Rt,{className:"text-2xl font-bold",children:"Sign in"}),d.jsx(GA,{children:"Enter your email and password to access your account"})]}),d.jsx(ze,{children:d.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i&&d.jsxs("div",{className:"bg-destructive/15 text-destructive text-sm p-3 rounded-md flex items-center gap-2",children:[d.jsx(zA,{className:"h-4 w-4"}),i]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Email"}),d.jsx(X,{type:"email",placeholder:"m@example.com",value:e,onChange:m=>t(m.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Password"}),d.jsx(X,{type:"password",value:n,onChange:m=>r(m.target.value),required:!0})]}),d.jsx(ve,{className:"w-full",type:"submit",disabled:o,children:o?"Signing In...":"Sign In"})]})}),d.jsxs(KA,{className:"flex justify-center text-sm text-muted-foreground",children:["Don't have an account?",d.jsx(qo,{to:"/signup",className:"ml-1 text-primary hover:underline font-medium",children:"Sign up"})]})]})})}function goe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[i,s]=b.useState(""),[o,c]=b.useState(""),[u,h]=b.useState(""),[p,m]=b.useState(!1),{signup:v}=ip(),y=ri(),w="WestEast@9966";async function C(_){if(_.preventDefault(),h(""),n!==i)return h("Passwords do not match");if(o!==w)return h("Invalid Secret Code. You are not authorized to sign up.");try{m(!0),await v(e,n),y("/")}catch(k){h("Failed to create an account: "+k.message),m(!1)}}return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-background-dark p-4",children:d.jsxs(Fe,{className:"w-full max-w-md",children:[d.jsxs(Dt,{className:"space-y-1",children:[d.jsx(Rt,{className:"text-2xl font-bold",children:"Create an account"}),d.jsx(GA,{children:"Enter your details and the secret code to join"})]}),d.jsxs(ze,{children:[u&&d.jsxs("div",{className:"bg-destructive/15 text-destructive text-sm p-3 mb-4 rounded-md flex items-center gap-2",children:[d.jsx(zA,{className:"h-4 w-4"}),u]}),d.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Email"}),d.jsx(X,{type:"email",placeholder:"name@example.com",value:e,onChange:_=>t(_.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Password"}),d.jsx(X,{type:"password",value:n,onChange:_=>r(_.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Confirm Password"}),d.jsx(X,{type:"password",value:i,onChange:_=>s(_.target.value),required:!0})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-sm font-medium flex items-center gap-1",children:["Secret Unique Code ",d.jsx(hH,{size:12,className:"text-muted-foreground"})]}),d.jsx(X,{type:"password",placeholder:"Enter secret code",value:o,onChange:_=>c(_.target.value),required:!0})]}),d.jsx(ve,{className:"w-full",type:"submit",disabled:p,children:p?"Creating Account...":"Sign Up"})]})]}),d.jsxs(KA,{className:"flex justify-center text-sm text-muted-foreground",children:["Already have an account?",d.jsx(qo,{to:"/login",className:"ml-1 text-primary hover:underline font-medium",children:"Log in"})]})]})})}function voe({children:e}){const{currentUser:t}=ip();return t?e:d.jsx(R3,{to:"/login"})}function yoe(){return d.jsx($q,{children:d.jsx(WH,{children:d.jsxs(sF,{children:[d.jsxs(YS,{children:[d.jsx(On,{path:"/login",element:d.jsx(moe,{})}),d.jsx(On,{path:"/signup",element:d.jsx(goe,{})}),d.jsx(On,{path:"/*",element:d.jsx(voe,{children:d.jsx(qH,{children:d.jsxs(YS,{children:[d.jsx(On,{path:"/",element:d.jsx(Qae,{})}),d.jsx(On,{path:"/cars",element:d.jsx(Jae,{})}),d.jsx(On,{path:"/cars/:id",element:d.jsx(toe,{})}),d.jsx(On,{path:"/customers",element:d.jsx(ioe,{})}),d.jsx(On,{path:"/customers/:id",element:d.jsx(soe,{})}),d.jsx(On,{path:"/dealers",element:d.jsx(uoe,{})}),d.jsx(On,{path:"/dealers/:id",element:d.jsx(doe,{})}),d.jsx(On,{path:"/transactions",element:d.jsx(aoe,{})}),d.jsx(On,{path:"/financials",element:d.jsx(poe,{})}),d.jsx(On,{path:"/maintenance",element:d.jsx(hoe,{})})]})})})})]}),d.jsx(ooe,{})]})})})}class xoe extends t0.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,n){this.setState({error:t,errorInfo:n}),console.error("Uncaught error:",t,n)}render(){return this.state.hasError?d.jsxs("div",{style:{padding:"20px",fontFamily:"system-ui"},children:[d.jsx("h1",{style:{color:"red"},children:"Something went wrong."}),d.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),d.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}H4.createRoot(document.getElementById("root")).render(d.jsx(t0.StrictMode,{children:d.jsx(xoe,{children:d.jsx(yoe,{})})}));
