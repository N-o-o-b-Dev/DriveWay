import{c as oe,j as r,u as ce,a as Q,l as G,S as de,i as le,k as ue,B as A,F as me,I as N,P as he}from"./index-CY3grNaN.js";import{T as fe,a as ge,b as _,c as B,d as ye,e as O}from"./Table-ReX1Opzq.js";import{D as xe,P as be,S as we,V as w,T as h,p as ve}from"./react-pdf.browser-COupAn_t.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],je=oe("trash",pe),te=6048e5,De=864e5,V=Symbol.for("constructDateFrom");function M(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&V in n?n[V](e):n instanceof Date?new n.constructor(e):new Date(e)}function D(n,e){return M(e||n,n)}let Pe={};function R(){return Pe}function q(n,e){var d,l,y,u;const t=R(),a=(e==null?void 0:e.weekStartsOn)??((l=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(y=t.locale)==null?void 0:y.options)==null?void 0:u.weekStartsOn)??0,s=D(n,e==null?void 0:e.in),c=s.getDay(),i=(c<a?7:0)+c-a;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function L(n,e){return q(n,{...e,weekStartsOn:1})}function ne(n,e){const t=D(n,e==null?void 0:e.in),a=t.getFullYear(),s=M(t,0);s.setFullYear(a+1,0,4),s.setHours(0,0,0,0);const c=L(s),i=M(t,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const d=L(i);return t.getTime()>=c.getTime()?a+1:t.getTime()>=d.getTime()?a:a-1}function $(n){const e=D(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Me(n,...e){const t=M.bind(null,e.find(a=>typeof a=="object"));return e.map(t)}function J(n,e){const t=D(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function Se(n,e,t){const[a,s]=Me(t==null?void 0:t.in,n,e),c=J(a),i=J(s),d=+c-$(c),l=+i-$(i);return Math.round((d-l)/De)}function Ne(n,e){const t=ne(n,e),a=M(n,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),L(a)}function ke(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Te(n){return!(!ke(n)&&typeof n!="number"||isNaN(+D(n)))}function Ce(n,e){const t=D(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const Oe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fe=(n,e,t)=>{let a;const s=Oe[n];return typeof s=="string"?a=s:e===1?a=s.one:a=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function X(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const We={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Be={date:X({formats:We,defaultWidth:"full"}),time:X({formats:Ye,defaultWidth:"full"}),dateTime:X({formats:Ee,defaultWidth:"full"})},Ie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},He=(n,e,t,a)=>Ie[n];function I(n){return(e,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let s;if(a==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,d=t!=null&&t.width?String(t.width):i;s=n.formattingValues[d]||n.formattingValues[i]}else{const i=n.defaultWidth,d=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[d]||n.values[i]}const c=n.argumentCallback?n.argumentCallback(e):e;return s[c]}}const qe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ae={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Le={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Re={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xe=(n,e)=>{const t=Number(n),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},ze={ordinalNumber:Xe,era:I({values:qe,defaultWidth:"wide"}),quarter:I({values:Ae,defaultWidth:"wide",argumentCallback:n=>n-1}),month:I({values:Le,defaultWidth:"wide"}),day:I({values:Re,defaultWidth:"wide"}),dayPeriod:I({values:Qe,defaultWidth:"wide",formattingValues:_e,defaultFormattingWidth:"wide"})};function H(n){return(e,t={})=>{const a=t.width,s=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],c=e.match(s);if(!c)return null;const i=c[0],d=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(d)?Ve(d,x=>x.test(i)):Ge(d,x=>x.test(i));let y;y=n.valueCallback?n.valueCallback(l):l,y=t.valueCallback?t.valueCallback(y):y;const u=e.slice(i.length);return{value:y,rest:u}}}function Ge(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function Ve(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function $e(n){return(e,t={})=>{const a=e.match(n.matchPattern);if(!a)return null;const s=a[0],c=e.match(n.parsePattern);if(!c)return null;let i=n.valueCallback?n.valueCallback(c[0]):c[0];i=t.valueCallback?t.valueCallback(i):i;const d=e.slice(s.length);return{value:i,rest:d}}}const Je=/^(\d+)(th|st|nd|rd)?/i,Ue=/\d+/i,Ke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ze={any:[/^b/i,/^(a|c)/i]},et={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tt={any:[/1/i,/2/i,/3/i,/4/i]},nt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},at={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},st={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},it={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ot={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ct={ordinalNumber:$e({matchPattern:Je,parsePattern:Ue,valueCallback:n=>parseInt(n,10)}),era:H({matchPatterns:Ke,defaultMatchWidth:"wide",parsePatterns:Ze,defaultParseWidth:"any"}),quarter:H({matchPatterns:et,defaultMatchWidth:"wide",parsePatterns:tt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:H({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:at,defaultParseWidth:"any"}),day:H({matchPatterns:rt,defaultMatchWidth:"wide",parsePatterns:st,defaultParseWidth:"any"}),dayPeriod:H({matchPatterns:it,defaultMatchWidth:"any",parsePatterns:ot,defaultParseWidth:"any"})},dt={code:"en-US",formatDistance:Fe,formatLong:Be,formatRelative:He,localize:ze,match:ct,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lt(n,e){const t=D(n,e==null?void 0:e.in);return Se(t,Ce(t))+1}function ut(n,e){const t=D(n,e==null?void 0:e.in),a=+L(t)-+Ne(t);return Math.round(a/te)+1}function ae(n,e){var u,x,g,v;const t=D(n,e==null?void 0:e.in),a=t.getFullYear(),s=R(),c=(e==null?void 0:e.firstWeekContainsDate)??((x=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(g=s.locale)==null?void 0:g.options)==null?void 0:v.firstWeekContainsDate)??1,i=M((e==null?void 0:e.in)||n,0);i.setFullYear(a+1,0,c),i.setHours(0,0,0,0);const d=q(i,e),l=M((e==null?void 0:e.in)||n,0);l.setFullYear(a,0,c),l.setHours(0,0,0,0);const y=q(l,e);return+t>=+d?a+1:+t>=+y?a:a-1}function mt(n,e){var d,l,y,u;const t=R(),a=(e==null?void 0:e.firstWeekContainsDate)??((l=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(y=t.locale)==null?void 0:y.options)==null?void 0:u.firstWeekContainsDate)??1,s=ae(n,e),c=M((e==null?void 0:e.in)||n,0);return c.setFullYear(s,0,a),c.setHours(0,0,0,0),q(c,e)}function ht(n,e){const t=D(n,e==null?void 0:e.in),a=+q(t,e)-+mt(t,e);return Math.round(a/te)+1}function f(n,e){const t=n<0?"-":"",a=Math.abs(n).toString().padStart(e,"0");return t+a}const P={y(n,e){const t=n.getFullYear(),a=t>0?t:1-t;return f(e==="yy"?a%100:a,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):f(t+1,2)},d(n,e){return f(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return f(n.getHours()%12||12,e.length)},H(n,e){return f(n.getHours(),e.length)},m(n,e){return f(n.getMinutes(),e.length)},s(n,e){return f(n.getSeconds(),e.length)},S(n,e){const t=e.length,a=n.getMilliseconds(),s=Math.trunc(a*Math.pow(10,t-3));return f(s,e.length)}},F={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},U={G:function(n,e,t){const a=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const a=n.getFullYear(),s=a>0?a:1-a;return t.ordinalNumber(s,{unit:"year"})}return P.y(n,e)},Y:function(n,e,t,a){const s=ae(n,a),c=s>0?s:1-s;if(e==="YY"){const i=c%100;return f(i,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):f(c,e.length)},R:function(n,e){const t=ne(n);return f(t,e.length)},u:function(n,e){const t=n.getFullYear();return f(t,e.length)},Q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return f(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,e,t){const a=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return f(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,e,t){const a=n.getMonth();switch(e){case"M":case"MM":return P.M(n,e);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(n,e,t){const a=n.getMonth();switch(e){case"L":return String(a+1);case"LL":return f(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(n,e,t,a){const s=ht(n,a);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):f(s,e.length)},I:function(n,e,t){const a=ut(n);return e==="Io"?t.ordinalNumber(a,{unit:"week"}):f(a,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):P.d(n,e)},D:function(n,e,t){const a=lt(n);return e==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):f(a,e.length)},E:function(n,e,t){const a=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(n,e,t,a){const s=n.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return f(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,a){const s=n.getDay(),c=(s-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return f(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const a=n.getDay(),s=a===0?7:a;switch(e){case"i":return String(s);case"ii":return f(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const a=n.getHours();let s;switch(a===12?s=F.noon:a===0?s=F.midnight:s=a/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const a=n.getHours();let s;switch(a>=17?s=F.evening:a>=12?s=F.afternoon:a>=4?s=F.morning:s=F.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let a=n.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return P.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):P.H(n,e)},K:function(n,e,t){const a=n.getHours()%12;return e==="Ko"?t.ordinalNumber(a,{unit:"hour"}):f(a,e.length)},k:function(n,e,t){let a=n.getHours();return a===0&&(a=24),e==="ko"?t.ordinalNumber(a,{unit:"hour"}):f(a,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):P.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):P.s(n,e)},S:function(n,e){return P.S(n,e)},X:function(n,e,t){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return Z(a);case"XXXX":case"XX":return k(a);case"XXXXX":case"XXX":default:return k(a,":")}},x:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"x":return Z(a);case"xxxx":case"xx":return k(a);case"xxxxx":case"xxx":default:return k(a,":")}},O:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+K(a,":");case"OOOO":default:return"GMT"+k(a,":")}},z:function(n,e,t){const a=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+K(a,":");case"zzzz":default:return"GMT"+k(a,":")}},t:function(n,e,t){const a=Math.trunc(+n/1e3);return f(a,e.length)},T:function(n,e,t){return f(+n,e.length)}};function K(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),s=Math.trunc(a/60),c=a%60;return c===0?t+String(s):t+String(s)+e+f(c,2)}function Z(n,e){return n%60===0?(n>0?"-":"+")+f(Math.abs(n)/60,2):k(n,e)}function k(n,e=""){const t=n>0?"-":"+",a=Math.abs(n),s=f(Math.trunc(a/60),2),c=f(a%60,2);return t+s+e+c}const ee=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},re=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ft=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],a=t[1],s=t[2];if(!s)return ee(n,e);let c;switch(a){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",ee(a,e)).replace("{{time}}",re(s,e))},gt={p:re,P:ft},yt=/^D+$/,xt=/^Y+$/,bt=["D","DD","YY","YYYY"];function wt(n){return yt.test(n)}function vt(n){return xt.test(n)}function pt(n,e,t){const a=jt(n,e,t);if(console.warn(a),bt.includes(n))throw new RangeError(a)}function jt(n,e,t){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Dt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mt=/^'([^]*?)'?$/,St=/''/g,Nt=/[a-zA-Z]/;function z(n,e,t){var u,x,g,v;const a=R(),s=a.locale??dt,c=a.firstWeekContainsDate??((x=(u=a.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??1,i=a.weekStartsOn??((v=(g=a.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,d=D(n,t==null?void 0:t.in);if(!Te(d))throw new RangeError("Invalid time value");let l=e.match(Pt).map(p=>{const j=p[0];if(j==="p"||j==="P"){const W=gt[j];return W(p,s.formatLong)}return p}).join("").match(Dt).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const j=p[0];if(j==="'")return{isToken:!1,value:kt(p)};if(U[j])return{isToken:!0,value:p};if(j.match(Nt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(l=s.localize.preprocessor(d,l));const y={firstWeekContainsDate:c,weekStartsOn:i,locale:s};return l.map(p=>{if(!p.isToken)return p.value;const j=p.value;(vt(j)||wt(j))&&pt(j,e,String(n));const W=U[j[0]];return W(d,j,s.localize,y)}).join("")}function kt(n){const e=n.match(Mt);return e?e[1].replace(St,"'"):n}const m=we.create({page:{fontFamily:"Helvetica",fontSize:10,padding:30,flexDirection:"column",backgroundColor:"#FFFFFF"},header:{flexDirection:"row",justifyContent:"space-between",marginBottom:20,borderBottomWidth:2,borderBottomColor:"#D32F2F",paddingBottom:10},brandContainer:{flexDirection:"column"},brandName:{fontSize:24,fontFamily:"Helvetica-Bold",color:"#D32F2F",textTransform:"uppercase"},brandSubtitle:{fontSize:8,letterSpacing:2,color:"#000000",marginTop:2,textTransform:"uppercase"},invoiceInfoContainer:{flexDirection:"column",alignItems:"flex-end"},invoiceLabel:{fontSize:16,fontFamily:"Helvetica-Bold",color:"#000000",marginBottom:4},invoiceDetail:{fontSize:10,color:"#333333"},companyInfo:{marginBottom:20,color:"#555555"},sectionContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:20,gap:20},box:{flex:1,padding:10,backgroundColor:"#F9FAFB",borderLeftWidth:4,borderLeftColor:"#D32F2F",borderRadius:2},boxTitle:{fontFamily:"Helvetica-Bold",fontSize:10,marginBottom:5,textTransform:"uppercase",color:"#333333"},boxText:{fontSize:10,marginBottom:3,color:"#000000"},table:{flexDirection:"column",marginBottom:20,borderColor:"#E5E7EB",borderWidth:1},tableHeader:{flexDirection:"row",backgroundColor:"#D32F2F",color:"#FFFFFF",padding:8,fontFamily:"Helvetica-Bold"},tableRow:{flexDirection:"row",borderBottomColor:"#E5E7EB",borderBottomWidth:1,padding:8},colDesc:{flex:3},colQty:{flex:1,textAlign:"center"},colAmount:{flex:1,textAlign:"right"},totalContainer:{flexDirection:"row",justifyContent:"flex-end",marginBottom:40},totalBox:{width:"40%",padding:10},totalRow:{flexDirection:"row",justifyContent:"space-between",marginBottom:5},grandTotal:{flexDirection:"row",justifyContent:"space-between",marginTop:5,paddingTop:5,borderTopWidth:1,borderTopColor:"#000000",fontFamily:"Helvetica-Bold"},footer:{marginTop:"auto",flexDirection:"row",justifyContent:"space-between",paddingTop:20},signatureLine:{width:"40%",borderTopWidth:1,borderTopColor:"#000000",textAlign:"center",paddingTop:5,fontSize:8,color:"#555555"},thankYou:{textAlign:"center",fontSize:10,color:"#D32F2F",fontFamily:"Helvetica-Bold",marginTop:30}}),Tt=({data:n})=>{const{invoiceId:e,date:t,customerName:a,phone:s,address:c,vehicles:i=[],extraCharges:d=[],companyInfo:l={}}=n,y=i.reduce((g,v)=>g+v.rentDays*v.ratePerDay,0),u=d.reduce((g,v)=>g+v.amount,0),x=y+u;return r.jsx(xe,{children:r.jsxs(be,{size:"A4",style:m.page,children:[r.jsxs(w,{style:m.header,children:[r.jsxs(w,{style:m.brandContainer,children:[r.jsx(h,{style:m.brandName,children:"DRIVEWAY"}),r.jsx(h,{style:m.brandSubtitle,children:"Motors & Consultancy"})]}),r.jsxs(w,{style:m.invoiceInfoContainer,children:[r.jsx(h,{style:m.invoiceLabel,children:"INVOICE"}),r.jsxs(h,{style:m.invoiceDetail,children:["#",e]}),r.jsx(h,{style:m.invoiceDetail,children:z(new Date(t),"dd MMM yyyy")})]})]}),r.jsxs(w,{style:m.companyInfo,children:[r.jsx(h,{children:l.name||"DriveWay Motors"}),r.jsx(h,{children:l.address||"Address Line 1, City, State"}),r.jsxs(h,{children:["Phone: ",l.phone||"+91 0000000000"]})]}),r.jsx(w,{style:m.sectionContainer,children:r.jsxs(w,{style:m.box,children:[r.jsx(h,{style:m.boxTitle,children:"Bill To"}),r.jsx(h,{style:m.boxText,children:a}),s&&r.jsxs(h,{style:m.boxText,children:["Phone: ",s]}),c&&r.jsx(h,{style:m.boxText,children:c})]})}),r.jsxs(w,{style:m.table,children:[r.jsxs(w,{style:m.tableHeader,children:[r.jsx(h,{style:m.colDesc,children:"Description"}),r.jsx(h,{style:m.colQty,children:"Days/Qty"}),r.jsx(h,{style:m.colAmount,children:"Amount"})]}),i.map((g,v)=>r.jsxs(w,{style:m.tableRow,children:[r.jsxs(w,{style:m.colDesc,children:[r.jsxs(h,{style:{fontFamily:"Helvetica-Bold"},children:["Rental: ",g.vehicleModel]}),r.jsxs(h,{style:{fontSize:8,color:"#555"},children:["Reg: ",g.vehicleNo]}),r.jsxs(h,{style:{fontSize:8,color:"#555"},children:[z(new Date(g.startDate),"dd MMM")," - ",z(new Date(g.endDate),"dd MMM yyyy")]})]}),r.jsxs(w,{style:m.colQty,children:[r.jsx(h,{children:g.rentDays}),r.jsxs(h,{style:{fontSize:8,color:"#555"},children:["@ ",g.ratePerDay,"/day"]})]}),r.jsx(w,{style:m.colAmount,children:r.jsx(h,{children:(g.rentDays*g.ratePerDay).toLocaleString()})})]},`veh-${v}`)),d.map((g,v)=>r.jsxs(w,{style:m.tableRow,children:[r.jsx(h,{style:m.colDesc,children:g.description}),r.jsx(h,{style:m.colQty,children:"-"}),r.jsx(h,{style:m.colAmount,children:g.amount.toLocaleString()})]},`ext-${v}`))]}),r.jsx(w,{style:m.totalContainer,children:r.jsx(w,{style:m.totalBox,children:r.jsxs(w,{style:m.grandTotal,children:[r.jsx(h,{children:"Grand Total"}),r.jsxs(h,{children:["INR ",x.toLocaleString()]})]})})}),r.jsx(w,{style:m.thankYou,children:r.jsx(h,{children:"Thank you for your business!"})}),r.jsxs(w,{style:m.footer,children:[r.jsx(h,{style:m.signatureLine,children:"Authorized Signatory"}),r.jsx(h,{style:m.signatureLine,children:"Customer Signature"})]})]})})};function Wt({isOpen:n,onClose:e,transaction:t}){const{updateTransaction:a,cars:s,customers:c}=ce(),[i,d]=Q.useState({startDate:"",endDate:"",status:"",paymentStatus:"",notes:"",startMileage:"",payments:[],total:0}),[l,y]=Q.useState({amount:"",date:new Date().toISOString().slice(0,16),type:"Credit",medium:"Cash",notes:""}),u=t?s.find(o=>o.id===t.carId):null,x=t?c.find(o=>o.id===t.customerId):null;Q.useEffect(()=>{if(t){let o=t.payments||[];o.length===0&&t.amountPaid>0&&(o=[{id:G(),date:t.startDate,amount:t.amountPaid,type:"Credit",medium:"Cash",notes:"Initial Payment (Migrated)"}]),d({startDate:t.startDate,endDate:t.endDate,status:t.status,paymentStatus:t.paymentStatus||"Pending",notes:t.notes||"",startMileage:t.startMileage||"",payments:o,total:t.total||0})}},[t]);const g=i.payments.reduce((o,b)=>b.type==="Credit"?o+Number(b.amount):o-Number(b.amount),0),v=Math.max(0,(Number(i.total)||0)-g),p=(o,b)=>{if(!o||!b||!u)return 0;const T=new Date(o),Y=new Date(b),S=Math.abs(Y-T);return(Math.ceil(S/(1e3*60*60*24))||1)*(Number(u.price)||0)},j=()=>{if(!l.amount||!l.date)return;const o={id:G(),...l,amount:Number(l.amount)},b=[...i.payments,o],Y=b.reduce((S,C)=>C.type==="Credit"?S+Number(C.amount):S-Number(C.amount),0)>=(Number(i.total)||0)?"Paid":"Pending";d({...i,payments:b,paymentStatus:Y}),y({amount:"",date:new Date().toISOString().split("T")[0],type:"Credit",medium:"Cash",notes:""})},W=o=>{if(window.confirm("Delete this transaction record?")){const b=i.payments.filter(T=>T.id!==o);d({...i,payments:b})}},se=o=>{o.preventDefault(),a(t.id,{...i,amountPaid:g}),e()};return t?r.jsxs(de,{isOpen:n,onClose:e,children:[r.jsxs(le,{className:"flex flex-row items-center justify-between",children:[r.jsx(ue,{children:"Edit Transaction"}),r.jsxs(A,{size:"sm",variant:"outline",onClick:async()=>{const o=new Date(t.startDate),b=new Date(t.endDate),T=Math.abs(b-o),Y=Math.ceil(T/(1e3*60*60*24))||1,S={invoiceId:t.id.slice(0,8).toUpperCase(),date:new Date().toISOString(),customerName:(x==null?void 0:x.name)||"Guest",phone:(x==null?void 0:x.phone)||"",address:(x==null?void 0:x.address)||"",vehicles:[{vehicleModel:`${u==null?void 0:u.make} ${u==null?void 0:u.model}`,vehicleNo:(u==null?void 0:u.plateNumber)||"",startDate:t.startDate,endDate:t.endDate,rentDays:Y,ratePerDay:Number((u==null?void 0:u.price)||0)}],extraCharges:[]},C=await ve(r.jsx(Tt,{data:S})).toBlob(),ie=URL.createObjectURL(C),E=document.createElement("a");E.href=ie,E.download=`Invoice_${S.invoiceId}.pdf`,document.body.appendChild(E),E.click(),document.body.removeChild(E)},className:"flex items-center gap-2",children:[r.jsx(me,{className:"h-4 w-4"}),"Invoice (PDF)"]})]}),r.jsxs("div",{className:"mt-6 flex flex-col h-[calc(100vh-100px)] overflow-y-auto",children:[r.jsxs("div",{className:"mb-6 space-y-2",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Transaction ID: ",t.id]}),r.jsxs("p",{className:"font-medium",children:[u==null?void 0:u.make," ",u==null?void 0:u.model]}),r.jsx("p",{className:"text-sm",children:x==null?void 0:x.name})]}),r.jsxs("form",{id:"edit-transaction-form",onSubmit:se,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Start Date"}),r.jsx(N,{type:"datetime-local",value:i.startDate,onChange:o=>{const b=p(o.target.value,i.endDate);d({...i,startDate:o.target.value,total:b})},required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"End Date"}),r.jsx(N,{type:"datetime-local",value:i.endDate,onChange:o=>{const b=p(i.startDate,o.target.value);d({...i,endDate:o.target.value,total:b})},required:!0})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Start Mileage"}),r.jsx(N,{type:"number",value:i.startMileage,onChange:o=>d({...i,startMileage:o.target.value}),placeholder:"Starting mileage"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.status,onChange:o=>d({...i,status:o.target.value}),children:[r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Completed",children:"Completed"}),r.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Payment Status"}),r.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:bg-surface-dark dark:text-text-dark dark:border-surface",value:i.paymentStatus,onChange:o=>d({...i,paymentStatus:o.target.value}),children:[r.jsx("option",{value:"Pending",children:"Pending"}),r.jsx("option",{value:"Paid",children:"Paid"}),r.jsx("option",{value:"Pay on Arrival",children:"Pay on Arrival"})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-sm font-medium",children:"Notes"}),r.jsx(N,{placeholder:"Notes",value:i.notes,onChange:o=>d({...i,notes:o.target.value})})]})]}),r.jsxs("div",{className:"mt-8 space-y-4",children:[r.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Billing Section"}),r.jsxs("div",{className:"p-4 rounded-lg bg-muted/30 border space-y-4",children:[r.jsx("h4",{className:"text-sm font-medium",children:"Add Transaction"}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:l.type,onChange:o=>y({...l,type:o.target.value}),children:[r.jsx("option",{value:"Credit",children:"Credit (In)"}),r.jsx("option",{value:"Debit",children:"Debit (Out)"})]}),r.jsx(N,{type:"datetime-local",className:"h-9",value:l.date,onChange:o=>y({...l,date:o.target.value})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsx(N,{type:"number",placeholder:"Amount",className:"h-9",value:l.amount,onChange:o=>y({...l,amount:o.target.value})}),r.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:l.medium,onChange:o=>y({...l,medium:o.target.value}),children:[r.jsx("option",{value:"Cash",children:"Cash"}),r.jsx("option",{value:"UPI",children:"UPI"}),r.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),r.jsx("option",{value:"Card",children:"Card"})]})]}),r.jsx(N,{placeholder:"Description / Notes",className:"h-9",value:l.notes,onChange:o=>y({...l,notes:o.target.value})}),r.jsxs(A,{onClick:j,size:"sm",className:"w-full",disabled:!l.amount,children:[r.jsx(he,{className:"h-4 w-4 mr-2"})," Add Entry"]})]}),r.jsx("div",{className:"border rounded-md",children:r.jsxs(fe,{children:[r.jsx(ge,{children:r.jsxs(_,{children:[r.jsx(B,{className:"w-[80px]",children:"Sl No"}),r.jsx(B,{children:"Description"}),r.jsx(B,{children:"Credit/Debit"}),r.jsx(B,{children:"Amount"}),r.jsx(B,{})]})}),r.jsxs(ye,{children:[i.payments.map((o,b)=>r.jsxs(_,{children:[r.jsx(O,{className:"text-xs",children:b+1}),r.jsxs(O,{children:[r.jsx("div",{className:"text-sm font-medium",children:o.notes||"Payment"}),r.jsxs("div",{className:"text-[10px] text-muted-foreground",children:[o.date.split("T")[0]," • ",o.medium]})]}),r.jsx(O,{children:r.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${o.type==="Credit"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:o.type})}),r.jsxs(O,{className:"font-medium",children:["₹",o.amount]}),r.jsx(O,{children:r.jsx(A,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 text-destructive",onClick:()=>W(o.id),children:r.jsx(je,{className:"h-3 w-3"})})})]},o.id)),i.payments.length===0&&r.jsx(_,{children:r.jsx(O,{colSpan:4,className:"text-center text-muted-foreground text-xs py-4",children:"No transactions recorded"})})]})]})}),r.jsxs("div",{className:"p-4 rounded-lg bg-muted/50 space-y-2 border",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total Rental Cost"}),r.jsxs("span",{className:"font-bold",children:["₹",i.total]})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:"Total Paid (Credits - Debits)"}),r.jsxs("span",{className:"font-bold text-green-600",children:["₹",g]})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm pt-2 border-t",children:[r.jsx("span",{className:"font-medium",children:"Pending Balance"}),r.jsxs("span",{className:`font-bold ${v>0?"text-destructive":"text-green-600"}`,children:["₹",v]})]})]})]}),r.jsx("div",{className:"mt-auto pt-4 border-t bg-background sticky bottom-0",children:r.jsx(A,{type:"submit",form:"edit-transaction-form",className:"w-full",children:"Save Changes"})})]})]}):null}export{Wt as E,je as T};
